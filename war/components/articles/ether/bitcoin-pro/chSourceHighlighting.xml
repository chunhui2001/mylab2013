<?xml version="1.0" encoding="utf-8"?>
<c:component type="chSourceHighlighting" componentId="chSourceHighlighting_1" xmlns:c="http://com.snnmo.website">
  <c:abstract style="font-size:1em;line-height:1.6em;">
    <![CDATA[
<div style="margin-bottom:1em;">
比特币使用了公开密钥系统. 每一个钱币都包括了其拥有者的公开密匙。当钱币从用户A支付给用户B时, A将B的公开密匙添加到钱币中, 然后这个钱币又被A用私人密码匙来签封。B现在即拥有了这个钱币并且可以将来使用，而A就不可能再次使用这个钱币，因为以前的交易记录以被全体网络计算机收录维护。在每笔交易前，钱币的有效性都必须经过检验确认。
</div>
]]>
  </c:abstract>
  
  <c:entry style="margin-top:1em;">
    <c:title><![CDATA[<div style="color:blue;font-size:1.2em;">Connecting Bitcoin Nodes Via JSON RPC</div>]]></c:title>
    <c:desc>
      <c:desc1> <![CDATA[
<div style="margin-bottom:.425em;">
  万事开头难，做 bitcoin 开发最基础的事情可能是先有一个主网或测试网节点, 以下网站可以帮你创建一个主网或测试网节点<a href="https://blockdaemon.com/">点这</a>, 需要注册并登录。创建节点的时候选择 shard node 是免费的，需要绑定信用卡，扣1美元，以后一直免费用。
</div>
<div>
  <b style="font-size:1.2em;"><a href="https://blockdaemon.com/">Blockdaemon Bitcoin nodes</a></b> expose an RPC interface for connecting and interactions.
</div>
]]></c:desc1>
    </c:desc>
    <c:sourceContent type="html" title="Connecting:" id="sourceContent1"
                     titleStyle="padding-left:0;color:green;font-size:1em;background-color:white;font-size:1.2em;"
                     bodyStyle="background-color:white;padding:0;font-size:.625em;line-height:1em;font-family:monospace;">
      <![CDATA[
<div>
  <img style="width:100%;margin:auto;" 
    src="/images/ether/btc-dedicated-cURL-connect.jpeg" />
</div>
   ]]>
    </c:sourceContent>
    <c:sourceContent type="html" title="Command Line cURL" id="sourceContent1"
                     titleStyle="padding-left:0;color:green;font-size:1.425em;background-color:white;margin-top:1em;font-size:1.2em;"
                     bodyStyle="background-color:white;padding:0;font-size:1em;line-height:1.425em;font-family:monospace;">
      <![CDATA[
<div style="margin-bottom:.425em;">
The following describes how to run a simple cURL command that prints the current blockchain information from the node.
</div>
<div style="margin-bottom:.825em;">
The cURL command below can be used to retrieve the blockchain status of your node. Replace  <node endpoint> with your node's endpoint plus authorization token from the Connect page.
</div>
<div style="margin-bottom:.825em;">
  <img style="width:100%;margin:auto;" 
    src="/images/ether/btc-core-connect.jpeg" />
</div>
<div style="margin-bottom:.425em;">
节点创建完毕后可以通过以下命令测试节点是否正常。
</div>
   ]]>
    </c:sourceContent>
    <c:sourceContent type="" title="" id="sourceContent1"
                     titleStyle="padding-left:0;color:green;font-size:1.425em;background-color:white;margin-top:.25em;font-size:1.2em;"
                     bodyStyle="background-color:white;padding:0;font-size:1em;line-height:1.25em;font-family:monospace;">
      <![CDATA[
curl --user blockdaemon:blockdaemon \
     --data '{"method":"getblockchaininfo","params":[],"id":1,"jsonrpc":"2.0"}' \
     -H "Content-Type: application/json" -X POST https://<node endpoint>
   ]]>
    </c:sourceContent>

    <c:comment>
      <c:comment1>
        <![CDATA[]]>
      </c:comment1>
    </c:comment>
  </c:entry>


  
  <c:entry style="margin-top:1em;">
    <c:title><![CDATA[<div style="color:blue;font-size:1.2em;">How to Generate Bitcoin Addresses in Java</div>]]></c:title>
    <c:desc>
      <c:desc1> <![CDATA[
<div style="margin-bottom:.225em;">
用代码创建一个用于收取比特币的钱包地址, 有很多钱包软件可以通过私钥导入到比特币钱包中。
</div>]]></c:desc1>
    </c:desc>
    <c:sourceContent type="html" title="" id="sourceContent1"
                     titleStyle="padding-left:0;color:green;font-size:1em;background-color:white;font-size:1.2em;"
                     bodyStyle="background-color:white;padding:0;font-size:.825em;line-height:1.825em;font-family:monospace;">
      <![CDATA[
<div>
下面这篇描述了生成一个比特币钱包地址的详细步骤, 遗憾的是实际生成的地址并不可用, 但是可以将这篇文章作为理论参考: 
</div>
<div style="margin-bottom:.225em;">
<a href="https://www.novixys.com/blog/generate-bitcoin-addresses-java/">https://www.novixys.com/blog/generate-bitcoin-addresses-java/</a>
</div>

<div style="margin-bottom:.225em;">
为此我在 github 上找到了一个专门用于生成比特币地址的 java 桌面工具: <a href="https://github.com/MrMaxweII/Bitcoin-Address-Generator/releases/download/V3.1.0/CoinAddressGeneratorV3.1.0.jar">点这下载该工具</a> 
</div>
<div style="margin-bottom:.225em;">
该工具源码里支持所有主流加密货币的钱包地址生成,甚至包括以太坊地址: BTC, BCH, BSV, LTC, BCH-T, BSV-T, BTC-T, LTC-T (-T代表的是对应的测试网地址)
</div>
<div style="margin-bottom:.225em;">
虽然是一个桌面程序，但是可以直接复制里边的核心代码，集成到自己的项目中用于生成钱包地址，工具界面截图: 
</div>
<div style="margin-bottom:.225em;">
<img style="width:100%;margin:auto;" 
    src="/images/ether/7FA13A66-5BFA-4325-9B43-35880D48697D.png" />
</div>
   ]]>
    </c:sourceContent>
    <c:sourceContent type="html" title="" id="sourceContent1"
                     titleStyle="padding-left:0;color:green;font-size:1.425em;background-color:white;margin-top:1.5em;font-size:1.2em;"
                     bodyStyle="background-color:white;padding:0;font-size:1em;line-height:1.325em;font-family:monospace;margin-top:1.25em;">
      <![CDATA[
<div style="margin-bottom:.225em;">
抄袭代码后可以通过以下链接验证你的地址是否真正有效: 
</div>
<div style="margin-bottom:.225em;">
<b>BCH:</b> <span style="color:green;">https://blockchair.com/bitcoin-cash/address/这里替换你生成的地址</span>
</div>
<div style="margin-bottom:.225em;">
<b>BSV:</b> <span style="color:green;">https://blockchair.com/bitcoin-sv/address/这里替换你生成的地址</span>
</div>
<div style="margin-bottom:.225em;">
<b>BTC:</b> <span style="color:green;">https://www.blockchain.com/btc/address/这里替换你生成的地址</span>
</div>
<div style="margin-bottom:.625em;">
<b>LTC:</b> <span style="color:green;">https://blockchair.com/litecoin/address/这里替换你生成的地址</span>
</div>
<div style="margin-bottom:.225em;">
以下是一个正确的主网地址打开后的截图: <b style="color:red;">12zeCvN7zbAi3JDQhC8tU3DBm35kDEUNiB</b>
</div>
<div style="margin-bottom:.225em;">
<img style="width:100%;margin:auto;" 
    src="/images/ether/BE580030-C69A-4707-AE6C-4B3F3A09CB52.png" />
</div>
<div style="margin-bottom:.225em;">
也可以直接查询地址余额: <br /> 
<b style="color:red;">https://api.blockchair.com/bitcoin-cash/dashboards/address/12zeCvN7zbAi3JDQhC8tU3DBm35kDEUNiB</b>
</div>
   ]]>
    </c:sourceContent>
    <c:comment>
      <c:comment1>
        <![CDATA[]]>
      </c:comment1>
    </c:comment>
  </c:entry>

  <c:entry style="margin-top:.5em;">
    <c:title><![CDATA[<div style="color:blue;font-size:1.2em;">比特币测试币</div>]]></c:title>
    <c:desc>
      <c:desc1> <![CDATA[]]></c:desc1>
    </c:desc>
    <c:sourceContent type="html" title="" id="sourceContent1"
                     titleStyle="padding-left:0;color:green;font-size:1em;background-color:white;font-size:1.2em;"
                     bodyStyle="background-color:white;padding:0;font-size:.85em;line-height:1.45em;font-family:monospace;">
      <![CDATA[
<h5>目前支持对testnet中的交易进行查询的网站有: </h5>
<ul style="margin-top:.325em;list-style: disc;margin-left: 1.5em;">
  <li>Blockchain.info Testnet Explorer</li>
  <li>Bitcoin Testnet on Blockr.io</li>
  <li>Bitcoin Testnet on insight.bitpay.com</li>
  <li>BlockTrail Testnet Explorer, Testnet API and Testnet Faucet</li>
  <li>BlockCypher Testnet Explorer(推荐)</li>
</ul>
<h5 style="margin-top:.825em;">获取测试币: </h5>
<div style="margin-top:.325em;">
  这里选择的是 <b>https://coinfaucet.eu/en/btc-testnet/</b>，打开网站后，填入你的比特币地址，即可获得网站站主给予你的一定数量的测试用币。
</div>
   ]]>
    </c:sourceContent>
    <c:sourceContent type="" title="创建你自己的测试网节点 bitcoin-testnet-box" id="sourceContent1"
                     titleStyle="padding-left:0;color:green;font-size:1.425em;background-color:white;margin-top:1em;font-size:1.2em;"
                     bodyStyle="background-color:white;padding:0;font-size:1em;line-height:1.25em;font-family:monospace;">
      <![CDATA[
$ git clone git@github.com:freewil/bitcoin-testnet-box.git
   ]]>
    </c:sourceContent>
    <c:sourceContent type="" title="Dockerfile" id="sourceContent1"
                     titleStyle="margin:1em 0 0 0;padding:0;color:green;font-size:1.425em;background-color:white;font-size:1.2em;"
                     bodyStyle="background-color:white;padding:0;font-size:.425em;line-height:1.25em;margin-top:.62em;">
      <![CDATA[
# chunhui2001/bitcoin-testnet-box
# Version 0.0.1
FROM ubuntu
MAINTAINER Chunhui.Zhang "chunhui2001@gmail.com"

# install make
RUN apt-get update && \
  apt-get install --yes make wget curl vim build-essential lsb-release net-tools iputils-ping apt-utils

# create a non-root user
RUN adduser --disabled-login --gecos "" tester

# run following commands from user's home directory
WORKDIR /home/tester

ENV BITCOIN_CORE_VERSION "0.21.0"

# download and install bitcoin binaries
RUN mkdir tmp \
  && cd tmp \
  && wget "https://bitcoincore.org/bin/bitcoin-core-${BITCOIN_CORE_VERSION}/bitcoin-${BITCOIN_CORE_VERSION}-x86_64-linux-gnu.tar.gz" \
  && tar xzf "bitcoin-${BITCOIN_CORE_VERSION}-x86_64-linux-gnu.tar.gz" \
  && cd "bitcoin-${BITCOIN_CORE_VERSION}/bin" \
  && install --mode 755 --target-directory /usr/local/bin *

# clean up
RUN rm -r tmp

# copy the testnet-box files into the image
ADD . /home/tester/bitcoin-testnet-box

# make tester user own the bitcoin-testnet-box
RUN chown -R tester:tester /home/tester/bitcoin-testnet-box

# color PS1
RUN mv /home/tester/bitcoin-testnet-box/.bashrc /home/tester/ && \
  cat /home/tester/.bashrc >> /etc/bash.bashrc

# use the tester user when running the image
USER tester

# run commands from inside the testnet-box directory
WORKDIR /home/tester/bitcoin-testnet-box

# expose two rpc ports for the nodes to allow outside container access
EXPOSE 19001 19011
CMD ["/bin/bash", "-c", "while true; do echo 1 >/dev/null 2>/dev/null; sleep 1; done"]

# docker build . -t 'chunhui2001/bitcoin-testnet-box'
# docker push chunhui2001/bitcoin-testnet-box
# docker pull chunhui2001/bitcoin-testnet-box

   ]]>
    </c:sourceContent>
    <c:sourceContent type="" title="" id="sourceContent1"
                     titleStyle="padding-left:0;color:green;font-size:1.425em;background-color:white;margin-top:1em;font-size:1.2em;"
                     bodyStyle="background-color:white;padding:0;font-size:1em;line-height:1.25em;font-family:monospace;">
      <![CDATA[
##########################
### docker-compose.yml ###
##########################
version: '2.4'
networks:
    br0:
      external: true

services:
  bitcoin-testnet-box:
    container_name: bitcoin-testnet-box
    image: chunhui2001/bitcoin-testnet-box
    hostname: bitcoin-testnet-box
    mem_limit: 300m
    command: ["/bin/bash", "-c", "while true; do echo 1 >/dev/null 2>/dev/null; sleep 1; done"]
    ports:
      - 19001:19001
      - 19011:19011
    restart: always
    networks:
      br0:
        ipv4_address: 172.16.197.226

   ]]>
    </c:sourceContent>
    <c:sourceContent type="html" title="" id="sourceContent1"
                     titleStyle="padding-left:0;color:green;font-size:1.425em;background-color:white;margin-top:1em;font-size:1.2em;"
                     bodyStyle="background-color:white;padding:0;font-size:1em;line-height:1.25em;margin-top:1.2em;">
      <![CDATA[
<div>
  The docker image will run two bitcoin nodes in the background and is meant to be attached to allow you to type in commands. The image also exposes the two JSON-RPC ports from the nodes if you want to be able to access them from outside the container.
</div>
<div style="margin-top:.625em;">
  This will start up two nodes using the two datadirs <b>1</b> and <b>2</b>. They will only connect to each other in order to remain an isolated private testnet. Two nodes are provided, as one is used to generate blocks and it's balance will be increased as this occurs (imitating a miner). You may want a second node where this behavior is not observed.
</div>
<ul style="margin-top:.325em;list-style: disc;margin-left: 1.5em;">
  <li><b>Node 1</b> will listen on port 19000, allowing <b>node 2</b> to connect to it.</li>
  <li><b>Node 1</b> will listen on port 19001 and <b>node 2</b> will listen on port 19011 for the JSON-RPC server.</li>
</ul>
   ]]>
    </c:sourceContent>
    <c:sourceContent type="" title="Makefile" id="sourceContent1"
                     titleStyle="margin:1em 0 0 0;padding:0;color:green;font-size:1.425em;background-color:white;font-size:1.2em;"
                     bodyStyle="background-color:white;padding:0;font-size:.425em;line-height:1.25em;margin-top:.62em;">
      <![CDATA[
BITCOIND=bitcoind
BITCOINGUI=bitcoin-qt
BITCOINCLI=bitcoin-cli
B1_FLAGS=
B2_FLAGS=
B1=-datadir=1 $(B1_FLAGS)
B2=-datadir=2 $(B2_FLAGS)
BLOCKS=1
ADDRESS=
AMOUNT=
ACCOUNT=
start:
  $(BITCOIND) $(B1) -daemon
  $(BITCOIND) $(B2) -daemon
start-gui:
  $(BITCOINGUI) $(B1) &
  $(BITCOINGUI) $(B2) &
### To generate a block:
### To generate more than 1 block: 
# >> make generate BLOCKS=10
generate:
  $(BITCOINCLI) $(B1) -generate $(BLOCKS)
#### Check the status of the nodes
getinfo:
  $(BITCOINCLI) $(B1) -getinfo
  $(BITCOINCLI) $(B2) -getinfo
getinfo2:
      curl --user admin1:123 \
      --data-binary '{"jsonrpc": "1.0", "id": "curltest", "method": "getblockchaininfo", "params": []}' \
      -H 'content-type: text/plain;' http://127.0.0.1:19001/
### Sending bitcoins
sendfrom1:
  $(BITCOINCLI) $(B1) sendtoaddress $(ADDRESS) $(AMOUNT)
sendfrom2:
  $(BITCOINCLI) $(B2) sendtoaddress $(ADDRESS) $(AMOUNT)
### 列出所有钱包
listwallets1:
  $(BITCOINCLI) $(B1) listwallets
listwallets2:
  $(BITCOINCLI) $(B2) listwallets
### 根据地址查询账户
# >> make getaccount1 ADDRESS=1D1ZrZNe3JUo7ZycKEYQQiQAWd9y54F4XX
getaccount1:
  $(BITCOINCLI) $(B1) getaccount $(ADDRESS)
getaccount2:
  $(BITCOINCLI) $(B1) getaccount $(ADDRESS)
### 创建钱包 
# >> make wallet1 WALLET_NAME=chunhui.zhang.wallet1
create_wallet1:
  $(BITCOINCLI) $(B1) createwallet $(WALLET_NAME)
create_wallet2:
  $(BITCOINCLI) $(B2) createwallet $(WALLET_NAME)
### Generate a wallet address for the first wallet
create_address1:
  $(BITCOINCLI) $(B1) getnewaddress $(ACCOUNT)
### Generate a wallet address for the second wallet
create_address2:
  $(BITCOINCLI) $(B2) getnewaddress $(ACCOUNT)
stop:
  $(BITCOINCLI) $(B1) stop
  $(BITCOINCLI) $(B2) stop
clean:
  find 1/regtest/* -not -name 'server.*' -delete
  find 2/regtest/* -not -name 'server.*' -delete
docker-build:
  docker build --tag bitcoin-testnet-box .
docker-run:
  docker run -ti bitcoin-testnet-box

   ]]>
    </c:sourceContent>
    <c:comment>
      <c:comment1>
        <![CDATA[]]>
      </c:comment1>
    </c:comment>
  </c:entry>
  
  <c:entry style="margin-top:1em;">
    <c:title><![CDATA[<div style="color:blue;font-size:1.2em;">Original Bitcoin client/API calls list</div>]]></c:title>
    <c:desc>
      <c:desc1> <![CDATA[JSONRPC 接口列表 <a href="https://en.bitcoin.it/wiki/Original_Bitcoin_client/API_calls_list">https://en.bitcoin.it/wiki/Original_Bitcoin_client/API_calls_list</a>]]></c:desc1>
    </c:desc>
    <c:sourceContent type="html" title="" id="sourceContent1"
                     titleStyle="padding-left:0;color:green;font-size:1em;background-color:white;font-size:1.2em;"
                     bodyStyle="background-color:white;padding:0;font-size:.625em;line-height:1em;font-family:monospace;">
      <![CDATA[

   ]]>
    </c:sourceContent>
    <c:sourceContent type="html" title="" id="sourceContent1"
                     titleStyle="padding-left:0;color:green;font-size:1.425em;background-color:white;margin-top:1em;font-size:1.2em;"
                     bodyStyle="background-color:white;padding:0;font-size:1em;line-height:1.25em;font-family:monospace;">
      <![CDATA[

   ]]>
    </c:sourceContent>
    <c:comment>
      <c:comment1>
        <![CDATA[]]>
      </c:comment1>
    </c:comment>
  </c:entry>

  
  <c:entry style="margin-top:1em;">
    <c:title><![CDATA[<div style="color:blue;font-size:1.2em;">Mastering Bitcoin</div>]]></c:title>
    <c:desc>
      <c:desc1> <![CDATA[一本电子书: <a href="https://www.oreilly.com/library/view/mastering-bitcoin/9781491902639/ch01.html">https://www.oreilly.com/library/view/mastering-bitcoin/9781491902639/ch01.html</a>]]></c:desc1>
    </c:desc>
    <c:sourceContent type="html" title="" id="sourceContent1"
                     titleStyle="padding-left:0;color:green;font-size:1em;background-color:white;font-size:1.2em;"
                     bodyStyle="background-color:white;padding:0;font-size:.625em;line-height:1em;font-family:monospace;">
      <![CDATA[

   ]]>
    </c:sourceContent>
    <c:sourceContent type="html" title="" id="sourceContent1"
                     titleStyle="padding-left:0;color:green;font-size:1.425em;background-color:white;margin-top:1em;font-size:1.2em;"
                     bodyStyle="background-color:white;padding:0;font-size:1em;line-height:2.625em;font-family:monospace;">
      <![CDATA[
<span style="color:green;font-size:2em;">未完待叙述。。。</span>
   ]]>
    </c:sourceContent>
    <c:comment>
      <c:comment1>
        <![CDATA[]]>
      </c:comment1>
    </c:comment>
  </c:entry>

  


</c:component>
