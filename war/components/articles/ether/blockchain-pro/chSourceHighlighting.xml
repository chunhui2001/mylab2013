<?xml version="1.0" encoding="utf-8"?>
<c:component type="chSourceHighlighting" componentId="chSourceHighlighting_1" xmlns:c="http://com.snnmo.website">
  <c:abstract style="font-size:1em;line-height:1.6em;">
    <![CDATA[
<div>
This article offers a comprehensive view on the best Ethereum development tools with their core features and probable alternate options.
</div>
<div style="margin-top:.325em;">
If you’re embarking on your journey to develop dApps or smart contracts, Ethereum development tools are your best friends. These development tools come with a plethora of functionalities and features that help you automate a lot of your development efforts.
</div>
<div style="margin-top:.325em;">
As you can guess, your smart contract or dApp development efforts are not limited to coding and deploying only. You’ll need a dependable debugging tool, libraries, an API, a testnet, and many other things. Only with the best Ethereum development tools, you can have a smooth development cycle for your dApp.
</div>
<div style="margin-top:.325em;">
That brings us to the topic at hand today — the best Ethereum development tools. This article will take a step-by-step approach to help you with the top Ethereum development tools based on their core purposes.
</div>
]]>
  </c:abstract>
  
  <c:entry style="margin-top:1em;">
    <c:title><![CDATA[<div style="color:blue;font-size:1.2em;">Best Ethereum Development Tools 2021</div>]]></c:title>
    <c:desc>
      <c:desc1> <![CDATA[
<img width="100%" src="/images/ether/10-best-ethereum-development-tools.webp" />
]]></c:desc1>
    </c:desc>
    <c:sourceContent type="html" title="Truffle – Development and Deployment Framework" id="sourceContent1"
                     titleStyle="padding-left:0;color:green;font-size:1em;background-color:white;font-size:1.6em;"
                     bodyStyle="background-color:white;padding:0;font-size:1.2em;line-height:1.45em;font-family:monospace;">
      <![CDATA[
<div>
Truffle, the development framework, is certainly one of the best Ethereum Development tools for developing and deploying Ethereum applications. In layman language, you could create projects, code and compile smart contracts, run automated tests, migrate, and interact with the contract. So, Truffle is offering a complete ecosystem for your dApp development efforts.
</div>
<div style="margin-top:.325em;">
One of the more appealing features of Truffle is that it can perform the automated tests both in JavaScript and Solidity. This could help you tremendously if you excel in JavaScript. Plus, Truffle supports both Mocha and Chai test frameworks.
</div>
<div style="margin-top:.325em;">
The deployment efforts need your smart contracts to connect to a blockchain network. Truffle offers a personal blockchain that you could store on your local device that doesn’t interact with the Ethereum network. This feature gives you headroom to tweak your projects as per your needs. Furthermore, it acknowledges that your contracts may update or evolve over time and accepts manageable deployment and migration scripts.
</div>
<div style="margin-top:.325em;">
As you can see, Truffle is a robust development framework that considers all sorts of practical deployment scenarios and issues. All of these features surely save an Ethereum developer from a plethora of troubles.
</div>
   ]]>
    </c:sourceContent>
    <c:sourceContent type="html" title="MetaMask – Token Wallet and dApp Gateway" id="sourceContent1"
                     titleStyle="padding-left:0;color:green;font-size:1em;background-color:white;font-size:1.6em;margin-top:1em;"
                     bodyStyle="background-color:white;padding:0;font-size:1.2em;line-height:1.45em;font-family:monospace;">
      <![CDATA[
<div>
MetaMask has gained much traction among the common users over the last few years. Simplicity and convenience are the two pillars that made it one of the most popular Ethereum development tools.
</div>
<div style="margin-top:.325em;">
Essentially, MetaMask is an Ethereum wallet and a blockchain application gateway that functions as a web browser extension (it also has a mobile app). So, everyone can add this handy little extension on their computer or mobile browsers, including — Chrome, Firefox, Opera, Brave, and others.
</div>
<div style="margin-top:.325em;">
MetaMask offers key vault, login security, token wallet, and exchange facilities — all in one package. Moreover, users can browse and connect with the blockchain applications without jeopardizing their security and privacy.
</div>
<div style="margin-top:.325em;">
How is this user-centric tool bring value to the Ethereum developers? Due to the simplistic nature of this app, MetaMask has become the go-to token wallet for both veterans and newcomers. Ethereum developers can showcase their applications to a large audience through MetaMask support. So, if you’re an Ethereum developer aiming to increase user interaction for your distributed app, you need to consider adding MetaMask to your development efforts.
</div>
   ]]>
    </c:sourceContent>
    <c:sourceContent type="html" title="Ganache – Personal Blockchain With A Robust Command-Line Tool" id="sourceContent1"
                     titleStyle="padding-left:0;color:green;font-size:1em;background-color:white;font-size:1.6em;margin-top:1em;"
                     bodyStyle="background-color:white;padding:0;font-size:1.2em;line-height:1.45em;font-family:monospace;">
      <![CDATA[
<div>
When it comes to Ethereum dApp testing, very few top Ethereum development tools come even close to the functionality of Ganache. Ganache gives you a personal blockchain to run on your local device that you can use throughout the development cycle.
</div>
<div style="margin-top:.325em;">
It helps to develop, test, and deploy your Ethereum smart contracts in a safer environment. So, you can tweak or troubleshoot any issue without connecting to any public testnet or mainnet.
</div>
<div style="margin-top:.325em;">
Ganache has two components — Ganache UI and Ganache CLI. Ganache CLI is the command-line tool that you’d be using for Ethereum development. This CLI was previously known as TestRPC. TruffleSuite later acquired TestRPC and gave it a new name — Ganache CLI. How does Ganache CLI work and what does it do?
</div>
<div style="margin-top:.325em;">
The command line incorporates ethereumjs for client behavior simulation with all kinds of RPC functionalities. Developers can develop and test their codes to determine what is working and what is not.
</div>
<div style="margin-top:.325em;">
Ganache UI, on the other hand, serves as the visual interface for the CLI. You could think of it as the built-in block explorer giving you insight and analytics of the internal blockchain.
</div>
<div style="margin-top:.325em;">
As writing codes on Ethereum blockchain (mainnet) requires Ether, you should test your dApp in a personal or internal blockchain first for tweaking and troubleshooting. This is why Ganache is one of the most popular Ethereum development tools.
</div>
   ]]>
    </c:sourceContent>
    <c:sourceContent type="html" title="OpenZeppelin" id="sourceContent1"
                     titleStyle="padding-left:0;color:green;font-size:1em;background-color:white;font-size:1.6em;margin-top:1em;"
                     bodyStyle="background-color:white;padding:0;font-size:1.2em;line-height:1.45em;font-family:monospace;">
      <![CDATA[

<div style="font-size:1.2em;">
<a href="https://github.com/OpenZeppelin">https://github.com/OpenZeppelin</a>
</div>
   ]]>
    </c:sourceContent>

    <c:sourceContent type="html" title="Remix IDE – Compiling and Debugging Tool Working on Browsers" id="sourceContent1"
                     titleStyle="padding-left:0;color:green;font-size:1em;background-color:white;font-size:1.6em;margin-top:1em;"
                     bodyStyle="background-color:white;padding:0;font-size:1.2em;line-height:1.45em;font-family:monospace;">
      <![CDATA[
<div>
<a href="https://remix.ethereum.org/">https://remix.ethereum.org/</a>
</div>
<div style="margin-top:.325em;">
If you’re looking for a solid compiling and debugging tool for smart contract development, Remix IDE is one of the best Ethereum Development tools for you. Essentially, Remix IDE is an open-source JavaScript-based compiler that lets you code directly from your web browser. Of course, it has a separate desktop application also.
</div>
<div style="margin-top:.325em;">
Unlike many other Ethereum development tools, Remix takes a direct approach, maybe a bit too direct! Their website directly lands you in the compiler. That’s why many users, especially new developers, complain about the user-friendliness of the website.
</div>
<div style="margin-top:.325em;">
However, remix outshines others with its rich collection of plug-ins and libraries. Remix Project address these utility tools as — Remix Plugin Engine and Remix Libs, respectively. Another noteworthy feature of Remix IDE is that it debugs your code in real-time while you’re writing them.
</div>
<div style="margin-top:.325em;">
The straightforward approach for developing smart contracts in Solidity from the browser makes Remix one of the top Ethereum development tools.
</div>
   ]]>
    </c:sourceContent>

    <c:sourceContent type="html" title="Geth – Ethereum CLI Client Based on Go" id="sourceContent1"
                     titleStyle="padding-left:0;color:green;font-size:1em;background-color:white;font-size:1.6em;margin-top:1em;"
                     bodyStyle="background-color:white;padding:0;font-size:1.2em;line-height:1.45em;font-family:monospace;">
      <![CDATA[
<div>
Geth is by far one of the best Ethereum development tools that is a CLI client to implement Go Ethereum as the blockchain protocol. Basically, it is a command-line interface that can run as a full node, archive node, or light node. Geth serves as a wallet to store Ether, make transactions, deploy smart contracts — anything that Mist (deprecated) could do.
</div>
<div style="margin-top:.325em;">
But Geth became a superior option compared to Mist, as it can also mine Ether and serve as a gateway to the Ethereum network through JSON RPC endpoints over HTTP.
</div>
<div style="margin-top:.325em;">
These two additional features are extremely lucrative to the developers and caused the obsoletion of Mist. There is another strong reason behind the popularity of Geth — developers want to interact with the Ethereum mainnet and Geth serves that purpose perfectly.
</div>
   ]]>
    </c:sourceContent>

    <c:sourceContent type="html" title="Parity – A Rust-based Ethereum Client" id="sourceContent1"
                     titleStyle="padding-left:0;color:green;font-size:1em;background-color:white;font-size:1.6em;margin-top:1em;"
                     bodyStyle="background-color:white;padding:0;font-size:1.2em;line-height:1.45em;font-family:monospace;">
      <![CDATA[
<div>
Just like Geth, Parity is one of the most popular Ethereum development tools and both of these tools serve the same purposes — an Ethereum client. The main difference between Geth and Parity is that Parity is written in Rust. While it’s hard to compare Go and Rust, as they both are remarkable languages, Rust is a bit ahead due to its memory management and higher performance. So, Parity is inherently faster than Geth (slightly).
</div>
<div style="margin-top:.325em;">
Parity incorporates three core technologies — Polkadot, Substrate, and Parity Signer. Substrate is the blockchain development framework that uses WebAssembly runtime architecture and Libp2p networking. Substrate uses Rust for primary implementation and JavaScript for secondary implementation. So, you’ll be getting speed, reliability, and developability — all in one package.
</div>
<div style="margin-top:.325em;">
Polkadot, the second pillar of Parity is the cross-blockchain communication client. You can even transfer data from a public blockchain to a private one — offering a true multi-chain environment. The unique feature of Polkadot is that you can even transfer arbitrary data, apart from tokens, across blockchains. Due to the superior interoperability, you’ll get improved economic and transactional scalability to help you scale Ethereum dApps.
</div>
<div style="margin-top:.325em;">
The third pillar of Parity is the Parity Signer. This is an offline wallet that you can use on your mobile.
</div>
<div style="margin-top:.325em;">
However, most developers using Parity only to the veteran developers as Parity is a bit complicated compared to Go. Plus, the installation process is a hassle. In simpler terms, stick with Geth if you’re a newcomer in the development world and use Parity if you think you’re competent enough.
</div>
   ]]>
    </c:sourceContent>

    <c:sourceContent type="html" title="Ethers.js – Ethereum Library Ecosystem" id="sourceContent1"
                     titleStyle="padding-left:0;color:green;font-size:1em;background-color:white;font-size:1.6em;margin-top:1em;"
                     bodyStyle="background-color:white;padding:0;font-size:1.2em;line-height:1.45em;font-family:monospace;">
      <![CDATA[
<div>
Ethers.js is one of the most complete and compact Ethereum library ecosystem, making it one of the most popular Ethereum development tools. Initially, ethers.js was designed for ethers.io — a wallet and dApp browser. But with time, the library has expanded extensively and now used as a general-purpose Ethereum library.
</div>
<div style="margin-top:.325em;">
Previously, web3.js was the number one Ethereum library but ethers.js has surpassed it with the rich features and usability. It works perfectly with the popular JSON wallets, such as — Geth, Parity, and Crowdsale. And able to connect to common Ethereum nodes, such as — MetaMask, Infura API, JSON-RPC, Alchemy, or Etherscan.
</div>
<div style="margin-top:.325em;">
However, the tiny 104kb size and the completeness make ethers.js the best-in-class library ecosystem. It also has an MIT license for including all dependencies.
</div>
<div style="margin-top:.325em;">
One of the strongest features of ethers.js is that allows you to export and import BIP 39 mnemonic phrases and HD wallets. Also, ethers.js is always updating the test cases collections. This library is fully TypeScript ready that definition files and complete TypeScript sources.
</div>
<div style="margin-top:.325em;">
In short, ethers.js is one of the best Ethereum development tools that you must need for your development efforts.
</div>
   ]]>
    </c:sourceContent>

    <c:sourceContent type="html" title="Infura – API" id="sourceContent1"
                     titleStyle="padding-left:0;color:green;font-size:1em;background-color:white;font-size:1.6em;margin-top:1em;"
                     bodyStyle="background-color:white;padding:0;font-size:1.2em;line-height:1.45em;font-family:monospace;">
      <![CDATA[
<div>
Coming from Consensys, Infura is an API access for Ethereum and IPFS networks. As you know, any application that is connected to a server, uses an API working as an intermediary between the application and the server. As we are essentially using Web 3.0 with Ethereum applications, we need a new breed of APIs.
</div>
<div style="margin-top:.325em;">
Among all the Ethereum APIs out there, web3.js and Infura API are two of the best options. But Infura beats web3.js in several decision-making criteria. It supports JSON-RPC over HTTPS and WebSocket with instant access.
</div>
<div style="margin-top:.325em;">
This means you’ll not have to spend your precious time building an infrastructure from the ground up. That’s why many refer to Infura as an Infrastructure-as-a-service. About 60% of all Ethereum apps use Infura API, including — Coinbase Wallet, CryptoKitties, MetaMask, and Compound.
</div>
<div style="margin-top:.325em;">
One of the strongest features of Infura API is the access to an insightful dashboard. The dashboard is full of graphical analytics, such as — bandwidth usage, top method calls, etc.
</div>
<div style="margin-top:.325em;">
If you’re worried about the cost, there’s good news — Infura offers a free account too with the access to Ethereum mainnet and testnets. However, this free account is limited to 100,000 requests/day and up to 3 projects. You need to go for monthly premium subscriptions for better support.
</div>
<div style="margin-top:.325em;">
So, if you need an API, Infura is one of the best Ethereum development tools.
</div>
   ]]>
    </c:sourceContent>

    <c:sourceContent type="html" title="Embark – Development Framework" id="sourceContent1"
                     titleStyle="padding-left:0;color:green;font-size:1em;background-color:white;font-size:1.6em;margin-top:1em;"
                     bodyStyle="background-color:white;padding:0;font-size:1.2em;line-height:1.45em;font-family:monospace;">
      <![CDATA[
<div>
Embark is another great Ethereum development framework and one of the best Ethereum development tools. It integrates with Ethereum blockchains (EVM), decentralized storage systems (IPFS), and communication platforms. Embark uses Swarm for deployment.
</div>
<div style="margin-top:.325em;">
With Embark, you can automatically deploy contracts to a testnet, private net, or the mainnet. Embark keeps track of your contracts and automatically redeploys the contracts and dApps as per your changes. And the best part is that’s you can develop contracts with JavaScript.
</div>
<div style="margin-top:.325em;">
For decentralized storage, it uses IPFS or Swarm. You can deploy the full application to these two storage systems. It uses EmbarkJS to upload, store, and retrieve data on dApp.
</div>
<div style="margin-top:.325em;">
Another great feature of Embark is its modularity. You can either develop individual smart contracts or go for building a full-fledged dApp. Integration and extension processes are quite simple as it has a wide collection of plug-ins. Solc, Solium, Etherscan, Remix, Snark — are among the popular plug-ins for Embark.
</div>
<div style="margin-top:.325em;">
Then, there is Cockpit — Embark’s web interface for developing, debugging, and deploying dApps. You’ll get a Web UI dashboard, explorer, and a code editor.
</div>
<div style="margin-top:.325em;">
Overall, Embark is one of the best Ethereum development tools out there for being a flexible development framework with a rich plug-in collection.
</div>
   ]]>
    </c:sourceContent>

    <c:sourceContent type="html" title="Drizzle – A Collection of Front-End Libraries" id="sourceContent1"
                     titleStyle="padding-left:0;color:green;font-size:1em;background-color:white;font-size:1.6em;margin-top:1em;"
                     bodyStyle="background-color:white;padding:0;font-size:1.2em;line-height:1.45em;font-family:monospace;">
      <![CDATA[
<div>
Drizzle is the third and the final tool in the TruffleSuite. Truffle and Ganache are mainly used for development and testing, respectively. Drizzle offers a collection of front-end libraries — completing the overall development needs with TruffleSuite. This front-end support makes dApp development way more convenient and predictable.
</div>
<div style="margin-top:.325em;">
At the heart of this Ethereum dev tool, lies a reactive Ethereum datastore (Redux). This Redux datastore gives you access to more development tools. Plus, Drizzle synchronizes contract data and transaction data.
</div>
<div style="margin-top:.325em;">
Another notable thing about Drizzle is that the tool is fully modular. The two packages are — Drizzle and Drizzle-React. Drizzle is the basic package between the two options — serves as a core library. Then, there is Drizzle-React — which connects Drizzle with your existing React applications through DrizzleProvider and drizzleConnect.
</div>
<div style="margin-top:.325em;">
Drizzle should be on your Ethereum tools list as it one of the few tools to help you with the front-end development efforts.
</div>
   ]]>
    </c:sourceContent>
    <c:comment>
      <c:comment1>
        <![CDATA[]]>
      </c:comment1>
    </c:comment>
  </c:entry>




  
  <c:entry style="margin-top:1em;">
    <c:title><![CDATA[<div style="color:blue;font-size:1.2em;">Create and Deploy ERC20 token on Ethereum in 7 steps.</div>]]></c:title>
    <c:desc>
      <c:desc1> <![CDATA[
<div style="font-size:1.125em;">
<a href="https://cryptomoose5.medium.com/create-and-deploy-erc20-token-on-ethereum-in-7-steps-6666dcb31fe6">https://cryptomoose5.medium.com/create-and-deploy-erc20-token-on-ethereum-in-7-steps-6666dcb31fe6</a>
</div>
]]></c:desc1>
    </c:desc>
    <c:sourceContent type="html" title="Introduction on Ethereum" id="sourceContent1"
                     titleStyle="padding-left:0;color:green;font-size:1em;background-color:white;font-size:1.3em;"
                     bodyStyle="background-color:white;padding:0;font-size:1.2em;line-height:1.45em;font-family:monospace;">
      <![CDATA[
<div>
“Ethereum is a global, open-source platform for decentralised applications”
</div>
<div style="margin-top:.125em;">
On Ethereum, you can write code that controls digital value, runs exactly as programmed, and is accessible anywhere in the world. Ethereum allows you to move money, or make agreements, directly with someone else. You don’t need to go through intermediary companies. Ether(ETH), the native cryptocurrency of Ethereum, a scarce digital money that you can use on the internet is similar to Bitcoin. ETH is the lifeblood of Ethereum, it fuels and secures Ethereum.
</div>
<div style="margin-top:.225em;">
Learn about Ethereum: <a href="https://ethereum.org/en/learn/">https://ethereum.org/en/learn/</a>
</div>
   ]]>
    </c:sourceContent>
    <c:sourceContent type="html" title="ERC20 Tokens" id="sourceContent1"
                     titleStyle="padding-left:0;color:green;font-size:1em;background-color:white;font-size:1.3em;margin-top:.625em;"
                     bodyStyle="padding:0;font-size:1.2em;line-height:1.45em;font-family:monospace;">
      <![CDATA[
<div>
Tokens built on top of Ethereum are entirely virtual having their representational value assigned to them. ERC20 tokens are fungible in nature, meaning that there isn’t a distinction between individual tokens.
</div>

<h3 style="margin-top:.625em;padding-bottom:0;font-style:italic;font-size: 1.25em;">ERC20 Token Standard</h3>
<div style="margin-top:.125em;">
The ERC20 standard is a specification that makes it easy to add ERC20 compliant tokens to a service or smart contract. ERC20 tokens are by far the most used token on Ethereum and this guide will break down the ERC20 standard as well as what it means for something to be an ERC20 token.
</div>
<div style="margin-top:.225em;">
Reference: <a href="https://eips.ethereum.org/EIPS/eip-20">https://eips.ethereum.org/EIPS/eip-20</a>
</div>

<h3 style="margin-top:.625em;padding-bottom:0;font-style:italic;font-size: 1.25em;">ERC20 Token attributes</h3>
<div style="margin-top:.125em;">
Choose a below attributes for your own token.
</div>
<ul style="margin-top:.325em;list-style: disc;margin-left: 1.5em;">
  <li>Name: Tether USD</li>
  <li>Symbol: USDT</li>
  <li>Decimals: 18 (Default -18)</li>
  <li>TotalSupply: 10,000,000</li>
</ul>
<h3 style="margin-top:.625em;padding-bottom:0;font-style:italic;font-size: 1.25em;font-size: 1.25em;">ERC20 Interface</h3>
<div style="margin-top:.125em;">
  <b>(OPTIONAL)</b> name(): Returns the name of the token - e.g. "MyToken". 
</div>
<div style="margin-top:.625em;background-color:lightseagreen;color:white;padding:.125em .625em;font-size:.825em;">
  function name() public view returns (string)
</div>
<div style="margin-top:.625em;">
  <b>(OPTIONAL)</b> symbol(): Returns the symbol of the token. E.g. “HIX”.
</div>
<div style="margin-top:.625em;background-color:lightseagreen;color:white;padding:.125em .625em;font-size:.825em;">
  function symbol() public view returns (string)
</div>
<div style="margin-top:.625em;">
  <b>(OPTIONAL)</b> decimals(): Returns the number of decimals the token uses - e.g. 8, means to divide the token amount by 100000000 to get its user representation.
</div>
<div style="margin-top:.625em;background-color:lightseagreen;color:white;padding:.125em .625em;font-size:.825em;">
  function decimals() public view returns (uint8)
</div>
<div style="margin-top:.625em;">
  &#x278A; totalsupply(): The totalSupply function returns the total supply of the token.
</div>
<div style="margin-top:.625em;background-color:lightseagreen;color:white;padding:.125em .625em;font-size:.825em;">
  function totalSupply() public view returns (uint256)
</div>
<div style="margin-top:.625em;">
  &#x278B; balanceOf(): If someone calls the balanceOf function with a specific address, it will return the token balance for that address
</div>
<div style="margin-top:.625em;background-color:lightseagreen;color:white;padding:.125em .625em;font-size:.825em;">
  function balanceOf(address _owner) public view returns (uint256 balance)
</div>
<div style="margin-top:.625em;">
  &#x278C; transfer(): The transfer function requires a recipient address as well as an amount to send. Make sure caller has enough balance of tokens to execute transfer function. On completion of transaction, amount to send will be transferred to recipient address, thus reducing the balance of caller and adding the same to recipient.
</div>
<div style="margin-top:.625em;background-color:lightseagreen;color:white;padding:.125em .625em;font-size:.825em;">
  function transfer(address _to, uint256 _value) public returns (bool success)
</div>
<div style="margin-top:.625em;">
  &#x278D; approve(): Token holder can use the approve function to allow a specific amount of it’s balance to be spent by another address.
</div>
<div style="margin-top:.625em;background-color:lightseagreen;color:white;padding:.125em .625em;font-size:.825em;">
  function approve(address _spender, uint256 _value) public returns (bool success)
</div>
<div style="margin-top:.625em;">
  &#x278E; allowance(): The allowance function is used to see how much an address is allowed to spend from another address.
</div>
<div style="margin-top:.625em;background-color:lightseagreen;color:white;padding:.125em .625em;font-size:.825em;">
  function allowance(address _owner, address _spender) public view returns (uint256 remaining)
</div>
<div style="margin-top:.625em;">
  &#x278F; transferFrom() : The transferFrom function is used when an address with an allowance wants to transfer the balance from one address to another.
</div>
<div style="margin-top:.625em;background-color:lightseagreen;color:white;padding:.125em .625em;font-size:.825em;">
  function transferFrom(address _from, address _to, uint256 _value) public returns (bool success)
</div>


<h3 style="margin-top:.625em;padding-bottom:0;font-style:italic;font-size: 1.25em;">ERC20 Token Events</h3>
<div style="margin-top:.125em;">
Events in Ethereum are usually triggered when a transaction changes a contract’s state. In ERC20 token contracts, an event is fired when either the Balances or Allowances are updated.
</div>
<div style="margin-top:.625em;">
  &#x278A; Transfer: The Transfer event gets emitted when transfer or transferFrom function successfully executes.
</div>
<div style="margin-top:.625em;background-color:lightseagreen;color:white;padding:.125em .625em;font-size:.825em;">
  event Transfer(address indexed _from, address indexed _to, uint256 _value)
</div>
<div style="margin-top:.625em;">
  &#x278B; Approval: The Approval event gets emitted when the approve function is successfully executes.
</div>
<div style="margin-top:.625em;background-color:lightseagreen;color:white;padding:.125em .625em;font-size:.825em;">
  event Approval(address indexed _owner, address indexed _spender, uint256 _value)
</div>
   ]]>
    </c:sourceContent>
    <c:sourceContent type="" title="Now lets put in together for contract creation" id="sourceContent1"
                     titleStyle="padding-left:0;color:green;font-size:1em;background-color:white;font-size:1.3em;margin-top:.625em;"
                     bodyStyle="background-color:white;padding:0;font-size:1.2em;line-height:1.45em;font-family:monospace;">
      <![CDATA[
pragma solidity 0.6.10;

// SPDX-License-Identifier: UNLICENSED

/*
 * @dev Provides information about the current execution context, including the
 * sender of the transaction and its data. While these are generally available
 * via msg.sender and msg.data, they should not be accessed in such a direct
 * manner, since when dealing with GSN meta-transactions the account sending and
 * paying for execution may not be the actual sender (as far as an application
 * is concerned).
 *
 * This contract is only required for intermediate, library-like contracts.
 */
abstract contract Context {
    function _msgSender() internal view virtual returns (address payable) {
        return msg.sender;
    }

    function _msgData() internal view virtual returns (bytes memory) {
        this; // silence state mutability warning without generating bytecode - see https://github.com/ethereum/solidity/issues/2691
        return msg.data;
    }
}

// File: openzeppelin-solidity/contracts/token/ERC20/IERC20.sol

/**
 * @title ERC20 interface
 * @dev see https://github.com/ethereum/EIPs/issues/20
 */
interface IERC20 {
    function transfer(address to, uint256 value) external returns (bool);

    function approve(address spender, uint256 value) external returns (bool);

    function transferFrom(address from, address to, uint256 value) external returns (bool);

    function totalSupply() external view returns (uint256);

    function balanceOf(address who) external view returns (uint256);

    function allowance(address owner, address spender) external view returns (uint256);

    event Transfer(address indexed from, address indexed to, uint256 value);

    event Approval(address indexed owner, address indexed spender, uint256 value);
}

// File: openzeppelin-solidity/contracts/math/SafeMath.sol

/**
 * @title SafeMath
 * @dev Unsigned math operations with safety checks that revert on error
 */
library SafeMath {
    /**
    * @dev Multiplies two unsigned integers, reverts on overflow.
    */
    function mul(uint256 a, uint256 b) internal pure returns (uint256) {
        // Gas optimization: this is cheaper than requiring 'a' not being zero, but the
        // benefit is lost if 'b' is also tested.
        // See: https://github.com/OpenZeppelin/openzeppelin-solidity/pull/522
        if (a == 0) {
            return 0;
        }

        uint256 c = a * b;
        require(c / a == b);

        return c;
    }

    /**
    * @dev Integer division of two unsigned integers truncating the quotient, reverts on division by zero.
    */
    function div(uint256 a, uint256 b) internal pure returns (uint256) {
        // Solidity only automatically asserts when dividing by 0
        require(b > 0);
        uint256 c = a / b;
        // assert(a == b * c + a % b); // There is no case in which this doesn't hold

        return c;
    }

    /**
    * @dev Subtracts two unsigned integers, reverts on overflow (i.e. if subtrahend is greater than minuend).
    */
    function sub(uint256 a, uint256 b) internal pure returns (uint256) {
        require(b <= a);
        uint256 c = a - b;

        return c;
    }

    /**
    * @dev Adds two unsigned integers, reverts on overflow.
    */
    function add(uint256 a, uint256 b) internal pure returns (uint256) {
        uint256 c = a + b;
        require(c >= a);

        return c;
    }

    /**
    * @dev Divides two unsigned integers and returns the remainder (unsigned integer modulo),
    * reverts when dividing by zero.
    */
    function mod(uint256 a, uint256 b) internal pure returns (uint256) {
        require(b != 0);
        return a % b;
    }
}

// File: openzeppelin-solidity/contracts/token/ERC20/ERC20.sol

/**
 * @title Standard ERC20 token
 *
 * @dev Implementation of the basic standard token.
 * https://github.com/ethereum/EIPs/blob/master/EIPS/eip-20.md
 * Originally based on code by FirstBlood:
 * https://github.com/Firstbloodio/token/blob/master/smart_contract/FirstBloodToken.sol
 *
 * This implementation emits additional Approval events, allowing applications to reconstruct the allowance status for
 * all accounts just by listening to said events. Note that this isn't required by the specification, and other
 * compliant implementations may not do it.
 */
contract ERC20 is IERC20 {
    using SafeMath for uint256;

    mapping (address => uint256) private _balances;

    mapping (address => mapping (address => uint256)) private _allowed;

    uint256 private _totalSupply;
    string private _name;
    string private _symbol;
    uint8 private _decimals;

    constructor (string memory name, string memory symbol, uint8 decimals) public {
        _name = name;
        _symbol = symbol;
        _decimals = decimals;
    }

    /**
     * @return the name of the token.
     */
    function name() public view virtual returns (string memory) {
        return _name;
    }

    /**
     * @return the symbol of the token.
     */
    function symbol() public view virtual returns (string memory) {
        return _symbol;
    }

    /**
     * @return the number of decimals of the token.
     */
    function decimals() public view virtual returns (uint8) {
        return _decimals;
    }

    /**
    * @dev Total number of tokens in existence
    */
    function totalSupply() public view override returns (uint256) {
        return _totalSupply;
    }

    /**
    * @dev Gets the balance of the specified address.
    * @param owner The address to query the balance of.
    * @return An uint256 representing the amount owned by the passed address.
    */
    function balanceOf(address owner) public view override returns (uint256) {
        return _balances[owner];
    }

    /**
     * @dev Function to check the amount of tokens that an owner allowed to a spender.
     * @param owner address The address which owns the funds.
     * @param spender address The address which will spend the funds.
     * @return A uint256 specifying the amount of tokens still available for the spender.
     */
    function allowance(address owner, address spender) public view override returns (uint256) {
        return _allowed[owner][spender];
    }

    /**
    * @dev Transfer token for a specified address
    * @param to The address to transfer to.
    * @param value The amount to be transferred.
    */
    function transfer(address to, uint256 value) public virtual override returns (bool) {
        _transfer(msg.sender, to, value);
        return true;
    }

    /**
     * @dev Approve the passed address to spend the specified amount of tokens on behalf of msg.sender.
     * Beware that changing an allowance with this method brings the risk that someone may use both the old
     * and the new allowance by unfortunate transaction ordering. One possible solution to mitigate this
     * race condition is to first reduce the spender's allowance to 0 and set the desired value afterwards:
     * https://github.com/ethereum/EIPs/issues/20#issuecomment-263524729
     * @param spender The address which will spend the funds.
     * @param value The amount of tokens to be spent.
     */
    function approve(address spender, uint256 value) public virtual override returns (bool) {
        require(spender != address(0));

        _allowed[msg.sender][spender] = value;
        emit Approval(msg.sender, spender, value);
        return true;
    }

    /**
     * @dev Transfer tokens from one address to another.
     * Note that while this function emits an Approval event, this is not required as per the specification,
     * and other compliant implementations may not emit the event.
     * @param from address The address which you want to send tokens from
     * @param to address The address which you want to transfer to
     * @param value uint256 the amount of tokens to be transferred
     */
    function transferFrom(address from, address to, uint256 value) public virtual override returns (bool) {
        _allowed[from][msg.sender] = _allowed[from][msg.sender].sub(value);
        _transfer(from, to, value);
        emit Approval(from, msg.sender, _allowed[from][msg.sender]);
        return true;
    }

    /**
     * @dev Increase the amount of tokens that an owner allowed to a spender.
     * approve should be called when allowed_[_spender] == 0. To increment
     * allowed value is better to use this function to avoid 2 calls (and wait until
     * the first transaction is mined)
     * From MonolithDAO Token.sol
     * Emits an Approval event.
     * @param spender The address which will spend the funds.
     * @param addedValue The amount of tokens to increase the allowance by.
     */
    function increaseAllowance(address spender, uint256 addedValue) public virtual returns (bool) {
        require(spender != address(0));

        _allowed[msg.sender][spender] = _allowed[msg.sender][spender].add(addedValue);
        emit Approval(msg.sender, spender, _allowed[msg.sender][spender]);
        return true;
    }

    /**
     * @dev Decrease the amount of tokens that an owner allowed to a spender.
     * approve should be called when allowed_[_spender] == 0. To decrement
     * allowed value is better to use this function to avoid 2 calls (and wait until
     * the first transaction is mined)
     * From MonolithDAO Token.sol
     * Emits an Approval event.
     * @param spender The address which will spend the funds.
     * @param subtractedValue The amount of tokens to decrease the allowance by.
     */
    function decreaseAllowance(address spender, uint256 subtractedValue) public virtual returns (bool) {
        require(spender != address(0));

        _allowed[msg.sender][spender] = _allowed[msg.sender][spender].sub(subtractedValue);
        emit Approval(msg.sender, spender, _allowed[msg.sender][spender]);
        return true;
    }

    /**
    * @dev Transfer token for a specified addresses
    * @param from The address to transfer from.
    * @param to The address to transfer to.
    * @param value The amount to be transferred.
    */
    function _transfer(address from, address to, uint256 value) internal {
        require(to != address(0));

        _balances[from] = _balances[from].sub(value);
        _balances[to] = _balances[to].add(value);
        emit Transfer(from, to, value);
    }

    /**
     * @dev Internal function that mints an amount of the token and assigns it to
     * an account. This encapsulates the modification of balances such that the
     * proper events are emitted.
     * @param account The account that will receive the created tokens.
     * @param value The amount that will be created.
     */
    function _mint(address account, uint256 value) internal {
        require(account != address(0));

        _totalSupply = _totalSupply.add(value);
        _balances[account] = _balances[account].add(value);
        emit Transfer(address(0), account, value);
    }

    /**
     * @dev Internal function that burns an amount of the token of a given
     * account.
     * @param account The account whose tokens will be burnt.
     * @param value The amount that will be burnt.
     */
    function _burn(address account, uint256 value) internal {
        require(account != address(0));

        _totalSupply = _totalSupply.sub(value);
        _balances[account] = _balances[account].sub(value);
        emit Transfer(account, address(0), value);
    }

    /**
     * @dev Internal function that burns an amount of the token of a given
     * account, deducting from the sender's allowance for said account. Uses the
     * internal burn function.
     * Emits an Approval event (reflecting the reduced allowance).
     * @param account The account whose tokens will be burnt.
     * @param value The amount that will be burnt.
     */
    function _burnFrom(address account, uint256 value) internal {
        _allowed[account][msg.sender] = _allowed[account][msg.sender].sub(value);
        _burn(account, value);
        emit Approval(account, msg.sender, _allowed[account][msg.sender]);
    }
}

// File: @openzeppelin/contracts/access/Ownable.sol


/**
 * @dev Contract module which provides a basic access control mechanism, where
 * there is an account (an owner) that can be granted exclusive access to
 * specific functions.
 *
 * By default, the owner account will be the one that deploys the contract. This
 * can later be changed with {transferOwnership}.
 *
 * This module is used through inheritance. It will make available the modifier
 * `onlyOwner`, which can be applied to your functions to restrict their use to
 * the owner.
 */
contract Ownable is Context {
    address private _owner;

    event OwnershipTransferred(address indexed previousOwner, address indexed newOwner);

    /**
     * @dev Initializes the contract setting the deployer as the initial owner.
     */
    constructor () internal {
        address msgSender = _msgSender();
        _owner = msgSender;
        emit OwnershipTransferred(address(0), msgSender);
    }

    /**
     * @dev Returns the address of the current owner.
     */
    function owner() public view returns (address) {
        return _owner;
    }

    /**
     * @dev Throws if called by any account other than the owner.
     */
    modifier onlyOwner() {
        require(_owner == _msgSender(), "Ownable: caller is not the owner");
        _;
    }

    /**
     * @dev Leaves the contract without owner. It will not be possible to call
     * `onlyOwner` functions anymore. Can only be called by the current owner.
     *
     * NOTE: Renouncing ownership will leave the contract without an owner,
     * thereby removing any functionality that is only available to the owner.
     */
    function renounceOwnership() public virtual onlyOwner {
        emit OwnershipTransferred(_owner, address(0));
        _owner = address(0);
    }

    /**
     * @dev Transfers ownership of the contract to a new account (`newOwner`).
     * Can only be called by the current owner.
     */
    function transferOwnership(address newOwner) public virtual onlyOwner {
        require(newOwner != address(0), "Ownable: new owner is the zero address");
        emit OwnershipTransferred(_owner, newOwner);
        _owner = newOwner;
    }
}

// File: Token-contracts/ERC20.sol

contract XYZ is ERC20, Ownable {
    constructor ()
    public
    ERC20 ("XYZ Token", "XYZ", 18) {
        _mint(msg.sender, 10000000E18);
    }
    
    /**
     * @dev Mint new tokens, increasing the total supply and balance of "account"
     * Can only be called by the current owner.
     */
    function mint(address account, uint256 value) public onlyOwner {
        _mint(account, value);
    }
    
    /**
     * @dev Burns token balance in "account" and decrease totalsupply of token
     * Can only be called by the current owner.
     */
    function burn(address account, uint256 value) public onlyOwner {
        _burn(account, value);
    }
}
   ]]>
    </c:sourceContent>


    <c:sourceContent type="html" title="Deployment Process" id="sourceContent1"
                     titleStyle="padding-left:0;color:green;font-size:1em;background-color:white;font-size:1.3em;margin-top:.625em;"
                     bodyStyle="background-color:white;padding:0;font-size:1.2em;line-height:1.45em;font-family:monospace;">
      <![CDATA[

<div>
  Open Remix IDE: <a href="https://remix.ethereum.org/">https://remix.ethereum.org/</a>
</div>
<div style="margin-top:.625em;">
  <img style="max-width:450px" src="/images/ether/1_UEu-rKVKQO41JZx4o2HLGA.png" />
</div>
<div style="margin-top:.625em;">
  — Click + button(in red mark) to create a new file.
</div>
<div style="margin-top:0em;">
  — Name your file and past the github code.
</div>
<div style="margin-top:.625em;">
  <img style="max-width:450px" src="/images/ether/1_BuauMQKK7ZMWMvVy2u5Bhw.png" />
</div>
<div style="margin-top:.625em;">
  Now choose 0.6.10 in compiler &rarr; Choose Auto compile and Enable optimisation.
When you see the green tick button, you are done with the compilation. Yay!
</div>
<div style="margin-top:.625em;">
  <img style="max-width:200px" src="/images/ether/1_st3KgCw4RkS6-tFipfquMQ.png" />
</div>
<div style="margin-top:.625em;">
  Choose Injected Web3 in Environment.
As soon as you select “Injected Web3”. Your metamask window will get pop up to get connected with Remix IDE.
</div>
<div style="margin-top:.625em;">
  <img style="max-width:200px" src="/images/ether/1_M1KYephwjX-L3mU82vH7LA.png" />
</div>
<div style="margin-top:.625em;">
  Now choose “Next” and click “connect” to connect metamask with IDE.
</div>
<div style="margin-top:.625em;">
  <img style="max-width:350px" src="/images/ether/1_fvKXoyfvvi7eM6r1ewUJ8Q.png" />
</div>
<div style="margin-top:.625em;">
  Now you will see your wallet address in ACCOUNT with your balance. Choose contract name in CONTRACT (XYZ in our case).
</div>
<div style="margin-top:.625em;">
  <img style="max-width:350px" src="/images/ether/1_RDyQQhohRLMMrMFMMplmsQ.png" />
</div>
<div style="margin-top:.625em;">
  Click “Deploy” and you will a pop-up for confirmation, Please click “Confirm”.
</div>
<div style="margin-top:.625em;">
  <img style="max-width:200px" src="/images/ether/1_yGA30EV0uZ2R2NavRo7sGw.png" />
</div>
<div style="margin-top:.625em;">
  You can change the gas price based on (optional) <a href="https://ethgasstation.info/">https://ethgasstation.info/</a>
</div>
<div style="margin-top:.625em;">
  Click “Confirm” to deploy the contract.
</div>
<div style="margin-top:.625em;">
  Contract has been successfully deployed. Yay!
</div>
<div style="margin-top:.625em;">
  Now you can see the deployed contract address.
</div>
<div style="margin-top:.625em;">
  <img style="max-width:200px" src="/images/ether/1_KkFFBZEpSxdKegkWVM3wIA.png" />
</div>
<div style="margin-top:.625em;">
  Explorer to check the contact details: <a href="https://etherscan.io/">https://etherscan.io/</a>.
</div>
<div style="margin-top:.125em;">
  Paste the contract address in explorer and you can see the contract details.
</div>
<div style="margin-top:.125em;">
  Congrats! Contract has been created and deployed on Ethereum.
</div>
   ]]>
    </c:sourceContent>

    <c:comment>
      <c:comment1>
        <![CDATA[]]>
      </c:comment1>
    </c:comment>
  </c:entry>



  
  <c:entry style="margin-top:1em;">
    <c:title><![CDATA[<div style="color:blue;font-size:1.2em;">The complete Truffle suite on Docker (Truffle + Ganache + Drizzle)</div>]]></c:title>
    <c:desc>
      <c:desc1> <![CDATA[
<div style="font-size:1em;">
<a href="https://github.com/lzhou1110/drizzle-truffle-ganache-docker-box">https://github.com/lzhou1110/drizzle-truffle-ganache-docker-box</a><br />
<a href="https://www.trufflesuite.com/boxes/drizzle-truffle-ganache-docker-box">https://www.trufflesuite.com/boxes/drizzle-truffle-ganache-docker-box</a>
</div>
<div style="font-size:1.2em;margin-top:.625em;">
Set up an Ethereum Smart Contract development environment in less than 1 min
</div>
]]></c:desc1>
    </c:desc>
    <c:sourceContent type="html" title="TLDR" id="sourceContent1"
                     titleStyle="padding-left:0;color:green;font-size:1em;background-color:white;font-size:1.3em;"
                     bodyStyle="background-color:white;padding:0;font-size:1.2em;line-height:1.45em;font-family:monospace;">
      <![CDATA[
<div>
Step 1:
</div>
<div style="margin-top:.125em;">
$ truffle unbox lzhou1110/drizzle-truffle-ganache-docker-box
</div>
<div style="margin-top:.225em;">
Step 2:
</div>
<div style="margin-top:.125em;">
$ ./dev_build.sh
</div>
<div style="margin-top:.225em;">
Step 3:
</div>
<div style="margin-top:.125em;">
$ ./dev_run.sh
</div>
<div style="margin-top:.625em;">
Now you have everything ready to develop a sexy DApp. Happy coding :)
</div>
   ]]>
    </c:sourceContent>
    <c:sourceContent type="html" title="The Problem" id="sourceContent1"
                     titleStyle="padding-left:0;color:green;font-size:1em;background-color:white;font-size:1.3em;margin-top:.625em;"
                     bodyStyle="padding:0;font-size:1.2em;line-height:1.45em;font-family:monospace;">
      <![CDATA[
<div>
Recently I was hired as a casual worker for a DApp project. This was so exciting for me because the startup idea was pretty cool and I can write everything from scratch. After some discussion with the team members, we decided to use Truffle suite for this project.
</div>
<div style="margin-top:.325em;">
I have previously used Truffle and Ganache in other projects and had a pretty good experience, especially for the development and testing process. Also, I have realised that the Truffle team released a new tool called Drizzle, which ‘is a collection of front-end libraries that make writing dapp frontends easier and more predictable’ (https://github.com/trufflesuite/drizzle). All sounds promising, right? I can’t wait to start coding!
</div>
<div style="margin-top:.325em;">
Then several hours past, I was still stuck in getting the environments to work. I have tried multiple truffle boxes, none of them could start properly on my laptop. I had nvm installed and tried all the different versions of node, still no luck. I finally solved the problem by uninstalling Node, Anaconda and XCode Tools, and reinstalled everything.
</div>
<div style="margin-top:.325em;">
This was definitely a process that I don’t want to go through ever again. I am pretty sure this won’t be the last time I use Truffle, so I have decided to create a Truffle box, which builds everything on top of Docker.
</div>
   ]]>
    </c:sourceContent>
    <c:sourceContent type="html" title="“Literature Survey”" id="sourceContent1"
                     titleStyle="padding-left:0;color:green;font-size:1em;background-color:white;font-size:1.3em;margin-top:.625em;"
                     bodyStyle="padding:0;font-size:1.2em;line-height:1.45em;font-family:monospace;">
      <![CDATA[
<div>
There are already some attempts on using Docker with the Truffle. Most of them focused on an individual component/task. What I wanted was the entire truffle suite develop environment on a docker-compose file.
</div>

<ul style="margin-top:.325em;list-style: disc;margin-left: 1.5em;">
  <li><a href="https://medium.com/@hcm007c/build-a-truffle-docker-container-22cff7a7583b">https://medium.com/@hcm007c/build-a-truffle-docker-container-22cff7a7583b</a></li>
  <li><a href="https://medium.com/hara-engineering/testing-smart-contract-with-docker-e7fd3d501abe">https://medium.com/hara-engineering/testing-smart-contract-with-docker-e7fd3d501abe</a></li>
  <li><a href="https://github.com/gjeanmart/truffle-docker">https://github.com/gjeanmart/truffle-docker</a></li>
  <li><a href="https://github.com/LePetitBloc/truffle-docker">https://github.com/LePetitBloc/truffle-docker</a> (This was quite close to what I want, but missing the Drizzle.)</li>
</ul>
   ]]>
    </c:sourceContent>
    <c:sourceContent type="html" title="Docker-compose file" id="sourceContent1"
                     titleStyle="padding-left:0;color:green;font-size:1em;background-color:white;font-size:1.3em;margin-top:.625em;"
                     bodyStyle="padding:0;font-size:1.2em;line-height:1.45em;font-family:monospace;">
      <![CDATA[
<div>
The compose file is pretty much self-explanatory. There are simply two services:
</div>

<ul style="margin-top:.325em;list-style: disc;margin-left: 1.5em;">
  <li><b>ganache-cli</b> — basically a virtual blockchain. Note that we built our own ganache-cli image on top of the official one. I will talk about the reason later.</li>
  <li><b>truffle-suite</b> — the smart contract + ReactJS front end code. Note that after truffle has compiled the smart contract code, it will generate several JSON files (abi), which will be required by the front end. Ideally, I would build the front end into a separate docker image, but I kept it simple here.</li>
</ul>
   ]]>
    </c:sourceContent>
    <c:sourceContent type="" title="" id="sourceContent1"
                     titleStyle="padding-left:0;color:green;font-size:1em;background-color:white;font-size:1.3em;"
                     bodyStyle="padding:0;font-size:1.2em;line-height:1.45em;font-family:monospace;">
      <![CDATA[
version: '3'

services:
  # ganachecli: simulated test rpc on dev environment
  ganache-cli:
    container_name: ganache-cli
    build:
      context: ./ganache
    ports:
      - 8545:8545

  # truffle-suite
  # volumes are used here to enable hot editing :) Nice trick!
  truffle-drizzle:
    container_name: truffle-drizzle
    build:
      context: truffledrizzle
    healthcheck:
      test: curl -sf -X POST --data '{"jsonrpc":"2.0","method":"eth_blockNumber","params":[],"id":1}' localhost:8545
      interval: 5s
      timeout: 5s
      retries: 5
    command: >
      sh -c "truffle compile &&
             truffle test &&
             truffle migrate &&
             cp -R output/contracts client/src/contracts/ &&
             cd client &&
             npm start"
    ports:
      - 3000:3000
    tty: true
    volumes:
      - ./truffledrizzle/client/src:/client/src
   ]]>
    </c:sourceContent>
    <c:sourceContent type="html" title="Live editing on the ReactJS App" id="sourceContent1"
                     titleStyle="padding-left:0;color:green;font-size:1em;background-color:white;font-size:1.3em;margin-top:.625em;"
                     bodyStyle="padding:0;font-size:1.2em;line-height:1.45em;font-family:monospace;">
      <![CDATA[
<div>
I still remember the first time I used live editing (on AngularJS I believe). I was so amazed. This is definitely a feature that I don’t want to lose.
</div>
<div style="margin-top:.325em;">
In the docker-compose file, I have hooked the local volume to the truffle-drizzle service. Live editing just works!
</div>
<div style="margin-top:.325em;">
<b>./truffledrizzle/client/src:/client/src</b>
</div>
   ]]>
    </c:sourceContent>
    <c:comment>
      <c:comment1>
        <![CDATA[]]>
      </c:comment1>
    </c:comment>
  </c:entry>

  
  <c:entry style="margin-top:1em;">
    <c:title><![CDATA[<div style="color:blue;font-size:1.2em;">快速入门 Truffle</div>]]></c:title>
    <c:desc>
      <c:desc1> <![CDATA[
<div style="font-size:1.2em;">
本文主要入门介绍如何创建 Truffle 项目以及将智能合约部署到区块链。
</div>
]]></c:desc1>
    </c:desc>
    <c:sourceContent type="html" title="创建项目工程" id="sourceContent1"
                     titleStyle="padding-left:0;color:green;font-size:1em;background-color:white;font-size:1.6em;"
                     bodyStyle="background-color:white;padding:0;font-size:1.2em;line-height:1.45em;font-family:monospace;">
      <![CDATA[
<div>
Truffle 大多数命令都是在 Truffle 项目目录下运行的。 所以第一步是创建一个 Truffle 项目。 可以创建一个空项目模板，不过对于刚接触 Truffle 的同学，推荐使用 Truffle Boxes，它提供了示例应用代码和项目模板。 我们将使用 MetaCoin box 作为案例，它创建一个可以在帐户之间转移的 Token（代币）。
</div>
<div style="margin-top:.625em;">
  &#x278A; 安装 Truffle
</div>
<pre style="background-color:darkblue;color:cadetblue;padding:.625em 1em;margin-top:.325em;font-size:.625em;">
npm install -g truffle
</pre>
<div style="margin-top:.625em;">
  &#x278B; 为 Truffle 项目创建新目录：
</div>
<pre style="background-color:darkblue;color:cadetblue;padding:.625em 1em;margin-top:.325em;font-size:.625em;">
mkdir MetaCoin
cd MetaCoin
</pre>
<div style="margin-top:.625em;">
  &#x278C; 下载 (“unbox”) MetaCoin box:
</div>
<pre style="background-color:darkblue;color:cadetblue;padding:.625em 1em;margin-top:.325em;font-size:.625em;">
truffle unbox metacoin
</pre>
<div style="margin-top:.625em;">
  &#x278D; 在操作完成之后，就有这样的一个项目结构：
</div>
<pre style="background-color:darkblue;color:cadetblue;padding:.625em 1em;margin-top:.325em;font-size:.625em;">
&rarr; contracts/     # Solidity合约目录
&rarr; migrations/    # 部署脚本文件目录
&rarr; test/          # 测试脚本目录，参考 如何测试应用？
&rarr; truffle.js     # Truffle 配置文件
</pre>
   ]]>
    </c:sourceContent>

    <c:sourceContent type="html" title="项目结构" id="sourceContent1"
                     titleStyle="padding-left:0;color:green;font-size:1em;background-color:white;font-size:1.6em;margin-top:1em;"
                     bodyStyle="background-color:white;padding:0;font-size:1.2em;line-height:1.45em;font-family:monospace;">
      <![CDATA[
<ul style="margin-top:.325em;list-style: disc;margin-left: 1.5em;">
  <li><b>contracts/MetaCoin.sol：</b> <br /> 
  这是一个用 Solidity 编写的 MetaCoin 代币智能合约。注意他还引用了目录下的另外一个合约文件 contracts/ConvertLib.sol 。</li>
  <li><b>contracts/Migrations.sol：</b><br /> 
  这是一个单独的 Solidity 文件，用来管理和升级智能合约. 每一个工程都有这样的一个文件，并且通常不需要编辑它。</li>
  <li><b>migrations/1_initial_migration.js：</b><br /> 
  这是一个部署脚本，用来部署 Migrations 合约，对应 Migrations.sol 文件。</li>
  <li><b>migrations/2_deploy_contracts.js：</b><br /> 
  这是一个部署脚本，用来部署 MetaCoin 合约. (部署脚本的运行是有顺序的，以2开头的脚本通常在以1开头的脚本之后运行)</li>
  <li><b>test/TestMetacoin.sol：</b><br /> 
  这是一个用Solidity编写的测试用例文件，用来检查合约是否像预期一样工作。</li>
  <li><b>test/metacoin.js ：</b><br /> 
  这是一个用JavaScript编写的测试用例脚本，用途和上面一样。</li>
  <li><b>truffle-config.js </b><br /> 
  （之前是 truffle.js）： Truffle 配置文件, 用来设置网络信息，和其他项目相关的设置。当我们使用内建的默认的 Truffle 命令时，这个文件留空也是可以的。</li>
</ul>

   ]]>
    </c:sourceContent>


    <c:sourceContent type="" title="更新 truffle-config.js 默认 solc 编译器版本和网络设置" id="sourceContent1"
                     titleStyle="padding-left:0;color:green;font-size:1em;background-color:white;font-size:1.6em;margin-top:1em;"
                     bodyStyle="background-color:white;padding:0;font-size:1.2em;line-height:1.45em;font-family:monospace;">
      <![CDATA[
module.exports = {
  compilers: {
    solc: {
      version: "0.6.10"
    }
  },
  networks: {
   development: {
     host: "127.0.0.1",
     port: 17888,
     network_id: "1024879"
   },
   test: {
     host: "127.0.0.1",
     port: 17888,
     network_id: "1024879"
   }
  }
};

   ]]>
    </c:sourceContent>


    <c:sourceContent type="" title="Deploy contract on live testnet using private key + truffle" id="sourceContent1"
                     titleStyle="padding-left:0;color:green;font-size:1em;background-color:white;font-size:1.6em;margin-top:1em;"
                     bodyStyle="background-color:white;padding:0;font-size:1.2em;line-height:1.45em;font-family:monospace;">
      <![CDATA[
$ npm install truffle-privatekey-provider

const yargs = require('yargs');
var provider, address;
//const HDWalletProvider = require("truffle-hdwallet-provider-privkey");
const privKeyrinkeby = "xxx"
const PrivateKeyProvider = require("truffle-privatekey-provider");

module.exports = {
  networks: {
    development: {
      host: "localhost",
      port: 8545,
      gas: 6712388,
      // gasPrice: 2000000000, // 1 gwei
      network_id: "*"
    },
    rinkeby: {
      //provider: () => new HDWalletProvider(privKeyrinkeby, "https://rinkeby.infura.io/" + process.env.INFURA_API_KEY),
      provider: () => new PrivateKeyProvider(privKeyrinkeby, "https://rinkeby.infura.io/" + process.env.INFURA_API_KEY),
      gasPrice: 50000000000, // 50 gwei,
      network_id: 3,
    },
    mainnet: {
      // gas: 5000000,
      host: "localhost",
      gasPrice: 1000000000, // 1 gwei
      port: 8545,
      // provider:provider,
      // from: "0x4b3A4F3F42BA61141A4F7101F77dC141AE15c59A",
      from: "0x4b3a4f3f42ba61141a4f7101f77dc141ae15c59a",
      network_id: 1
    }
  },
  mocha: {
    reporter: 'eth-gas-reporter',
    reporterOptions : {
      currency: 'USD',
      gasPrice: 1
    }
  }
};

   ]]>
    </c:sourceContent>

    <c:sourceContent type="html" title="使用测试" id="sourceContent1"
                     titleStyle="padding-left:0;color:green;font-size:1em;background-color:white;font-size:1.6em;margin-top:1em;"
                     bodyStyle="background-color:white;padding:0;font-size:1.2em;line-height:1.45em;font-family:monospace;">
      <![CDATA[
<div>
1. 打开控制台终端，运行 Solidity 测试用例:
</div>
<pre style="background-color:darkblue;color:cadetblue;padding:.625em 1em;margin-top:.325em;font-size:.625em;">
truffle test ./test/TestMetacoin.sol
</pre>
<div style="margin-top:.625em;">
我们可以看到下面的输出：
</div>
<pre style="background-color:darkblue;color:cadetblue;padding:.625em 1em;margin-top:.325em;font-size:.625em;">
TestMetacoin
   √ testInitialBalanceUsingDeployedContract (71ms)
   √ testInitialBalanceWithNewMetaCoin (59ms)

 2 passing (794ms)
</pre>

<div style="margin-top:.625em;">
2. 运行 JavaScript 测试用例
</div>
<pre style="background-color:darkblue;color:cadetblue;padding:.625em 1em;margin-top:.325em;font-size:.625em;">
truffle test ./test/metacoin.js
</pre>

<div style="margin-top:.625em;">
You will see the following output
</div>
<pre style="background-color:darkblue;color:cadetblue;padding:.625em 1em;margin-top:.325em;font-size:.625em;">
 Contract: MetaCoin
    √ should put 10000 MetaCoin in the first account
    √ should call a function that depends on a linked library (40ms)
    √ should send coin correctly (129ms)

  3 passing (255ms)
</pre>
   ]]>
    </c:sourceContent>


    <c:sourceContent type="html" title="编译合约" id="sourceContent1"
                     titleStyle="padding-left:0;color:green;font-size:1em;background-color:white;font-size:1.6em;margin-top:1em;"
                     bodyStyle="background-color:white;padding:0;font-size:1.2em;line-height:1.45em;font-family:monospace;">
      <![CDATA[
<div>
1. 编译智能合约：
</div>
<pre style="background-color:darkblue;color:cadetblue;padding:.625em 1em;margin-top:.325em;font-size:.625em;">
truffle compile
</pre>
<div style="margin-top:.625em;">
我们可以看到下面的输出:
</div>
<pre style="background-color:darkblue;color:cadetblue;padding:.625em 1em;margin-top:.325em;font-size:.625em;">
Compiling .\contracts\ConvertLib.sol...
Compiling .\contracts\MetaCoin.sol...
Compiling .\contracts\Migrations.sol...

Writing artifacts to .\build\contracts
</pre>
   ]]>
    </c:sourceContent>
    


    <c:sourceContent type="html" title="使用 Truffle Develop 部署合约" id="sourceContent1"
                     titleStyle="padding-left:0;color:green;font-size:1em;background-color:white;font-size:1.6em;margin-top:1em;"
                     bodyStyle="background-color:white;padding:0;font-size:1.2em;line-height:1.45em;font-family:monospace;">
      <![CDATA[
<div>
如果使用 <b>Ganache</b>, 可以直接跳到下一部分。
</div>
<div style="margin-top:.625em;">
为了部署我们的合约，我们需要连接到区块链网络。Truffle 提供了一个内置的个人模拟区块链，它可以帮助我们用来测试。注意，这个区块链是内地在我们本地的系统里面，他不和以太坊的组网进行连接。
</div>
<div style="margin-top:.625em;">
我们可以使用 Truffle Develop 来创建区块链，并与之交互。
</div>
<div style="margin-top:.625em;">
1. 运行 Truffle Develop:
</div>
<pre style="background-color:darkblue;color:cadetblue;padding:.625em 1em;margin-top:.325em;font-size:.625em;">
truffle develop
</pre>
<div style="margin-top:.625em;">
我们可以看到下面的信息：
</div>
<pre style="background-color:darkblue;color:cadetblue;padding:.625em 1em;margin-top:.325em;font-size:.625em;">
Truffle Develop started at http://127.0.0.1:9545/

Accounts:
(0) 0x627306090abab3a6e1400e9345bc60c78a8bef57
(1) 0xf17f52151ebef6c7334fad080c5704d77216b732
(2) 0xc5fdf4076b8f3a5357c5e395ab970b5b54098fef
(3) 0x821aea9a577a9b44299b9c15c88cf3087f3b5544
(4) 0x0d1d4e623d10f9fba5db95830f7d3839406c6af2
(5) 0x2932b7a2355d6fecc4b5c0b6bd44cc31df247a2e
(6) 0x2191ef87e392377ec08e7c08eb105ef5448eced5
(7) 0x0f4f2ac550a1b4e2280d04c21cea7ebd822934b5
(8) 0x6330a553fc93768f612722bb8c2ec78ac90b3bbc
(9) 0x5aeda56215b167893e80b4fe645ba6d5bab767de

Private Keys:
(0) c87509a1c067bbde78beb793e6fa76530b6382a4c0241e5e4a9ec0a0f44dc0d3
(1) ae6ae8e5ccbfb04590405997ee2d52d2b330726137b875053c36d94e974d162f
(2) 0dbbe8e4ae425a6d2687f1a7e3ba17bc98c673636790f1b8ad91193c05875ef1
(3) c88b703fb08cbea894b6aeff5a544fb92e78a18e19814cd85da83b71f772aa6c
(4) 388c684f0ba1ef5017716adb5d21a053ea8e90277d0868337519f97bede61418
(5) 659cbb0e2411a44db63778987b1e22153c086a95eb6b18bdf89de078917abc63
(6) 82d052c865f5763aad42add438569276c00d3d88a2d062d36b2bae914d58b8c8
(7) aa3680d5d48a8283413f7a108367c7299ca73f553735860a87b08f39395618b7
(8) 0f62d96d6675f32685bbdb8ac13cda7c23436f63efbb9d07700d8669ff12b7c4
(9) 8d5366123cb560bb606379f90a0bfd4769eecc0557f1b362dcae9012b548b1e5

Mnemonic: candy maple cake sugar pudding cream honey tiny smooth crumble sweet treat

⚠️  Important ⚠️  : This mnemonic was created for you by Truffle. It is not secure.
Ensure you do not use it on production blockchains, or else you risk losing funds.

truffle(development)>
</pre>
<div style="margin-top:.625em;">
这里显示了10个账号，和他们对应的私钥，这些账号可以用来和区块链进行交互。
</div>
<div style="margin-top:.625em;">
2. 在 truffle(develop)> 提示符（因为提供了一个交互式控制台）下， Truffle 的命令可以不带前缀 truffle 执行。比如，可以直接输入 compile 来执行 truffle compile，以及直接输入 migrate 来部署编译的智能合约到区块链（相当于 truffle migrate）：
</div>
<pre style="background-color:darkblue;color:cadetblue;padding:.625em 1em;margin-top:.325em;font-size:.625em;">
migrate
</pre>
<div style="margin-top:.625em;">
我们可以看到下面的信息：
</div>
<pre style="background-color:darkblue;color:cadetblue;padding:.625em 1em;margin-top:.325em;font-size:.625em;">
Starting migrations...
======================
> Network name:    'develop'
> Network id:      4447
> Block gas limit: 6721975

1_initial_migration.js
======================

   Deploying 'Migrations'
   ----------------------
   > transaction hash:    0x3fd222279dad48583a3320decd0a2d12e82e728ba9a0f19bdaaff98c72a030a2
   > Blocks: 0            Seconds: 0
   > contract address:    0xa0AdaB6E829C818d50c75F17CFCc2e15bfd55a63
   > account:             0x627306090abab3a6e1400e9345bc60c78a8bef57
   > balance:             99.99445076
   > gas used:            277462
   > gas price:           20 gwei
   > value sent:          0 ETH
   > total cost:          0.00554924 ETH

   > Saving migration to chain.
   > Saving artifacts
   -------------------------------------
   > Total cost:          0.00554924 ETH

2_deploy_contracts.js
=====================

   Deploying 'ConvertLib'
   ----------------------
   > transaction hash:    0x97e8168f1c05fc40dd8ffc529b9a2bf45cc7c55b07b6b9a5a22173235ee247b6
   > Blocks: 0            Seconds: 0
   > contract address:    0xfb39FeaeF3ac3fd46e2123768e559BCe6bD638d6
   > account:             0x627306090abab3a6e1400e9345bc60c78a8bef57
   > balance:             99.9914458
   > gas used:            108240
   > gas price:           20 gwei
   > value sent:          0 ETH
   > total cost:          0.0021648 ETH

   Linking
   -------
   * Contract: MetaCoin <--> Library: ConvertLib (at address: 0xfb39FeaeF3ac3fd46e2123768e559BCe6bD638d6)

   Deploying 'MetaCoin'
   --------------------
   > transaction hash:    0xee4994097c10e7314cc83adf899d67f51f22e08b920e95b6d3f75c5eb498bde4
   > Blocks: 0            Seconds: 0
   > contract address:    0x6891Ac4E2EF3dA9bc88C96fEDbC9eA4d6D88F768
   > account:             0x627306090abab3a6e1400e9345bc60c78a8bef57
   > balance:             99.98449716
   > gas used:            347432
   > gas price:           20 gwei
   > value sent:          0 ETH
   > total cost:          0.00694864 ETH

   > Saving migration to chain.
   > Saving artifacts
   -------------------------------------
   > Total cost:          0.00911344 ETH

Summary
=======
> Total deployments:   3
> Final cost:          0.01466268 ETH
</pre>
<div style="margin-top:.625em;">
这里显示了交易的ID号，部署的合约地址。以及交易的花费和一些相关的状态。
</div>
   ]]>
    </c:sourceContent>
    


    <c:sourceContent type="html" title="通过 Ganache 部署" id="sourceContent1"
                     titleStyle="padding-left:0;color:green;font-size:1em;background-color:white;font-size:1.6em;margin-top:1em;"
                     bodyStyle="background-color:white;padding:0;font-size:1.2em;line-height:1.45em;font-family:monospace;">
      <![CDATA[
<div>
除了用上面的 Truffle Develop，还可以选择使用 Ganache, 这是一个桌面应用，他同样会创建一个个人模拟的区块链。 对于刚接触以太坊的同学来说，Ganache 会更容易理解，因为他把所有的信息，都输在前端的界面。
</div>
<div style="margin-top:.625em;">
不像 Truffle Develop 把链和控制台集成在一起，使用 Ganache 需要编辑配置文件，以便 Truffle 能链接 Ganache 实例。
</div>
<div style="margin-top:.625em;">
1. 下载安装 <a href="https://www.trufflesuite.com/ganache">Ganache</a>.
</div>
<div style="margin-top:.625em;">
2. 编辑器打开 truffle.js ，使用下面的内容：
</div>
<pre style="background-color:darkblue;color:cadetblue;padding:.625em 1em;margin-top:.325em;font-size:.825em;">
module.exports = {
  networks: {
    development: {
      host: "127.0.0.1",
      port: 7545,
      network_id: "*"
    }
  }
};
</pre>
<div style="margin-top:.625em;">
这是使用默认的连接参数去连接 Ganache（如果IP和端口有变化，需要同步修改上面的内容）。
</div>
<div style="margin-top:.625em;">
3. 保存关闭配置文件。
</div>
<div style="margin-top:.625em;">
4. 启动 Ganache
</div>
<div style="margin-top:.625em;">
<img width="100%" src="/images/ether/accounts.png" />
</div>
<div style="margin-top:.625em;">
5. 打开控制台，执行部署：
</div>
<pre style="background-color:darkblue;color:cadetblue;padding:.625em 1em;margin-top:.325em;font-size:.825em;">
truffle migrate
</pre>
<div style="margin-top:.625em;">
我们可以看到类似下面的输出：
</div>
<pre style="background-color:darkblue;color:cadetblue;padding:.625em 1em;margin-top:.325em;font-size:.625em;">
Starting migrations...
======================
> Network name:    'develop'
> Network id:      4447
> Block gas limit: 6721975

1_initial_migration.js
======================

   Deploying 'Migrations'
   ----------------------
   > transaction hash:    0x3fd222279dad48583a3320decd0a2d12e82e728ba9a0f19bdaaff98c72a030a2
   > Blocks: 0            Seconds: 0
   > contract address:    0xa0AdaB6E829C818d50c75F17CFCc2e15bfd55a63
   > account:             0x627306090abab3a6e1400e9345bc60c78a8bef57
   > balance:             99.99445076
   > gas used:            277462
   > gas price:           20 gwei
   > value sent:          0 ETH
   > total cost:          0.00554924 ETH

   > Saving migration to chain.
   > Saving artifacts
   -------------------------------------
   > Total cost:          0.00554924 ETH

2_deploy_contracts.js
=====================

   Deploying 'ConvertLib'
   ----------------------
   > transaction hash:    0x97e8168f1c05fc40dd8ffc529b9a2bf45cc7c55b07b6b9a5a22173235ee247b6
   > Blocks: 0            Seconds: 0
   > contract address:    0xfb39FeaeF3ac3fd4TinY66668exionge6bD638d6
   > account:             0x627306090abab3a6e1400e9345bc60c78a8bef57
   > balance:             99.9914458
   > gas used:            108240
   > gas price:           20 gwei
   > value sent:          0 ETH
   > total cost:          0.0021648 ETH

   Linking
   -------
   * Contract: MetaCoin <--> Library: ConvertLib (at address: 0xfb39FeaeF3ac3fd46e2123768e559BCe6bD638d6)

   Deploying 'MetaCoin'
   --------------------
   > transaction hash:    0xee6574803810e7314cc83adf899d67f51f22e08b920e657480385c5eb498bde4
   > Blocks: 0            Seconds: 0
   > contract address:    0x6891ATinyEF3dA9bc88C96fXlbC9eA4d6D88F768
   > account:             0x627306090abab3a6e1400e9345bc60c78a8bef57
   > balance:             99.98449716
   > gas used:            347432
   > gas price:           20 gwei
   > value sent:          0 ETH
   > total cost:          0.00694864 ETH

   > Saving migration to chain.
   > Saving artifacts
   -------------------------------------
   > Total cost:          0.00911344 ETH

Summary
=======
> Total deployments:   3
> Final cost:          0.01466268 ETH
</pre>
<div style="margin-top:.625em;">
这里同样显示了交易的ID号（hash），部署的合约地址。以及交易的花费和一些相关实时状态。
</div>
<div style="margin-top:.625em;">
1. 在 Ganache 里，点击 “Transactions” 可以看到交易详情。
</div>
<div style="margin-top:.625em;">
2. 为了和合约进行交互，我们可以使用 Truffle 的控制台：truffle console， Truffle console 和 Truffle Develop 类似，仅仅是他们连接的链不一样而已，这里是连接 Ganache 。
</div>
<pre style="background-color:darkblue;color:cadetblue;padding:.625em 1em;margin-top:.325em;font-size:.825em;">
truffle console
</pre>
<div style="margin-top:.625em;">
可以看到下面的提示:
</div>
<pre style="background-color:darkblue;color:cadetblue;padding:.625em 1em;margin-top:.325em;font-size:.825em;">
truffle(development)>
</pre>
<div style="margin-top:.625em;">
控制台提示符：truffle(development)> 括号里，指当前连接的网络。
</div>
   ]]>
    </c:sourceContent>
    
    <c:sourceContent type="html" title="合约交互" id="sourceContent1"
                     titleStyle="padding-left:0;color:green;font-size:1em;background-color:white;font-size:1.6em;margin-top:1em;"
                     bodyStyle="background-color:white;padding:0;font-size:1.2em;line-height:1.45em;font-family:monospace;">
      <![CDATA[
<div>
可以使用控制台 console 和合约进行交互：
</div>
<div style="margin-top:.625em;">
我们在例子中使用 web3.eth.getAccounts() , 它返回一个 promise 从中可以获取到由助记词生成的所有账号。 如果指定 (await web3.eth.getAccounts())[0] 会返回 0x627306090abab3a6e1400e9345bc60c78a8bef57.
</div>
<div style="margin-top:.625em;">
在 Truffle v5, 控制台支持 async/await 方法（同步方式）, 这样让跟合约交互更简单了，方法如下：
</div>
<div style="margin-top:.625em;">
1. 获取部署合约实例及获取账号列表：
</div>
<pre style="background-color:darkblue;color:cadetblue;padding:.625em 1em;margin-top:.325em;font-size:.825em;">
truffle(development)> let instance = await MetaCoin.deployed()
truffle(development)> let accounts = await web3.eth.getAccounts()
</pre>
<div style="margin-top:.625em;">
2. 检查账号余额：
</div>
<pre style="background-color:darkblue;color:cadetblue;padding:.625em 1em;margin-top:.325em;font-size:.825em;">
truffle(development)> let balance = await instance.getBalance(accounts[0])
truffle(development)> balance.toNumber()
</pre>
<div style="margin-top:.625em;">
3. 查看以太价值（其实就是调用了一个合约方法：合约方法里定义了一个metacoin 价值 2 ether)：
</div>
<pre style="background-color:darkblue;color:cadetblue;padding:.625em 1em;margin-top:.325em;font-size:.825em;">
truffle(development)> let ether = await instance.getBalanceInEth(accounts[0])
truffle(development)> ether.toNumber()
</pre>
<div style="margin-top:.625em;">
3. 发送一些 metacoin 到其他的账号 :
</div>
<pre style="background-color:darkblue;color:cadetblue;padding:.625em 1em;margin-top:.325em;font-size:.825em;">
truffle(development)> instance.sendCoin(accounts[1], 500)
</pre>
<div style="margin-top:.625em;">
4. 检查刚刚收款人的余额：
</div>
<pre style="background-color:darkblue;color:cadetblue;padding:.625em 1em;margin-top:.325em;font-size:.825em;">
truffle(development)> let received = await instance.getBalance(accounts[1])
truffle(development)> received.toNumber()
</pre>
<div style="margin-top:.625em;">
5. 检查刚刚发送方的余额：
</div>
<pre style="background-color:darkblue;color:cadetblue;padding:.625em 1em;margin-top:.325em;font-size:.825em;">
truffle(development)> let newBalance = await instance.getBalance(accounts[0])
truffle(development)> newBalance.toNumber()
</pre>
   ]]>
    </c:sourceContent>
    
    <c:comment>
      <c:comment1>
        <![CDATA[]]>
      </c:comment1>
    </c:comment>
  </c:entry>






  
  <c:entry style="margin-top:1em;">
    <c:title><![CDATA[<div style="color:blue;font-size:1.2em;">调试合约</div>]]></c:title>
    <c:desc>
      <c:desc1> <![CDATA[
<div style="font-size:1.2em;">
Truffle 集成了一个调试器，以便我们可以调试合约进行的交易。 此调试器和传统开发环境中使用的命令行调试程序有点像。
</div>
]]></c:desc1>
    </c:desc>
    <c:sourceContent type="html" title="概述" id="sourceContent1"
                     titleStyle="padding-left:0;color:green;font-size:1em;background-color:white;font-size:1.6em;"
                     bodyStyle="background-color:white;padding:0;font-size:1.2em;line-height:1.45em;font-family:monospace;">
      <![CDATA[
<div>
调试区块链上的交易与调试传统应用程序（例如，用C++或Javascript编写的应用程序）不同。在区块链上调试交易时，没有实时运行代码; 相反，我们将逐步执行该交易的历史执行，并将该执行映射到其关联的代码上。这为调试提供了许多自由，因此我们可以随时调试任何交易，只要我们拥有交易与之交互的合约的代码和工件(artifacts)即可。可以将这些代码和工件（artifacts）类似于传统调试器所需的调试符号。
</div>
<div style="margin-top:.625em;">
要调试交易，需要以下几个条件：
</div>
<ul style="margin-top:.325em;list-style: disc;margin-left: 1.5em;">
  <li>Truffle 4.0 及以上；</li>
  <li>所要调试区块链上的交易哈希值；</li>
  <li>交易对应的合约源代码和工件(artifacts)。</li>
</ul>
<div style="margin-top:.625em;">
注意，只要存在于链上交易，我们都可以调试它，即使交易发生异常或者gas耗尽，也没关系。
</div>
   ]]>
    </c:sourceContent>

    <c:sourceContent type="html" title="调试命令" id="sourceContent1"
                     titleStyle="padding-left:0;color:green;font-size:1em;background-color:white;font-size:1.6em;margin-top:1em;"
                     bodyStyle="background-color:white;padding:0;font-size:1.2em;line-height:1.45em;font-family:monospace;">
      <![CDATA[
<div>
要使用调试，先获取要调试的交易hash，运行以下命令启动调试器：
</div>
<pre style="background-color:darkblue;color:cadetblue;padding:.625em 1em;margin-top:.325em;font-size:.825em;">
$ truffle debug <transaction hash>
</pre>
<div style="margin-top:.625em;">
使用以“0x8e5dadfb921dd…”开头的交易为例，该命令为：
</div>
<pre style="background-color:darkblue;color:cadetblue;padding:.625em 1em;margin-top:.325em;font-size:.825em;">
$ truffle debug 0x8e5dadfb921dddxlb8f53af1f9bd8beeac6838dtinye0c2fe5085b42a4f3ca76
</pre>
<div style="margin-top:.625em;">
这将启动下面描述的调试界面。
</div>
<div style="margin-top:.625em;">
如果想打开调试器以使其准备调试接下来的交易，可以简单地运行：
</div>
<pre style="background-color:darkblue;color:cadetblue;padding:.625em 1em;margin-top:.325em;font-size:.825em;">
$ truffle debug
</pre>
<div style="margin-top:.625em;">
无论哪种方式启动的调试器，一旦它开始运行了，它就不仅限于调试启动时附加的交易（号）; 可以卸载当前交易并加载新交易，如下所述。
</div>
   ]]>
    </c:sourceContent>
    <c:sourceContent type="html" title="调试器界面" id="sourceContent1"
                     titleStyle="padding-left:0;color:green;font-size:1em;background-color:white;font-size:1.6em;margin-top:1em;"
                     bodyStyle="background-color:white;padding:0;font-size:1.2em;line-height:1.45em;font-family:monospace;">
      <![CDATA[
<div>
<img width="100%" src="/images/ether/15578231135557.jpeg" />
</div>
<div style="margin-top:.625em;">
启动调试器后，打开的交互界面和其他类型应用程序调试器差不多。在它启动时，将看到以下内容：
</div>
<ul style="margin-top:.325em;list-style: disc;margin-left: 1.5em;">
  <li>在此交易过程中处理或创建的地址列表。</li>
  <li>调试器所支持的调试命令列表。</li>
  <li>以及交易的初始入口点，包括合约源文件和代码预览。</li>
</ul>
<div style="margin-top:.625em;">
<b>enter</b> 回车键设置为执行最后输入的命令。当调试器启动时，在执行期间 <b>enter</b> 键被设置为步进到源代码的下一个逻辑元素（即，由以太坊虚拟机确定的下一个表达式或语句）。此时，我们可以按 <b>enter</b> 单步执行交易，或者输入一个可用命令来更详细地分析交易。下面是命令列表详述。
</div>

<h2>&#x02713; (o) 跳过（step over）</h2>
<div>
此命令跳过当前行（即当前在 Solidity 源文件中语句或表达式的位置），如果我们不想在当前行上进入函数调用或合约创建，或者我们想快速跳转到源文件中的特定点，请使用此命令。
</div>

<h2>&#x02713; (i) 进入（step into）</h2>
<div>
此命令进入当前所在的函数调用或合约创建。使用此命令跳转到该函数内，并快速开始调试其中存在的代码。
</div>

<h2>&#x02713; (u) 跳出（step out）</h2>
<div>
此命令退出当前运行的函数。如果这是交易的入口点，使用此命令会快速返回到调用函数，或结束交易的执行。
</div>

<h2>&#x02713; (n) 下一步（step next）</h2>
<div>
此命令将执行源代码中的下一个逻辑语句或表达式。例如，在虚拟机可以评估完整表达式之前，需要首先评估子表达式。 如果要分析虚拟机评估的每个逻辑项，请使用此命令。
</div>

<h2>&#x02713; (;) 单步指令（step instruction）</h2>
<div>
此命令允许我们逐步执行虚拟机评估的每个单独指令。如果要了解 Solidity 源代码创建的低级字节码，这个命令非常有用。使用此命令时，调试器还将在评估指令时打印出堆栈数据。可以将此命令与数字参数一起使用，以多次步进。
</div>

<h2>&#x02713; (p) 打印指令（print instruction）</h2>
<div>
此命令打印当前指令和堆栈数据，但不会跳到下一条指令。 当我们使用上面调试命令导航到一个交易语句时，希望查看当前指令和堆栈数据时，就可以使用此命令。
</div>

<h2>&#x02713; (h) print this help</h2>
<div>
打印可用调试命令列表。
</div>

<h2>&#x02713; (q) 退出</h2>
<div>
退出调试器。
</div>

<h2>&#x02713; (r) 重置（reset）</h2>
<div>
将调试器重置为交易的开头。
</div>

<h2>&#x02713; (b) 设置断点（set a breakpoint）</h2>
<div>
此命令允许我们为任何源文件中的任何行设置断点（请参阅下面的添加和移除断点示例 ）。 命令后面可以接一个行号、或相对（当前）行号、 或者可以简单地在当前所在行添加断点。不需要加载交易来设置断点，但在这种情况下，必须指定要将其设置的源文件。
</div>

<h2>&#x02713; (B) 移除断点（大写的B）</h2>
<div>
此命令允许我们删除任何现有断点，方法和添加断点一样（请参阅下面的添加和移除断点示例 ）。 键入 <b>B all</b> 删除所有断点。
</div>

<h2>&#x02713; (c) 跳到下一个断点</h2>
<div>
此命令将代码继续执行，直到到达下一个断点或执行到最后一行。
</div>

<h2>&#x02713; (+) 添加一个监视表达式</h2>
<div>
使用 +:<expression> 添加一个监视表达式，这样在每次执行的时候，都可以看到监视表达式的值。<br />
译者注：比如在链上记事本, 我们要调试 addNote(string memory note) 函数, 就可以使用 +:note:
</div>
<pre style="background-color:darkblue;color:cadetblue;padding:.625em 1em;margin-top:.325em;font-size:.825em;">
debug(development:0xd2acb9c3...)> +:note
</pre>

<h2>&#x02713; (-) 移除监视表达式</h2>
<div>
使用 -:<expression> 删除监视表达式
</div>

<h2>&#x02713; (?) 列出所有的监视表达式及断点</h2>
<div>
此命令将显示所有当前监视表达式的列表及断点。
</div>

<h2>&#x02713; (v) 显示变量</h2>
<div>
此命令将显示当前变量及其值。
</div>

<h2>&#x02713; (T) 卸载交易</h2>
<div>
此命令卸载当前交易，以便可以加载新交易。
</div>

<h2>&#x02713; (t) 加载交易</h2>
<div>
此命令加载新交易（给定交易哈希）。请注意，如果您已经加载了交易，则必须首先显式卸载它，然后才能加载新交易。
</div>
   ]]>
    </c:sourceContent>
    <c:sourceContent type="html" title="添加和移除断点" id="sourceContent1"
                     titleStyle="padding-left:0;color:green;font-size:1em;background-color:white;font-size:1.6em;margin-top:1em;"
                     bodyStyle="background-color:white;padding:0;font-size:1.2em;line-height:1.45em;font-family:monospace;">
      <![CDATA[
<div>
以下是添加和删除断点的一些示例。 注意添加（小写’b’）和删除（大写’B’）之间的区别。
</div>
<pre style="background-color:darkblue;color:cadetblue;padding:.625em 1em;margin-top:.325em;font-size:.825em;">
MagicSquare.sol:

11:   event Generated(uint n);
12:
13:   function generateMagicSquare(uint n)
      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^

debug(develop:0x91c817a1...)> b 23
Breakpoint added at line 23.

debug(develop:0x91c817a1...)> B 23
Breakpoint removed at line 23.

debug(develop:0x91c817a1...)> b SquareLib:5
Breakpoint added at line 5 in SquareLib.sol.

debug(develop:0x91c817a1...)> b +10
Breakpoint added at line 23.

debug(develop:0x91c817a1...)> b
Breakpoint added at this point in line 13.

debug(develop:0x91c817a1...)> B all
Removed all breakpoints.
</pre>
   ]]>
    </c:sourceContent>

    <c:comment>
      <c:comment1>
        <![CDATA[]]>
      </c:comment1>
    </c:comment>
  </c:entry>






  
  <c:entry style="margin-top:1em;">
    <c:title><![CDATA[<div style="color:blue;font-size:1.6em;">How to convert a solidity contract to a Java contract class</div>]]></c:title>
    <c:desc>
      <c:desc1> <![CDATA[
]]></c:desc1>
    </c:desc>
    <c:sourceContent type="html" title="Environment" id="sourceContent1"
                     titleStyle="padding-left:0;color:currentColor;font-size:1em;background-color:white;font-size:1.6em;"
                     bodyStyle="background-color:white;padding:0;font-size:1.2em;line-height:1.45em;font-family:monospace;">
      <![CDATA[
<ul style="margin-top:.325em;list-style: disc;margin-left: 1.5em;">
  <li>Tsolidity:v0.4.24/li>
  <li>solc:0.4.24+commit.6ae8fb59.Windows.msvc/li>
  <li>jdk:1.8/li>
  <li>web3j:4.5.0/li>
  <li>OS:Windows10</li>
</ul>
   ]]>
    </c:sourceContent>

    <c:sourceContent type="html" title="Download Web3j" id="sourceContent1"
                     titleStyle="padding-left:0;color:currentColor;font-size:1em;background-color:white;font-size:1.6em;margin-top:.625em;"
                     bodyStyle="background-color:white;padding:0;font-size:1.2em;line-height:1.45em;font-family:monospace;">
      <![CDATA[
<div>
<a href="https://github.com/web3j/web3j/releases/tag/v4.5.0">web3j</a> A tool to convert sol files to java files is provided on the command line, so download it.
</div>

<ul style="margin-top:.325em;list-style: disc;margin-left: 1.5em;">
  <li>There is a zip file at the link destination, so download it.</li>
  <li>Unzip the zip file and place it in any directory.</li>
  <li>Pass the path to the bin directory of the placed directory.</li>
  <li>At the command prompt, type web3j.</li>
</ul>
   ]]>
    </c:sourceContent>
    <c:sourceContent type="html" title="" id="sourceContent1"
                     titleStyle="padding-left:0;color:currentColor;font-size:1em;background-color:white;font-size:1.6em;"
                     bodyStyle="padding:0;font-size:1.2em;line-height:1.45em;font-family:monospace;margin-top:.625em;">
      <![CDATA[
The setting is complete when the following display appears.
   ]]>
    </c:sourceContent>
    <c:sourceContent type="html" title="" id="sourceContent1"
                     titleStyle="padding-left:0;color:currentColor;font-size:1em;background-color:white;font-size:1.6em;"
                     bodyStyle="padding:0;font-size:1.2em;line-height:1.45em;font-family:monospace;margin-top:.625em;">
      <![CDATA[
<pre>
              _      _____ _     _
             | |    |____ (_)   (_)
__      _____| |__      / /_     _   ___
\ \ /\ / / _ \ '_ \     \ \ |   | | / _ \
 \ V  V /  __/ |_) |.___/ / | _ | || (_) |
  \_/\_/ \___|_.__/ \____/| |(_)|_| \___/
                         _/ |
                        |__/
Usage: web3j version|wallet|solidity ...</pre>
   ]]>
    </c:sourceContent>
    <c:sourceContent type="html" title="Create bin and abi files" id="sourceContent1"
                     titleStyle="padding-left:0;color:currentColor;font-size:1.425em;background-color:white;margin-top:.625em;"
                     bodyStyle="background-color:white;padding:0;font-size:1.2em;line-height:1.45em;font-family:monospace;">
      <![CDATA[
First, prepare the sol file.
   ]]>
    </c:sourceContent>
    <c:sourceContent type="" title="" id="sourceContent1"
                     titleStyle="padding-left:0;color:currentColor;font-size:1.425em;background-color:white;"
                     bodyStyle="background-color:white;padding:0;font-size:1.6em;line-height:1.45em;font-family:monospace;margin-top:.625em;">
      <![CDATA[
### >>> addition.sol
pragma solidity ^0.4.24;

contract Addition{
  int num = 0;
  function add(int a) public {
    num += a;
  }
  function get() public view returns(int)  {
    return num;
  }
}

### Compile this sol file and extract the bin and abi.
$ solc --bin addition.sol > addition.bin
$ solc --abi addition.sol > addition.abi

### The output files are as follows.
======= addition.bin =======
Binary: 
60806040526000805534801561001457600080fd5b5060e7806100236000396000f3006080604052600436106049576000357c0100000000000000000000000000000000000000000000000000000000900463ffffffff1680636d4ce63c14604e57806387db03b7146076575b600080fd5b348015605957600080fd5b50606060a0565b6040518082815260200191505060405180910390f35b348015608157600080fd5b50609e6004803603810190808035906020019092919050505060a9565b005b60008054905090565b806000808282540192505081905550505600a165627a7a723058200522274b97a5967f28327168f4654fbd3921238ed6de8e155c966f7dad168e020029
======= addition.abi =======
Contract JSON ABI 
[{"constant":true,"inputs":[],"name":"get","outputs":[{"name":"","type":"int256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":false,"inputs":[{"name":"a","type":"int256"}],"name":"add","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"}]

   ]]>
    </c:sourceContent>
    <c:sourceContent type="html" title="" id="sourceContent1"
                     titleStyle="padding-left:0;font-size:1em;background-color:black;font-size:1.6em;"
                     bodyStyle="padding:.3em .6em;color:white;font-size:1em;background-color:black;font-family:monospace;margin-top:.625em;">
      <![CDATA[
For these two files, delete the first few lines (up to ~ Binary: / ~ JSON ABI) as they will be unnecessary for future processing.
   ]]>
    </c:sourceContent>
    <c:sourceContent type="" title="Create a contract class" id="sourceContent1"
                     titleStyle="padding:0 0 .2em 0;color:currentColor;font-size:1.425em;background-color:white;margin-top:1.225em;"
                     bodyStyle="background-color:white;padding:0;font-size:1.2em;font-family:monospace;">
      <![CDATA[
## Create with the following command
$ web3j solidity generate -a=addition.abi -b=addition.bin -o=src -p=jp.ethereum.contracts
   ]]>
    </c:sourceContent>
    <c:sourceContent type="html" title="" id="sourceContent1"
                     titleStyle="padding-left:0;color:currentColor;font-size:1em;background-color:white;font-size:1.6em;"
                     bodyStyle="padding:0;font-size:1.2em;line-height:1.45em;font-family:monospace;margin-top:.625em;">
      <![CDATA[
<pre>
Execution result
              _      _____ _     _
             | |    |____ (_)   (_)
__      _____| |__      / /_     _   ___
\ \ /\ / / _ \ '_ \     \ \ |   | | / _ \
 \ V  V /  __/ |_) |.___/ / | _ | || (_) |
  \_/\_/ \___|_.__/ \____/| |(_)|_| \___/
                         _/ |
                        |__/

Generating jp.ethereum.contracts.Addition ... File written to src</pre>
   ]]>
    </c:sourceContent>
    <c:sourceContent type="html" title="Create bin and abi files" id="sourceContent1"
                     titleStyle="padding-left:0;color:currentColor;font-size:1.425em;background-color:white;margin-top:.625em;"
                     bodyStyle="background-color:white;padding:0;font-size:1.2em;line-height:1.45em;font-family:monospace;">
      <![CDATA[
If this result is obtained, the output is complete. It is output to the directory specified by the "-O" option. In this case, the "jp.ethereum.contracts" package specified by "-p" is created under the src directory, and Addtion.java is created under that package.
   ]]>
    </c:sourceContent>
    <c:sourceContent type="" title="addtion.java" id="sourceContent1"
                     titleStyle="padding:0 0 .2em 0;color:currentColor;font-size:1.425em;background-color:white;margin-top:1.225em;"
                     bodyStyle="background-color:white;padding:0;font-size:1.2em;font-family:monospace;">
      <![CDATA[
/**
 * This class is required when executing a contract using Web3j. 
 * There are many deprecated methods, so be careful when using them.
 **/
package jp.ethereum.contracts;

import java.math.BigInteger;
import java.util.Arrays;
import java.util.Collections;
import org.web3j.abi.TypeReference;
import org.web3j.abi.datatypes.Function;
import org.web3j.abi.datatypes.Type;
import org.web3j.abi.datatypes.generated.Int256;
import org.web3j.crypto.Credentials;
import org.web3j.protocol.Web3j;
import org.web3j.protocol.core.RemoteCall;
import org.web3j.protocol.core.RemoteFunctionCall;
import org.web3j.protocol.core.methods.response.TransactionReceipt;
import org.web3j.tx.Contract;
import org.web3j.tx.TransactionManager;
import org.web3j.tx.gas.ContractGasProvider;

/**
 * <p>Auto generated code.
 * <p><strong>Do not modify!</strong>
 * <p>Please use the <a href="https://docs.web3j.io/command_line.html">web3j command line tools</a>,
 * or the org.web3j.codegen.SolidityFunctionWrapperGenerator in the 
 * <a href="https://github.com/web3j/web3j/tree/master/codegen">codegen module</a> to update.
 *
 * <p>Generated with web3j version 4.5.0.
 */
public class Addition extends Contract {
    private static final String BINARY = "60806040526000805534801561001457600080fd5b5060e7806100236000396000f3006080604052600436106049576000357c0100000000000000000000000000000000000000000000000000000000900463ffffffff1680636d4ce63c14604e57806387db03b7146076575b600080fd5b348015605957600080fd5b50606060a0565b6040518082815260200191505060405180910390f35b348015608157600080fd5b50609e6004803603810190808035906020019092919050505060a9565b005b60008054905090565b806000808282540192505081905550505600a165627a7a723058200522274b97a5967f28327168f4654fbd3921238ed6de8e155c966f7dad168e020029\r\n";

    public static final String FUNC_GET = "get";

    public static final String FUNC_ADD = "add";

    @Deprecated
    protected Addition(String contractAddress, Web3j web3j, Credentials credentials, BigInteger gasPrice, BigInteger gasLimit) {
        super(BINARY, contractAddress, web3j, credentials, gasPrice, gasLimit);
    }

    protected Addition(String contractAddress, Web3j web3j, Credentials credentials, ContractGasProvider contractGasProvider) {
        super(BINARY, contractAddress, web3j, credentials, contractGasProvider);
    }

    @Deprecated
    protected Addition(String contractAddress, Web3j web3j, TransactionManager transactionManager, BigInteger gasPrice, BigInteger gasLimit) {
        super(BINARY, contractAddress, web3j, transactionManager, gasPrice, gasLimit);
    }

    protected Addition(String contractAddress, Web3j web3j, TransactionManager transactionManager, ContractGasProvider contractGasProvider) {
        super(BINARY, contractAddress, web3j, transactionManager, contractGasProvider);
    }

    public RemoteFunctionCall<BigInteger> get() {
        final Function function = new Function(FUNC_GET, 
                Arrays.<Type>asList(), 
                Arrays.<TypeReference<?>>asList(new TypeReference<Int256>() {}));
        return executeRemoteCallSingleValueReturn(function, BigInteger.class);
    }

    public RemoteFunctionCall<TransactionReceipt> add(BigInteger a) {
        final Function function = new Function(
                FUNC_ADD, 
                Arrays.<Type>asList(new org.web3j.abi.datatypes.generated.Int256(a)), 
                Collections.<TypeReference<?>>emptyList());
        return executeRemoteCallTransaction(function);
    }

    @Deprecated
    public static Addition load(String contractAddress, Web3j web3j, Credentials credentials, BigInteger gasPrice, BigInteger gasLimit) {
        return new Addition(contractAddress, web3j, credentials, gasPrice, gasLimit);
    }

    @Deprecated
    public static Addition load(String contractAddress, Web3j web3j, TransactionManager transactionManager, BigInteger gasPrice, BigInteger gasLimit) {
        return new Addition(contractAddress, web3j, transactionManager, gasPrice, gasLimit);
    }

    public static Addition load(String contractAddress, Web3j web3j, Credentials credentials, ContractGasProvider contractGasProvider) {
        return new Addition(contractAddress, web3j, credentials, contractGasProvider);
    }

    public static Addition load(String contractAddress, Web3j web3j, TransactionManager transactionManager, ContractGasProvider contractGasProvider) {
        return new Addition(contractAddress, web3j, transactionManager, contractGasProvider);
    }

    public static RemoteCall<Addition> deploy(Web3j web3j, Credentials credentials, ContractGasProvider contractGasProvider) {
        return deployRemoteCall(Addition.class, web3j, credentials, contractGasProvider, BINARY, "");
    }

    @Deprecated
    public static RemoteCall<Addition> deploy(Web3j web3j, Credentials credentials, BigInteger gasPrice, BigInteger gasLimit) {
        return deployRemoteCall(Addition.class, web3j, credentials, gasPrice, gasLimit, BINARY, "");
    }

    public static RemoteCall<Addition> deploy(Web3j web3j, TransactionManager transactionManager, ContractGasProvider contractGasProvider) {
        return deployRemoteCall(Addition.class, web3j, transactionManager, contractGasProvider, BINARY, "");
    }

    @Deprecated
    public static RemoteCall<Addition> deploy(Web3j web3j, TransactionManager transactionManager, BigInteger gasPrice, BigInteger gasLimit) {
        return deployRemoteCall(Addition.class, web3j, transactionManager, gasPrice, gasLimit, BINARY, "");
    }
}
   ]]>
    </c:sourceContent>


    <c:comment>
      <c:comment1>
        <![CDATA[]]>
      </c:comment1>
    </c:comment>
  </c:entry>




</c:component>
