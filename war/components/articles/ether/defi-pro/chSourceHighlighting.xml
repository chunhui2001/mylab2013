<?xml version="1.0" encoding="utf-8"?>
<c:component type="chSourceHighlighting" componentId="chSourceHighlighting_1" xmlns:c="http://com.snnmo.website">
  <c:abstract style="font-size:1em;line-height:1.6em;">
    <![CDATA[
<img style="width:100%;" src="/images/ether/1592902075386-e02f861a-64c3-4b7a-8fd1-35bb742815a0.png" />
]]>
  </c:abstract>
  
  <c:entry style="margin-top:1em;">
    <c:title><![CDATA[<div style="color:blue;font-size:1.2em;">什么是 DeFi？</div>]]></c:title>
    <c:desc>
      <c:desc1> <![CDATA[

]]></c:desc1>
    </c:desc>
    <c:sourceContent type="html" title="" id="sourceContent1"
                     titleStyle="padding-left:0;color:green;font-size:1em;background-color:white;font-size:1.2em;"
                     bodyStyle="background-color:white;padding:0;font-size:1.1em;line-height:1.625em;font-family:monospace;">
      <![CDATA[
<div style="margin-bottom:.425em;">
  DeFi 是 Decentralized Finance（去中心化金融）的简称，有时也叫作 open finance。是指去中心化技术（尤其是区块链网络）实现的经济范式转变，通常指建立在 Ethereum 上的数字资产和金融智能合约、协议和 DApps 。
</div>
<div style="margin-top:.625em;">
从点对点支付系统到自动贷款再到与美元挂钩的稳定币，DeFi 已经成为了区块链最活跃的领域之一。
</div>
<div style="margin-top:.625em;">
为了更好地理解 DeFi，我们首先应该看看传统金融是如何产生的。虽然有时候感觉钱一直存在着，但事实并非如此。
</div>
<div style="margin-top:.625em;">
人类最初是用物品和服务来交换的。但随着人类社会的形成和发展，我们的经济也随之发展。我们发明货币是为了方便兑换有价值的东西。随后，货币帮助引进了新的创新和更高水平的经济生产力。然而，这种进步并不是没有代价的。
</div>
<div style="margin-top:.625em;">
历史上，像政府这样的中央机构一直在发行支撑我们经济的货币。人们期望中央银行和机构谨慎管理和监管流通中的货币供应。随着我们经济的规模和复杂性的增长，这些中央机构获得了更多的权力，因为越来越多的人信任他们。
</div>
<div style="margin-top:.625em;">
你相信你的政府不会一夜之间印出更多的钱。你相信你的银行会安全地存放你的钱。而且，当涉及到投资时，你会把自己的资产托付给一位财务顾问或专家朋友。通过把你的钱交给别人，你希望获得利润。但是，我们当前金融体系中令人悲哀的事实是：<b>这种信任并不总是会得到回报</b>。
</div>
<div style="margin-top:.625em;">
在公司如何处理我们的投资，甚至我们的政府如何管理经济方面，我们通常几乎没有发言权。在大多数情况下，投资者只能从这些中央机构承担的风险中获得一小部分回报。
</div>
<div style="margin-top:.625em;">
然而，<b>DeFi 正在尝试建立一些不同的东西。</b>
</div>
<div style="margin-top:.625em;">
去中心化金融的目的是建立一个对所有人开放的金融体系，并最大限度地减少人们对中央权威的信任和依赖。互联网，密码学和区块链等技术为我们提供了无需中央机构即可共同构建和控制金融系统的工具。
</div>
<div style="margin-top:.625em;">
在区块链领域中有一句谚语: “Don't trust, verify.（不要相信，要验证）” 因为有了区块链网络，我们个人可以验证在区块链上发生的任何一笔交易。
</div>
<div style="margin-top:.625em;">
<b>DeFi 允许每个人掌控自己的财务状况。</b>
</div>
<div style="margin-top:.625em;">
开发人员可以在以太坊上对可以在区块链上创建，存储和管理数字资产（也称为令牌）的应用程序进行编程。这些称为智能合约或分散应用程序（DApp）。它们是由以太坊区块链执行的合同或协议。或者，仅以太坊网络上编程运行的应用程序或脚本。您可以建立复杂的不可逆协议，而无需中间人。
</div>
<div style="margin-top:.625em;">
几乎所有的 DeFi 应用程序都建立在 Ethereum（以太坊）区块链上。开发人员可以在 Ethereum 上编写应用程序，创建、存储和管理数字资产，也称为 Token（令牌或代币)，这些被称为 Smart Contracts（智能合约）或 DApps（分布式应用程序）。它们是由以太坊区块链执行的合同或协议。通过这些合约或应用，我们可以建立复杂的不可逆协议，<b>而无需中间人</b>。
</div>
<div style="margin-top:.625em;">
去中心化金融有机会建立一个更有弹性和更透明的金融体系。任何有互联网连接的人都可以访问基于以太坊区块链的智能合约并与之交互。许多智能合同都是开源的，可与现有的智能合同互操作。因此，用户可以验证智能合约的代码，并选择最适合自己的服务。
</div>
   ]]>
    </c:sourceContent>

    <c:comment>
      <c:comment1>
        <![CDATA[]]>
      </c:comment1>
    </c:comment>
  </c:entry>


  
  <c:entry style="margin-top:1em;">
    <c:title><![CDATA[<div style="color:blue;font-size:1.2em;">DeFi 有哪些应用？</div>]]></c:title>
    <c:desc>
      <c:desc1> <![CDATA[
<div style="margin-bottom:.425em;font-size:1.1em;">
有许多不同的 DeFi 产品和服务，你可能会发现其中一些和现有的金融服务类似，但是是去中心化的。
</div>
]]></c:desc1>
    </c:desc>
    <c:sourceContent type="html" title="Lending 借贷" id="sourceContent1"
                     titleStyle="padding-left:0;color:black;font-size:1em;background-color:white;font-size:1.625em;"
                     bodyStyle="background-color:white;padding:0;font-size:1.1em;line-height:1.625em;font-family:monospace;">
      <![CDATA[
<div style="margin-bottom:.425em;">
  DeFi 最流行的领域之一是借贷 Token。与银行类似，用户存钱并从其他用户借入他们的资产获得利息。然而，在这种情况下，资产是数字化的，智能合约将贷款人与借款人联系起来，执行贷款条款，并分配利息。这一切都发生在不需要彼此信任或有中间人银行的情况下。而且，由于区块链提供的透明性，通过减少中间商，贷方可以赚取更高的回报，并更清楚地了解风险。
</div>
<div style="margin-top:.625em;">
在 DeFi 中，借贷是一种非常受欢迎的赚取被动收入的方式。尽管你可能认为向陌生人放贷听起来有风险，但 DeFi 发放的大多数贷款都是抵押贷款，抵押品比借款价值更高。这降低了贷方的风险。
</div>
<div style="margin-top:.625em;">
称为 stablecoins（稳定币）的 Token 对 DeFi 生态系统也很重要。你可能认为所有的加密货币都是易变的，然而，稳定币是为了保持特定价值而设计的代币，通常与美元等法定货币挂钩。
</div>
<div style="margin-top:.625em;">
MakerDAO 是最受欢迎的借贷 DApp 之一，可让我们锁定 ETH 以获得一个名为 DAI 的稳定币，该币与美元挂钩，对于每一个 DAI，都有 1.5 美元的 ETH 被锁定在 MakerDAO 智能合同中作为抵押。DAI 为代币持有者提供了一种以年利率为代价获取流动性的方式 DAI 在 DeFi 社区中作为最受欢迎的稳定币发挥着重要的作用。
</div>
   ]]>
    </c:sourceContent>
    <c:sourceContent type="html" title="DEXes 去中心化交易所" id="sourceContent1"
                     titleStyle="padding-left:0;color:black;font-size:1em;background-color:white;font-size:1.625em;margin-top:.425em;"
                     bodyStyle="background-color:white;padding:0;font-size:1.1em;line-height:1.625em;font-family:monospace;">
      <![CDATA[
<div style="margin-bottom:.425em;">
  Decentralized exchanges（去中心化交易所），简称 DEX，是允许用户购买，出售或交易加密货币或代币的智能合约。由于它们建立在以太坊区块链上，因此这些交易所无需中央授权即可运行。相反，智能合约会执行规则，执行交易并在必要时安全地处理资金。与中心化交易所不同，在进行交易之前，通常无需存入资金。
</div>
   ]]>
    </c:sourceContent>
    <c:sourceContent type="html" title="Derivatives 衍生品市场" id="sourceContent1"
                     titleStyle="padding-left:0;color:black;font-size:1em;background-color:white;font-size:1.625em;margin-top:.425em;"
                     bodyStyle="background-color:white;padding:0;font-size:1.1em;line-height:1.625em;font-family:monospace;">
      <![CDATA[
<div style="margin-bottom:.425em;">
  衍生工具是一种合约，其价值取决于标的资产的表现。同样，DeFi 的衍生品市场使用合成定价在区块链上可以交易几乎所有资产。例如，使用智能合约为股票，期货甚至比特币创建衍生代币。同样，预测市场也是 DeFi 中另一种受欢迎的衍生品市场，预测市场本质上是让用户对任何事件的结果下赌注。
</div>
   ]]>
    </c:sourceContent>
    <c:sourceContent type="html" title="Payments 付款" id="sourceContent1"
                     titleStyle="padding-left:0;color:black;font-size:1em;background-color:white;font-size:1.625em;margin-top:.425em;"
                     bodyStyle="background-color:white;padding:0;font-size:1.1em;line-height:1.625em;font-family:monospace;">
      <![CDATA[
<div style="margin-bottom:.425em;">
  支付类别主要由 Layer 2 支付渠道网络主导。这些网络建立在现有的区块链之上，如 Ethereum 或 Bitcoin，也叫 Layer 1。支付网络允许双方创建即时转移支付渠道。正如你可能知道的，区块链只能一次处理比较少的交易。因此，Layer 2 解决方案允许用户为了加快速度而牺牲 Layer 1 的安全性和分散性。最终，这些特性使 Layer 2 支付渠道成为小规模、频繁支付的理想选择，就像那些传统商业支付渠道一样。
</div>
   ]]>
    </c:sourceContent>
    <c:sourceContent type="html" title="Assets 资产" id="sourceContent1"
                     titleStyle="padding-left:0;color:black;font-size:1em;background-color:white;font-size:1.625em;margin-top:.425em;"
                     bodyStyle="background-color:white;padding:0;font-size:1.1em;line-height:1.625em;font-family:monospace;">
      <![CDATA[
<div style="margin-bottom:.425em;">
  Tokenized（代币化）资产和资产管理是 DeFi 快速增长的领域。作为 Token 部署到区块链的现有金融资产非常适合 DeFi 协议，其实用性得到了很好的扩展。资产管理协议允许投资者将资金投入管理其投资组合的智能合约或基金经理手中。其他资产管理协议，例如 Set Protocol，使用自动化策略，例如定期重新平衡或跟踪技术指标。
</div>
<div style="margin-top:.625em;">
可以说，DeFi最受欢迎且发展最快的行业是借贷平台。与银行类似，用户存钱并从其他借入其资产的用户那里赚取利息。但是，在这种情况下，资产是数字的，智能合约将贷方连接到借款人，执行贷款条款，并分配利息。而这一切都发生在不需要彼此信任或中间人银行的情况下。而且，由于区块链提供的透明性，通过减少中间商，贷方可以赚取更高的回报，并更清楚地了解风险。
</div>
   ]]>
    </c:sourceContent>

    <c:comment>
      <c:comment1>
        <![CDATA[]]>
      </c:comment1>
    </c:comment>
  </c:entry>

  <c:entry style="margin-top:1em;">
    <c:title><![CDATA[<div style="color:blue;font-size:1.2em;">DeFi 的无限可能</div>]]></c:title>
    <c:desc>
      <c:desc1> <![CDATA[
]]></c:desc1>
    </c:desc>
    <c:sourceContent type="html" title="" id="sourceContent1"
                     titleStyle="padding-left:0;color:green;font-size:1em;background-color:white;font-size:1.625em;"
                     bodyStyle="background-color:white;padding:0;font-size:1.1em;line-height:1.625em;font-family:monospace;">
      <![CDATA[
<div style="margin-bottom:.425em;">
  DeFi 就像一个聪明的货币乐高玩具，你可以从一堆小砖块开始。这取决于你如何将乐高积木拼接在一起来构建新的东西。智能合约也是如此。随着每一个新的项目，产品，或服务在 Ethereum 上推出，你的收藏中都会多一个乐高积木。通过将 DeFi 的现有组件拼接在一起，你可以组合、修改或者用这些货币乐高积木创造出强大的新金融工具。
</div>
<div style="margin-top:.625em;">
cDAI 就是一个完美的货币乐高积木的例子。Compound 是货币市场，换句话说就是以太坊的借贷服务。当你向 Compound 提供 DAI 时，你会收到 cDAI 代币，该代币既代表你在 Compound 中的 DAI，也代表你从贷款中获得的任何利息。由于 cDAI 是 Token，因此你可以在其他智能合约中发送，接收甚至使用 cDAI。货币乐高这时就会发挥作用了：
</div>
<ul style="margin-top:.325em;list-style: disc;margin-left: 1.5em;">
  <li>将 ETH 放入 MakerDAO 中以创建 DAI 代币。</li>
  <li>DAI 提供给 Compound 换取 cDAI。</li>
  <li>cDAI 代币可以用于其他 DApp，比如：你可以使用 DEX.ag 这样的 DEX 聚合器在所有流行的区块链上以最好的价格进行比较和交易。</li>
</ul>
   ]]>
    </c:sourceContent>
    <c:comment>
      <c:comment1>
        <![CDATA[]]>
      </c:comment1>
    </c:comment>
  </c:entry>

  <c:entry style="margin-top:1em;">
    <c:title><![CDATA[<div style="color:blue;font-size:1.2em;">去中心化的程度</div>]]></c:title>
    <c:desc>
      <c:desc1> <![CDATA[
]]></c:desc1>
    </c:desc>
    <c:sourceContent type="html" title="" id="sourceContent1"
                     titleStyle="padding-left:0;color:green;font-size:1em;background-color:white;font-size:1.625em;"
                     bodyStyle="background-color:white;padding:0;font-size:1.1em;line-height:1.625em;font-family:monospace;">
      <![CDATA[
<div style="margin-bottom:.425em;">
  当涉及到 DeFi 服务时，去中心化的程度可能不同。实事求是来说，不是所有的事情都可以或者需要完全去中心化。
</div>
<div style="margin-top:.625em;">
正如前面提到的，稳定币在 DeFi 中很流行。但是，并不是所有的稳定币都像 DAI 那样去中心化。其中许多实际上是代表法定货币存款的代币。例如，对于每个 USDC 代币，会在某个地方的银行中存有 1 个 USD。理论上，你可以“tokenize（代币化）”或创建一个代币来表示任何现实世界的资产。 在这里事情变得不是那么黑白分明了，因为当你可以在区块链上交易、发送和接收这些代币时，你不能完全消除实际管理或赎回现实世界资产的需要。
</div>
<div style="margin-top:.625em;">
例如，在区块链上购买房屋。假设某人将契约标记为自己的房屋，将其放置在去中心化交易所，然后您购买了。没有适当的法律设置和您身边的法律，无论您是否拥有数字版本，您都不能简单地强迫此人离开他们的家。按照目前的情况，您需要依靠本国的法院系统来解决纠纷。
</div>
<div style="margin-top:.625em;">
举个例子，在区块链上购买一个房子。比如说张三要把他们家的房产转让，把它放在一个去中心化的交易平台上，然后你买下了它。 没有适当的法律约束的话，你不能简单地强迫张三离开他的家，不管你是否拥有房产的数字版权。按照目前的情况，你还是需要求助于法院来解决争端。简单来说就是，被骗了还是要上法院，挨打了还是要找警察。
</div>
<div style="margin-top:.625em;">
正因为如此，有时 DeFi 的界限变得模糊。不过长远来看，法律将适应不断变化的金融环境，DeFi 在世界上的地位将变得更加重要。
</div>
   ]]>
    </c:sourceContent>
    <c:comment>
      <c:comment1>
        <![CDATA[]]>
      </c:comment1>
    </c:comment>
  </c:entry>

  <c:entry style="margin-top:1em;">
    <c:title><![CDATA[<div style="color:blue;font-size:1.2em;">Compound</div>]]></c:title>
    <c:desc>
      <c:desc1> <![CDATA[
<div style="font-size:1.2em;">
  官方网站: <a href="https://compound.finance/">https://compound.finance/</a>
</div>
<div style="margin-top:.625em;">
  <img style="width:100%;" src="/images/ether/1592970320546-73aff7a8-0d03-41aa-828b-90ca9d2403f0.png" />
</div>
<div style="margin-top:.825em;font-size:1.2em;line-height:1.625em;">
  Compound 是 DeFi 的明星项目之一，定位于去中心化的借贷协议。可以称之为“去中心化的算法银行”。Compound 是为了开放金融系统而为开发者构建的开源协议，基于 Compound 可以开发一系列新的金融应用程序。
</div>
]]></c:desc1>
    </c:desc>
    <c:sourceContent type="html" title="白皮书" id="sourceContent1"
                     titleStyle="padding-left:0;color:green;font-size:1em;background-color:white;font-size:1.625em;"
                     bodyStyle="background-color:white;padding:0;font-size:1.2em;line-height:1.625em;font-family:monospace;">
      <![CDATA[
<div style="margin-bottom:.425em;">
<a href="https://compound.finance/documents/Compound.Whitepaper.pdf">https://compound.finance/documents/Compound.Whitepaper.pdf</a>
</div>
<div style="margin-top:.625em;">
白皮书中强调，现阶段区块链资产交易市场生态有一个问题，就是：<b>交易参与者没办法交易资产的时间价值（time value of assets）</b>。
</div>
<div style="margin-top:.625em;">
交易资产的时间价值对交易双方都有利，并创造了非零和财富（non-zero-sum wealth）。
</div>
<div style="margin-top:.625em;">
对于区块链资产，现在有两个主要缺陷：借贷机制极其有限，这导致了资产的错误定价，比如一些垃圾币估值很高，你也干着急没办法，因为没法做空它们。
由于巨大的存储成本和风险，持有区块链资产具有负收益，没有利率来抵消这些成本。也就是说你长期持有代币不交易的话，没有任何收益和激励，反而有很大风险。
</div>
<div style="margin-top:.625em;">
中心化交易所的问题：你得相信他不会被黑或者卷款跑路，只有一些主流资产才能在上面交易，而且你也不能通过智能合约或者 DApp 访问这些资产。
</div>
<div style="margin-top:.625em;">
点对点协议的问题：门槛高、周期长、体验差。出借方审核的东西多，压力大，也就是把中心化机构的审查压力转嫁给出借方了。
</div>
<div style="margin-top:.625em;">
针对上面的问题，Compound 提出了一个据说很好用的去中心化系统，用来借贷以太网上的代币。这个系统基于 Compound 协议，避免了现有方法的缺陷，让货币市场发挥作用，存储资产还能有收益。
</div>
   ]]>
    </c:sourceContent>
    <c:sourceContent type="html" title="Compound 协议" id="sourceContent1"
                     titleStyle="padding-left:0;color:green;font-size:1em;background-color:white;font-size:1.625em;margin-top:.625em;"
                     bodyStyle="background-color:white;padding:0;font-size:1.2em;line-height:1.625em;font-family:monospace;">
      <![CDATA[
<div style="margin-bottom:.425em;">
Compound 协议建立在以太坊上，主要是用于建立货币市场，也就是搞一个基于资产的供求，以算法算出利率的资产池。资产的<b>出借人</b>(Suppliers 也可以叫放贷人，贷方，资金端)与<b>借款人</b>(Borrowers，也可以叫资产端，借款方、借方)<b>直接与Compound协议进行交互</b>，从而赚取或支付浮动利率，而无需与同行或交易对手就期限、利率或抵押品等条款进行协商。
</div>
<div style="margin-top:.625em;">
这里每个货币的市场都对应唯一的一个以太坊资产，例如 ETH，ERC-20 稳定币（比如 DAI）或 ERC-20 代币，并且包含一个透明且公开的分类账本，账本里面记录了所有交易和历史利率。
</div>
   ]]>
    </c:sourceContent>
    <c:sourceContent type="html" title="出借方" id="sourceContent1"
                     titleStyle="padding-left:0;color:green;font-size:1em;background-color:white;font-size:1.625em;margin-top:.625em;"
                     bodyStyle="background-color:white;padding:0;font-size:1.2em;line-height:1.625em;font-family:monospace;">
      <![CDATA[
<div style="margin-bottom:.425em;">
和点对点的平台不同的是，Compound 协议把大家的资产都聚合起来，也就是搞个资金池，对于出借人来说，可以随时撤回资产，不用等到某笔借款到期。这样流动性会好一些。
</div>
<div style="margin-top:.625em;">
说到资金池，这个东西很有意思，我们国内的话，银行啥的都是有资金池的，大家的存款都放在一起，银行给利率，至于钱贷给谁了，我们也不清楚。不过对于国内的P2P企业来说，是严禁设置资金池的，如果设置，就涉嫌非法吸收公众存款或者非法集资，而且用资金池做期限错配会导致系统性风险很难判断。所以大家要客观看待资金池这个东西。
</div>
<div style="margin-top:.625em;">
供应给市场的资产由 ERC-20 代币 cToken 来表示。持有某种代币的人，可以把代币提供给 Compound，然后换取 cToken，这样就可以获取利息了。
</div>
<div style="margin-top:.625em;">
不光个人，DApp，交易所之类的也都可以通过 Compound 来获取增量回报。这有可能为 Ethereum 生态系统开启全新的商业模式。
</div>
   ]]>
    </c:sourceContent>
    <c:sourceContent type="html" title="借款人" id="sourceContent1"
                     titleStyle="padding-left:0;color:green;font-size:1em;background-color:white;font-size:1.625em;margin-top:.625em;"
                     bodyStyle="background-color:white;padding:0;font-size:1.2em;line-height:1.625em;font-family:monospace;">
      <![CDATA[
<div style="margin-bottom:.425em;">
Compound 允许用户使用 cTokens 作为抵押，然后从协议中借出任何资产。与点对点协议不同，从 Compound 借出仅要求用户指定所需的资产，不用商量条款，到期日之类的。借款是实时的，至于借款的利率，这个是由市场自动决定的。
</div>
<div style="margin-top:.625em;">
比如：你要借 ETH，利率可能是 2%，要借 USDT，利率可能是 11%，每种资产的利率都不一样，都是自动算出来的。下面就是最新的利率情况：
</div>
<div style="margin-top:.625em;">
  <img style="width:100%;" src="/images/ether/1592979887997-80f5b6be-6668-49c2-acc0-e342193e4b07.png" />
</div>
<div style="margin-top:.625em;">
对于抵押品 cToken 来说，每个市场都有一个抵押系数（Collateral Factor，或者叫抵押因子，抵押率），从 0 到 1，这个系数代表你用一定数量的 cToken 能借多少资产，也就是说借款的上限，也就是借款能力（borrowing capacity）是：抵押资产价值 * 抵押系数。
</div>
<div style="margin-top:.625em;">
流动性差的小盘资产抵押系数低，而流动性高的资产有很高的抵押系数。
</div>
<div style="margin-top:.625em;">
借款人可以借取最高但不超过其借款能力的款项，这样可以保障协议免受违约风险。
</div>
<div style="margin-top:.625em;">
  <img style="width:100%;" src="/images/ether/1592980887468-98152f38-4fb4-440f-abb6-1cd5f4a681f1.png" />
</div>
<div style="margin-top:.625em;">
如果某个帐户的未偿还借贷价值超过了它的借贷能力，就会触发清算，按当前市场价格减去 liquidation discount(清算折扣)来偿还一部分未偿还的借贷，以减少借款人的<b>风险敞口</b>(risk exposure)，并消除协议的风险。(这里的风险敞口是个啥呢？其实就是没有担保的部分，比如 60％ 的承兑汇票，如果开票100万，开票的企业是要交 60万的保证金给银行的，而另外40万就是风险敞口部分)
</div>
<div style="margin-top:.625em;">
在用户借入的资金小于其借贷能力之前，可能会一直执行清算程序。
</div>
<div style="margin-top:.625em;">
大家有没有发现，通过 Compound 协议，我们就可以无缝持有新资产了，不需要卖掉手里的币，也不需要跑到各种交易所去。这样，DApp 的用户、交易员和开发者就有很多新玩法，比如：
</div>
<ul style="margin-top:.325em;list-style: disc;margin-left: 1.5em;">
  <li>在 DApp 里，可以通过代币购买各种各样的东西，不需要跑到链下交易，也不需要苦苦等待订单完成。</li>
  <li>交易员可以用手头的任何投资作为抵押品，换取 ETH，给自己的项目融资。</li>
  <li>我们可以做空币了：<b>比如可以把要做空的币从 Compound 里借出来，放到交易所里下跌的时候卖掉，从贬值中获利。</b></li>
</ul>
   ]]>
    </c:sourceContent>
    <c:sourceContent type="html" title="利率模型" id="sourceContent1"
                     titleStyle="padding-left:0;color:green;font-size:1em;background-color:white;font-size:1.625em;margin-top:.625em;"
                     bodyStyle="background-color:white;padding:0;font-size:1.2em;line-height:1.625em;font-family:monospace;">
      <![CDATA[
<div style="margin-bottom:.425em;">
根据我们朴素的经济学理论，很容易知道：利率（Interest Rate）应该随着需求的变化而变化，需求减少，利率降低，需求增加，利率升高。
</div>
<div style="margin-top:.625em;">
对于某个市场 a 的利用率 U 来说，可以用这样一个公式来表达，也就是整个池子里有多少钱借出去了，当然，钱借出去的越多，说明利用率越高：
</div>
<div style="margin-top:.625em;">
  <h1 style="font-family: 'Comfortaa', cursive;font-weight: bold;font-style: italic;">U<sub>a</sub> = Borrows<sub>a</sub> / (Cash<sub>a</sub> + Borrows<sub>a</sub>)</h1>
</div>
<div style="margin-top:.625em;">
贷款利率（Borrowing Interest Rate）和市场利用率相关，比如，某个市场的贷款利率可能是用下面这个公式来表示：
</div>
<div style="margin-top:.625em;">
  <h1 style="font-family: 'Comfortaa', cursive;font-weight: bold;font-style: italic;">Borrowing Interest Rate<sub>a</sub> = 2.5% + U<sub>a</sub> * 20%</h1>
</div>
<div style="margin-top:.625em;">
出借利率可以通过贷款利率算出来，出借利率 = 贷款利率 * 利用率。
</div>
<div style="margin-top:.625em;">
这个模型可以用来<b>激励流动性</b>，比如某个资产，需求特别火爆，那么利用率就很高，资金池里的钱都被贷出去了，没钱可贷了，流动性就会降低。这时候，利率就会上升了，那么供应的人也会逐渐地增多，而贷款的人一看擦，利率这么高，我不贷了，那么需求也会降低，慢慢的，流动性就会升高了。
</div>
<div style="margin-top:.625em;">
这就是神奇的市场调节，是不是想起了课本里学的。需求不变，供给侧S线条上移(供给减少)，利率上升。供给不变，需求侧D线条上移(需求增加)，利率上升。
</div>
<div style="margin-top:.625em;">
  <img style="width:300px;float:left;" src="/images/ether/1592986222070-20e1ce50-a75f-45ef-9fad-2b0aad17207a.png" />
  <img style="width:300px;float:left;" src="/images/ether/1592986230559-cf118441-45a9-419b-b298-2f81d543d267.png" />
  <div style="float:none;clear:both;"></div>
</div>
   ]]>
    </c:sourceContent>
    <c:sourceContent type="html" title="具体实现" id="sourceContent1"
                     titleStyle="padding-left:0;color:green;font-size:1em;background-color:white;font-size:1.625em;margin-top:.625em;"
                     bodyStyle="background-color:white;padding:0;font-size:1.2em;line-height:1.625em;font-family:monospace;">
      <![CDATA[
<div style="margin-bottom:.425em;">
Compound 协议其实是一堆智能合约，它是开源的，完全免费。
</div>
<div style="margin-top:.625em;">
源代码在这里：<a href="https://github.com/compound-finance/compound-protocol">https://github.com/compound-finance/compound-protocol</a>
</div>
<div style="margin-top:.625em;">
每个货币市场都是一个智能合约，实现了 ERC-20 规范。用户的余额表示为 cToken 余额。用户可以通过向市场提供资产来铸造 cToken，或者赎回相关资产的 cToken。cToken 与相关资产之间的价格（汇率）随着时间的推移而上升，因为该资产的借款人累计了利息。用公式表示就是（别怕，很简单的一个初中数学公式）：
</div>
<div style="margin-top:.625em;">
  <h2 style="font-family: 'Comfortaa', cursive;font-weight: bold;font-size: 20px;">
    exchangeRate = (underlyingBalance + totalBorrowBalance<sub>a</sub> - reserves<sub>a</sub>) / cTokenSupply<sub>a</sub>
  </h2>
</div>
<ul style="margin-top:.325em;list-style: disc;margin-left: 1.5em;">
  <li>exchangeRate 代表汇率，也就是兑换率，cToken 兑换对应的资产的兑换率，比如 cETH 兑换 ETH。</li>
  <li>underlyingBalance 代表出借人存到智能合约里面，但是还没有被借走的资产数量。</li>
  <li>totalBorrowBalance 代表已经借出去的资产数量。</li>
  <li>reserves 代表平台的储备金总数量，这里的储备金就是借款人累计的利息。</li>
  <li>cTokenSupply 就是所有 cToken 的总数量，也就是所有出借人获得的 cToken 的总量。</li>
</ul>
<div style="margin-top:.625em;">
对于每个货币市场，每个利率的历史记录都由一个利率指数（Interest Rate Index）来捕获，该利率指数会在用户更改，赎回，借入，偿还或清算资产而产生的每次利率变化时来计算。这个计算是按复利计算的，也就是：
</div>
<div style="margin-top:.625em;">
  <h1 style="font-family: 'Comfortaa', cursive;font-weight: bold;">
    Index<sub>a,n</sub> = Index<sub>a,(n-1)</sub> * (1+r*t)
  </h1>
</div>
<div style="margin-top:.625em;">
我们平时在银行存钱，利率计算的话，一般都是按年、按月或者按天，Compound 的话不太一样，他的利率一直在变，随时都在计算。你的钱也一直在复利滚存，开心吧。
</div>
<div style="margin-top:.625em;">
你可能想问，Compound 协议怎么知道 ETH 值多少钱，USDT 值多少钱之类的？Compound 有一个<b>价格预言机(Price Oracle)</b>，它用来维护每种支持资产的当前汇率；它会从前十大交易所中汇总价格。
</div>
<div style="margin-top:.625em;">
白皮书就解读完了，别被公式恶心到，知道个大意就行。
</div>
   ]]>
    </c:sourceContent>
    <c:sourceContent type="html" title="理解 Compound 的原理" id="sourceContent1"
                     titleStyle="padding-left:0;color:green;font-size:1em;background-color:white;font-size:1.625em;margin-top:.625em;"
                     bodyStyle="background-color:white;padding:0;font-size:1.2em;line-height:1.625em;font-family:monospace;">
      <![CDATA[
<div style="margin-bottom:.425em;">
Compound 本质上是一个拥有一种资产的人可以借入另一种资产的市场。Compound 并不是点对点的市场，而是流动性的资金池市场，所以有个 “pooled liquidity(流动性池，或者资金池)” 的概念(Uniswap 和 Bancor 也采用了这种概念)，这也更接近于传统银行的借贷模式。
</div>
<div style="margin-top:.625em;">
Compound 的运作是基于智能合约来完成的，这让它具备了实时性、不可篡改性以及市场决定利率的特性。
</div>
<div style="margin-top:.625em;">
再来用个例子帮你捋一捋 Compound 的原理。
</div>
<div style="margin-top:.625em;">
一个人想要买房子，所以向银行借钱。
</div>
<div style="margin-top:.625em;">
  <img style="width:400px;" src="/images/ether/1592904799513-ef933325-d373-4ce2-a304-c131f17d2131.png" />
</div>
<div style="margin-bottom:.425em;">
房子价值 10万美元。银行可能会借给他 80% 的房屋价值，也就是 8万美元。银行获得该房子的抵押，那个人则得到8万美元。只要那个人按时支付利息，那么他就能保住房子。如果他不能，银行有权利出售该房子。出售产生的任何收益（包括超额收益）都会归到出借人。
</div>
<div style="margin-top:.625em;">
问题在于银行的钱从哪里来。它来自于储户。那些有多余资金的人将钱存入银行，让银行保管。这些钱形成了资金池，可以汇集一起，以进行任何放贷。这里并不是将某个特定投资者的钱分配到某个特定贷款中。而是先将资金全部汇集一起，然后当收到借款需求时再进行借贷分配。其中一部分利息（扣除应付给银行的任何营业费用）会返回给储户。
</div>
<div style="margin-top:.625em;">
  <img style="width:400px;" src="/images/ether/1592905157124-11e1816f-9fe7-4ff0-92f7-84730582f76f.png" />
</div>
<div style="margin-bottom:.425em;">
由于资金是汇集在一起的，所以，特定储户的钱并没有锁定在某个特定的贷款中。这意味着，储户如有需要，可以取出其资金。但是，这只有在所有储户存储的钱并没有都借贷出去的情况下才可能。必须有一定量的存款才能满足提款的要求。
</div>
<div style="margin-bottom:.425em;">
这里就需要流动性储备了。
</div>
<div style="margin-bottom:.425em;">
我们来理解一下利率是如何确定的。在现实世界中，利率和流动性储备是由国家法规决定的。然而在理想世界中，利率将由市场决定，比如通过贷款需求和货币供应之间的一个平衡函数决定。这样可以平衡贷款需求和货币供应。贷款的需求越大，利率就越高。反之亦然。
</div>
<div style="margin-bottom:.425em;">
通常情况下，并非所有存入资金池中的货币都会被分配到贷款中，被用于贷款的部分称为“utilization ratio（利用率）”。你所获得的利息就是来自于你供应资金的这一部分。也就是说，利用率越高，你的回报就越大。但这也意味着较低的流动性。
</div>
<div style="margin-bottom:.425em;">
在理想的情况下，贷款需求增加会推高利率，导致货币供应增加，从而使利率回到平衡状态。
</div>
<div style="margin-bottom:.425em;">
这个系统的作用就像是一个天平，其中一侧的更大需求最终会导致另一侧的时间成本（利息）增加。
</div>
<div style="margin-bottom:.425em;">
现在：在需求侧，让我们用 ERC20 代币来代替资产（如房子）。在供给侧，让我们用 DAI 代替美元。银行的存储金库用 Compound 的智能合约来代替，它能以自动化方式管理整个事情。
</div>
<div style="margin-top:.625em;">
  <img style="width:400px;" src="/images/ether/1592906187483-01cc0d0f-9695-4fbe-9a4e-e23007960e21.png" />
</div>
<div style="margin-bottom:.425em;">
当你在银行存款时，你可以通过银行账户来访问自己的钱。但在 DeFi 的世界里，没有银行或银行账户。当你存入 DAI 时，你得到的是 cDAI，它实际上代表了你在资金池中的份额。
</div>
<div style="margin-top:.625em;">
  <img style="width:400px;" src="/images/ether/1592906439038-5b118315-0fff-45b8-b634-d17b2f7a7e4b.png" />
</div>
<div style="margin-bottom:.425em;">
利息一直由借款人支付，但不会自动支付给储户。 取而代之的是，它们以储备的形式保留在 Compound 内。
</div>
<div style="margin-top:.625em;">
  <img style="width:400px;" src="/images/ether/1592906549158-ec3751c4-7303-4818-bb0e-5ec16870135d.png" />
</div>
<div style="margin-bottom:.425em;">
每当有人试图提款(cDAI 到 DAI)时，他们会得到 “其原始存款(也就是本金)+利息”，这些利息是从储备中累计的。
</div>
<div style="margin-top:.625em;">
  <img style="width:400px;" src="/images/ether/1592906620822-23877d33-6539-4a50-acb6-5a1f6f4836c8.png" />
</div>
<div style="margin-bottom:.425em;">
如果你不提款，那么，你会持续赚取利息，这些利息会在储备中持续累积。
</div>
<div style="margin-bottom:.425em;">
由于 cDAI 代表了原始存款 + 应计利息，所以其价值将持续稳定增长。
</div>
<div style="margin-bottom:.425em;">
这里的增长率是在任何给定时间点的贷款需求的函数，也就是利率。
</div>
   ]]>
    </c:sourceContent>
    <c:sourceContent type="html" title="如何使用" id="sourceContent1"
                     titleStyle="padding-left:0;color:green;font-size:1em;background-color:white;font-size:1.625em;margin-top:.625em;"
                     bodyStyle="background-color:white;padding:0;font-size:1.2em;line-height:1.625em;font-family:monospace;">
      <![CDATA[
<div style="margin-bottom:.425em;">
进到 <a href="https://compound.finance/markets">https://compound.finance/markets</a> 里面。点击右上角的 App。
</div>
<div style="margin-bottom:.425em;">
会提示连接钱包，这里我选择 Metamask。点击 Connect。
</div>
<div style="margin-bottom:.625em;">
  <img style="width:400px;" src="/images/ether/1592990389658-0e710fbe-a18c-4b6d-8bcf-57381a27161f.png" />
</div>
<div style="margin-bottom:.425em;">
连接成功后，可以看到自己的钱包和各种资产，显而易见，我好穷，只有 0.0684个 ETH，不知道够不够接下来的手续费。
</div>
<div style="margin-bottom:.625em;">
  <img style="width:400px;" src="/images/ether/1592990459048-d9bc53bf-c6d0-4fde-9d6d-4fe46cc0338f.png" />
</div>
<div style="margin-bottom:.425em;">
我们先作为出借人，来试试 Supply，点击一下。
</div>
<div style="margin-bottom:.625em;">
  <img style="width:400px;" src="/images/ether/1592990536625-cf31e168-37c1-45a6-aac5-dbb6fda82d3a.png" />
</div>
<div style="margin-bottom:.425em;">
提供 0.06 的ETH，要付出 0.005 ETH 手续费，好贵呀！
</div>
<div style="margin-bottom:.625em;">
  <img style="width:400px;" src="/images/ether/1592990798152-39520948-a38a-43ad-8e63-ebf3138530b2.png" />
</div>
<div style="margin-bottom:.425em;">
点击 Supply 之后，弹出交易确认，发现 0.005 ETH 手续费是我乐观了，其实是 0.009 ETH。
</div>
<div style="margin-bottom:.425em;">
显而易见，降低一下金额，应该可以成功，我就不往下走了，借个 USDT 的图，假装成功。
</div>
<div style="margin-bottom:.625em;">
  <img style="width:400px;" src="/images/ether/1592991428194-fdde6ecb-71d4-47ba-a07e-0e0ff1ca2b2f.png" />
</div>
<div style="margin-bottom:.625em;">
  <img style="width:400px;" src="/images/ether/1592991435905-2a6530b4-15a2-4087-bc63-65b3f8562d52.png" />
</div>
<div style="margin-bottom:.425em;">
借款的操作也是类似的：
</div>
<div style="margin-bottom:.625em;">
  <img style="width:400px;" src="/images/ether/1592991267497-6f375207-64a0-44ec-8348-b1e42ab5020e.png" />
</div>
<div style="margin-bottom:.425em;">
其实 Compound 只是个协议，这里的操作是建立在 Compound 协议上的一个 DApp 而已，还有非常多的这种 DApp，官网首页就列了不少：
</div>
<div style="margin-bottom:.625em;">
  <img style="width:400px;" src="/images/ether/1592991923645-c7afba59-6538-4113-944f-8ca32c914a0b.png" />
</div>
<div style="margin-bottom:.425em;">
比如：Dharma，就是基于 Compound 搞了一个可以一直赚利息的钱包。
</div>
<div style="margin-bottom:.625em;">
  <img style="width:400px;" src="/images/ether/1592992219736-10b056c5-0106-4539-8b24-c12435390787.png" />
</div>
<div style="margin-bottom:.625em;">
<h3>参考链接:</h3>
<a href="https://compound.finance/">https://compound.finance/</a><br />
<a href="https://medium.com/compound-finance/setting-up-an-ethereum-development-environment-7c387664c5fe">https://medium.com/compound-finance/setting-up-an-ethereum-development-environment-7c387664c5fe</a>
</div>
   ]]>
    </c:sourceContent>
    <c:comment>
      <c:comment1>
        <![CDATA[]]>
      </c:comment1>
    </c:comment>
  </c:entry>


</c:component>
