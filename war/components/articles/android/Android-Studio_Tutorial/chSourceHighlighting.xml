<?xml version="1.0" encoding="utf-8"?>
<c:component type="chSourceHighlighting" componentId="chSourceHighlighting_1" xmlns:c="http://com.snnmo.website">
  <c:abstract>
    <![CDATA[
https://icon-sets.iconify.design/ic/info/ (Android 图标库) <br />
https://inloop.github.io/svg2android (在线转换将 svg 转换成 Android Drawable) <br />
https://romannurik.github.io/AndroidAssetStudio/icons-launcher.html (应用图标在线生成)
]]>
  </c:abstract>


  <c:entry style="margin-top:1em;color:rgb(175, 0, 190);font-size:2.2em;">
    <c:title></c:title>
    <c:desc>
      <c:desc1> <![CDATA[
      ]]></c:desc1>
    </c:desc>
    <c:sourceContent type="" title="Makefile" id="sourceContent1" 
                     style="background-color:white;"
                     titleStyle="padding:.5em 0em 0em 0em;margin-top:1em;"
                     bodyStyle="background-color:white;padding:0;font-size:1.2em;line-height:1.3;font-family:monospace;">
                     <![CDATA[
### 当前 Makefile 文件物理路径
ROOT_DIR:=$(shell dirname $(realpath $(firstword $(MAKEFILE_LIST))))

build:
  ./gradlew build -x test

tasks:
  ./gradlew tasks

install:
  ./gradlew installDebug
  ]]>
    </c:sourceContent>

    <c:sourceContent type="" title="settings.gradle.kts" id="sourceContent1" 
                     style="background-color:white;margin-top:1em;"
                     titleStyle="padding:.5em 0em 0em 0em;margin-top:1em;"
                     bodyStyle="background-color:white;padding:0;font-size:1.2em;line-height:1.3;font-family:monospace;">
                     <![CDATA[
# ./settings.gradle.kts
dependencyResolutionManagement {
    repositoriesMode.set(RepositoriesMode.FAIL_ON_PROJECT_REPOS)
    repositories {
        google()
        mavenCentral()
+        maven { url=uri("https://jitpack.io") }
    }
}
  ]]>
    </c:sourceContent>

    <c:sourceContent type="" title="build.gradle.kts" id="sourceContent1" 
                     style="background-color:white;margin-top:1em;"
                     titleStyle="padding:.5em 0em 0em 0em;margin-top:1em;"
                     bodyStyle="background-color:white;padding:0;font-size:1.2em;line-height:1.3;font-family:monospace;">
                     <![CDATA[
# ./build.gradle.kts (Project)
// Top-level build file where you can add configuration options common to all sub-projects/modules.
plugins {
    id("com.android.application") version "8.3.0" apply false
    id("org.jetbrains.kotlin.android") version "1.9.22" apply false
}

# ./app/build.gradle.kts (Module)
plugins {
    id("com.android.application")
    id("org.jetbrains.kotlin.android")
+    id("kotlin-kapt")
}

android {
    namespace = "com.android_labs.moviesapp"
    compileSdk = 34

    defaultConfig {
        applicationId = "com.android_labs.moviesapp"
        minSdk = 24
        targetSdk = 34
        versionCode = 1
        versionName = "1.0"
    }

    buildTypes {
        release {
            isMinifyEnabled = false
            proguardFiles(
                getDefaultProguardFile("proguard-android-optimize.txt"),
                "proguard-rules.pro"
            )
        }
    }
    compileOptions {
        sourceCompatibility = JavaVersion.VERSION_1_8
        targetCompatibility = JavaVersion.VERSION_1_8
    }
    kotlinOptions {
        jvmTarget = "1.8"
    }

+   buildFeatures {
+       viewBinding = true
+   }
}

dependencies {

    implementation(libs.androidx.core.ktx)
    implementation(libs.androidx.appcompat)
    implementation(libs.material)
    implementation(libs.androidx.activity)
    implementation(libs.androidx.constraintlayout)
    
+    implementation("com.github.ismaeldivita:chip-navigation-bar:1.4.0")
+    implementation("com.github.bumptech.glide:glide:4.16.0")
+    implementation("com.google.code.gson:gson:2.8.7")
+    implementation("com.squareup.picasso:picasso:2.5.2")
+
+    implementation("com.squareup.retrofit2:retrofit:2.5.0")
+    implementation("com.squareup.retrofit2:converter-scalars:2.5.0")
+    implementation("com.android.volley:volley:1.2.1")
+
+    implementation("androidx.lifecycle:lifecycle-extensions:2.2.0")
+    implementation("androidx.recyclerview:recyclerview:1.3.2")
+    implementation("de.hdodenhof:circleimageview:3.0.0")
+    implementation("androidx.room:room-runtime:2.6.1")
+    implementation("androidx.viewpager2:viewpager2:1.0.0")
+
+    kapt("androidx.room:room-compiler:2.6.1")

}
  ]]>
    </c:sourceContent>
    <c:comment>
      <c:comment1>
        <![CDATA[]]>
      </c:comment1>
    </c:comment>
  </c:entry>

  <c:entry style="margin-top:1em;color:rgb(175, 0, 190);font-size:2.2em;">
    <c:title>修改系统主题</c:title>
    <c:desc>
      <c:desc1> <![CDATA[
      ]]></c:desc1>
    </c:desc>
    <c:sourceContent type="" title="colors.xml " id="sourceContent1" 
                     style="background-color:white;"
                     titleStyle="padding:.5em 0em 0em 0em;margin-top:0em;"
                     bodyStyle="background-color:white;padding:0;font-size:1.2em;line-height:1.3;font-family:monospace;">
                     <![CDATA[
# app/src/main/res/values/colors.xml 
<?xml version="1.0" encoding="utf-8"?>
<resources>
    <color name="black">#FF000000</color>
    <color name="white">#FFFFFFFF</color>

    <color name="grey">#9f9a9a</color>
    <color name="orange">#ff7427</color>
    <color name="yellow">#ffc107</color>
    <color name="mainColor">#1f1d28</color>
    <color name="darkBlue">#252836</color>

    <color name="primary">#FF9800</color>
    <color name="primary_dark">#130041</color>
    <color name="primary_light">#FFE0B2</color>
    <color name="accent">#FF5722</color>
    <color name="primary_text">#212121</color>
    <color name="secondary_text">#757575</color>
    <color name="icons">#212121</color>
    <color name="divider">#BDBDBD</color>
    
    <!-- 状态栏颜色 -->
    <color name="design_default_color_primary_dark">#ff7427</color>
</resources>
  ]]>
    </c:sourceContent>
    <c:sourceContent type="" title="themes.xml " id="sourceContent1" 
                     style="background-color:white;"
                     titleStyle="padding:.5em 0em 0em 0em;margin-top:1em;"
                     bodyStyle="background-color:white;padding:0;font-size:1.2em;line-height:1.3;font-family:monospace;">
                     <![CDATA[
# app/src/main/res/values/themes.xml 
<resources xmlns:tools="http://schemas.android.com/tools">
-    <style name="Base.Theme.FoodsApp" parent="Theme.Material3.DayNight.NoActionBar">
+    <style name="Base.Theme.MoviesApp" parent="Theme.MaterialComponents.DayNight.NoActionBar">
+        <item name="colorPrimary">@color/primary</item>
+        <item name="colorPrimaryVariant">@color/primary_dark</item>
+        <item name="colorOnPrimary">@color/white</item>
+
+        <item name="colorSecondary">@color/accent</item>
+        <item name="colorSecondaryVariant">@color/accent</item>
+        <item name="colorOnSecondary">@color/white</item>

-        <item name="android:statusBarColor">@android:color/transparent</item>
    </style>

    <style name="Theme.MoviesApp" parent="Base.Theme.MoviesApp" />
</resources>
  ]]>
    </c:sourceContent>
    <c:comment>
      <c:comment1>
        <![CDATA[]]>
      </c:comment1>
    </c:comment>
  </c:entry>


  <c:entry style="margin-top:1em;color:rgb(175, 0, 190);font-size:2.2em;">
    <c:title>TutorialApplication</c:title>
    <c:desc>
      <c:desc1> <![CDATA[
      ]]></c:desc1>
    </c:desc>
    <c:sourceContent type="" title="TutorialApplication.kt " id="sourceContent1" 
                     style="background-color:white;"
                     titleStyle="padding:.5em 0em 0em 0em;margin-top:0em;"
                     bodyStyle="background-color:white;padding:0;font-size:1.2em;line-height:1.3;font-family:monospace;">
                     <![CDATA[
import android.app.Application

class TutorialApplication: Application() {

    override fun onCreate() {
        super.onCreate()
    }
}
  ]]>
    </c:sourceContent>
    <c:comment>
      <c:comment1>
        <![CDATA[]]>
      </c:comment1>
    </c:comment>
  </c:entry>

  <c:entry style="margin-top:1em;color:rgb(175, 0, 190);font-size:2.2em;">
    <c:title>修改系统权限</c:title>
    <c:desc>
      <c:desc1> <![CDATA[
      ]]></c:desc1>
    </c:desc>
    <c:sourceContent type="" title="AndroidManifest.xml " id="sourceContent1" 
                     style="background-color:white;"
                     titleStyle="padding:.5em 0em 0em 0em;margin-top:0em;"
                     bodyStyle="background-color:white;padding:0;font-size:1.2em;line-height:1.3;font-family:monospace;">
                     <![CDATA[
# app/src/main/AndroidManifest.xml
<?xml version="1.0" encoding="utf-8"?>
<manifest xmlns:android="http://schemas.android.com/apk/res/android"
    xmlns:tools="http://schemas.android.com/tools">

+    <uses-permission android:name="android.permission.INTERNET" />
+    <uses-permission android:name="android.permission.POST_NOTIFICATIONS" />

    <application
+               android:name=".TutorialApplication"
+ (optional)    android:networkSecurityConfig="@xml/network_security_config"
        android:allowBackup="true"
        android:dataExtractionRules="@xml/data_extraction_rules"
        android:fullBackupContent="@xml/backup_rules"
        android:icon="@mipmap/ic_launcher"
        android:label="@string/app_name"
        android:roundIcon="@mipmap/ic_launcher_round"
        android:supportsRtl="true"
        android:theme="@style/Theme.TodoApp"
        tools:targetApi="31">
        <activity
            android:name=".activities.SplashActivity"
            android:exported="true">
            <intent-filter>
                <action android:name="android.intent.action.MAIN" />

                <category android:name="android.intent.category.LAUNCHER" />
            </intent-filter>
        </activity>
    </application>

</manifest>

# app/src/main/res/xml/network_security_config.xml
<?xml version="1.0" encoding="utf-8"?>
<network-security-config>
    <domain-config cleartextTrafficPermitted="true" usesCleartextTraffic="true">
        <domain includeSubdomains="true">92c8-13-230-16-197.ngrok-free.app</domain>
        <domain includeSubdomains="true">localhost</domain>
        <domain includeSubdomains="true">192.168.1.5</domain>
    </domain-config>
</network-security-config>
  ]]>
    </c:sourceContent>
    <c:comment>
      <c:comment1>
        <![CDATA[]]>
      </c:comment1>
    </c:comment>
  </c:entry>

  <c:entry style="margin-top:1em;color:rgb(175, 0, 190);font-size:2.2em;">
    <c:title>AppBar 工具栏</c:title>
    <c:desc>
      <c:desc1> <![CDATA[
      ]]></c:desc1>
    </c:desc>
    <c:sourceContent type="" title="app_bar_menu.xml" id="sourceContent1" 
                     style="background-color:white;"
                     titleStyle="padding:.5em 0em 0em 0em;margin-top:0em;"
                     bodyStyle="background-color:white;padding:0;font-size:1.2em;line-height:1.3;font-family:monospace;">
                     <![CDATA[
# app/src/main/res/menu/app_bar_menu.xml
<?xml version="1.0" encoding="utf-8"?>
<menu xmlns:android="http://schemas.android.com/apk/res/android"
    xmlns:app="http://schemas.android.com/apk/res-auto">

    <item
        android:id="@+id/biHome"
        android:title="Home"
        android:icon="@drawable/baseline_home_24"
        app:showAsAction="ifRoom"
        app:iconTint="@color/white"/>

    <item
        android:id="@+id/biNotification"
        android:title="Notification"
        android:icon="@drawable/baseline_notification_24"
        app:showAsAction="ifRoom"
        app:iconTint="@color/white"
        />
</menu>
  ]]>
    </c:sourceContent>
    <c:sourceContent type="" title="activity_main.xml" id="sourceContent1" 
                     style="background-color:white;"
                     titleStyle="padding:.5em 0em 0em 0em;margin-top:1em;"
                     bodyStyle="background-color:white;padding:0;font-size:1.2em;line-height:1.3;font-family:monospace;">
                     <![CDATA[
# app/src/main/res/layout/activity_main.xml
<?xml version="1.0" encoding="utf-8"?>
<androidx.drawerlayout.widget.DrawerLayout
    xmlns:android="http://schemas.android.com/apk/res/android"
    xmlns:app="http://schemas.android.com/apk/res-auto"
    xmlns:tools="http://schemas.android.com/tools"
    android:id="@+id/drawerLayout"
    android:layout_width="match_parent"
    android:layout_height="match_parent"
    tools:context=".activities.MainActivity"
    tools:openDrawer="start">


    <androidx.coordinatorlayout.widget.CoordinatorLayout
        android:layout_width="wrap_content"
        android:layout_height="wrap_content">
        <com.google.android.material.appbar.AppBarLayout
            android:layout_width="match_parent"
            android:layout_height="wrap_content">
            <com.google.android.material.appbar.MaterialToolbar
                android:id="@+id/materialToolBar"
                android:layout_width="match_parent"
                android:layout_height="?attr/actionBarSize"
                app:navigationIcon="@drawable/baseline_menu_24"
                app:navigationIconTint="#ffffff"
                app:titleTextColor="#FFEB3B"
                app:menu="@menu/app_bar_menu">

            </com.google.android.material.appbar.MaterialToolbar>
        </com.google.android.material.appbar.AppBarLayout>

        <FrameLayout
            android:id="@+id/frameLayout"
            android:layout_width="match_parent"
            android:layout_height="match_parent"
            android:layout_marginTop="?attr/actionBarSize">

        </FrameLayout>
    </androidx.coordinatorlayout.widget.CoordinatorLayout>

</androidx.drawerlayout.widget.DrawerLayout>
  ]]>
    </c:sourceContent>
    <c:comment>
      <c:comment1>
        <![CDATA[]]>
      </c:comment1>
    </c:comment>
  </c:entry>



  <c:entry style="margin-top:1em;color:rgb(175, 0, 190);font-size:2.2em;">
    <c:title>工具栏导航</c:title>
    <c:desc>
      <c:desc1> <![CDATA[
      ]]></c:desc1>
    </c:desc>
    <c:sourceContent type="" title="MainActivity.kt" id="sourceContent1" 
                     style="background-color:white;"
                     titleStyle="padding:.5em 0em 0em 0em;margin-top:0em;"
                     bodyStyle="background-color:white;padding:0;font-size:1.2em;line-height:1.3;font-family:monospace;">
                     <![CDATA[
# app/src/main/java/com/android_labs/androidstudiotutorial/activities/MainActivity.kt
class MainActivity : AppCompatActivity() {

+    private lateinit var materialToolBar: MaterialToolbar

    override fun onCreate(savedInstanceState: Bundle?) {
        super.onCreate(savedInstanceState)

        setContentView(R.layout.activity_main)

+        this.materialToolBar = findViewById(R.id.materialToolBar)

+        this.materialToolBar.setOnMenuItemClickListener {  menuItem ->
+            when (menuItem.itemId) {
+                R.id.biHome -> {
+                    loadFragment(HomeFragment())
+                    true
+                }
+                R.id.biAbout -> {
+                    loadFragment(AboutFragment())
+                    true
+                }
+                else -> false
+            }
+        }
    }

+    private fun loadFragment(fragment: Fragment) {
+        if (supportFragmentManager.findFragmentById(R.id.frameLayout) == null) {
+            var ft = supportFragmentManager.beginTransaction()
+            ft.add(R.id.frameLayout, fragment)
+            ft.commit()
+        } else {
+            var ft = supportFragmentManager.beginTransaction()
+            ft.replace(R.id.frameLayout, fragment)
+            ft.commit()
+        }
+    }
}
  ]]>
    </c:sourceContent>
    <c:sourceContent type="" title="activity_main.xml" id="sourceContent1" 
                     style="background-color:white;"
                     titleStyle="padding:.5em 0em 0em 0em;margin-top:1em;"
                     bodyStyle="background-color:white;padding:0;font-size:1.2em;line-height:1.3;font-family:monospace;">
                     <![CDATA[
# app/src/main/res/layout/activity_main.xml
<?xml version="1.0" encoding="utf-8"?>
<androidx.drawerlayout.widget.DrawerLayout
    ...>
    <androidx.coordinatorlayout.widget.CoordinatorLayout
        android:layout_width="wrap_content"
        android:layout_height="wrap_content">
+        <FrameLayout
+            android:id="@+id/frameLayout"
+            android:layout_width="match_parent"
+            android:layout_height="match_parent"
+            android:layout_marginTop="?attr/actionBarSize">
+
+        </FrameLayout>
    </androidx.coordinatorlayout.widget.CoordinatorLayout>
</androidx.drawerlayout.widget.DrawerLayout>
  ]]>
    </c:sourceContent>
    <c:comment>
      <c:comment1>
        <![CDATA[]]>
      </c:comment1>
    </c:comment>
  </c:entry>


  <c:entry style="margin-top:1em;color:rgb(175, 0, 190);font-size:2.2em;">
    <c:title>菜单栏导航</c:title>
    <c:desc>
      <c:desc1> <![CDATA[
      ]]></c:desc1>
    </c:desc>
    <c:sourceContent type="" title="创建导航菜单头" id="sourceContent1" 
                     style="background-color:white;"
                     titleStyle="padding:.5em 0em 0em 0em;margin-top:0em;"
                     bodyStyle="background-color:white;padding:0;font-size:1.2em;line-height:1.3;font-family:monospace;">
                     <![CDATA[
# app/src/main/res/layout/navigation_header.xml
<?xml version="1.0" encoding="utf-8"?>
<LinearLayout
    xmlns:android="http://schemas.android.com/apk/res/android"
    android:layout_width="match_parent"
    android:layout_height="176dp"
    android:orientation="vertical">

    <LinearLayout
        android:layout_width="match_parent"
        android:layout_height="wrap_content"
        android:orientation="vertical">

        <ImageView
            android:layout_width="match_parent"
            android:layout_height="100dp"
            android:src="@drawable/hero"
            android:scaleType="centerCrop"/>

        <TextView
            android:id="@+id/usernameTxt"
            android:layout_width="wrap_content"
            android:layout_height="wrap_content"
            android:textSize="20sp"
            android:text="Username" />

    </LinearLayout>

</LinearLayout>
  ]]>
    </c:sourceContent>
    <c:sourceContent type="" title="创建导航菜单列表" id="sourceContent1" 
                     style="background-color:white;"
                     titleStyle="padding:.5em 0em 0em 0em;margin-top:1em;"
                     bodyStyle="background-color:white;padding:0;font-size:1.2em;line-height:1.3;font-family:monospace;">
                     <![CDATA[
# app/src/main/res/layout/navigation_item.xml
<?xml version="1.0" encoding="utf-8"?>
<menu xmlns:android="http://schemas.android.com/apk/res/android">

    <group>
        <item
            android:id="@+id/miHome"
            android:icon="@drawable/baseline_home_24"
            android:title="Home"
            android:checkable="true"/>
        <item
            android:id="@+id/miBus"
            android:icon="@drawable/baseline_bus_24"
            android:title="Bus"
            android:checkable="true"/>
        <item
            android:id="@+id/miRating"
            android:icon="@drawable/baseline_rating_24"
            android:title="Rating"
            android:checkable="true" />
    </group>

    <group android:checkableBehavior="single">
        <item android:title="Profile">
            <menu>
                <item
                    android:id="@+id/miLogin"
                    android:icon="@drawable/baseline_login_24"
                    android:title="Login" />
                <item
                    android:id="@+id/miLogout"
                    android:icon="@drawable/baseline_login_24"
                    android:title="Logout" />
            </menu>
        </item>
    </group>
</menu>
  ]]>
    </c:sourceContent>
    <c:sourceContent type="" title="更新 activity_main.xml" id="sourceContent1" 
                     style="background-color:white;"
                     titleStyle="padding:.5em 0em 0em 0em;margin-top:1em;"
                     bodyStyle="background-color:white;padding:0;font-size:1.2em;line-height:1.3;font-family:monospace;">
                     <![CDATA[
# app/src/main/res/layout/activity_main.xml
<?xml version="1.0" encoding="utf-8"?>
<androidx.drawerlayout.widget.DrawerLayout
    ....>

    <androidx.coordinatorlayout.widget.CoordinatorLayout
        android:layout_width="wrap_content"
        android:layout_height="wrap_content">
        .....
    </androidx.coordinatorlayout.widget.CoordinatorLayout>

+    <com.google.android.material.navigation.NavigationView
+        android:id="@+id/navigationView"
+        android:layout_width="wrap_content"
+        android:layout_height="match_parent"
+        android:layout_gravity="start"
+        app:headerLayout="@layout/navigation_header"
+        app:menu="@menu/navigation_item">
+
+    </com.google.android.material.navigation.NavigationView>
</androidx.drawerlayout.widget.DrawerLayout>
  ]]>
    </c:sourceContent>
    <c:sourceContent type="" title="更新 MainActivity.kt - 打开菜单栏" id="sourceContent1" 
                     style="background-color:white;"
                     titleStyle="padding:.5em 0em 0em 0em;margin-top:1em;"
                     bodyStyle="background-color:white;padding:0;font-size:1.2em;line-height:1.3;font-family:monospace;">
                     <![CDATA[
# app/src/main/java/com/android_labs/androidstudiotutorial/activities/MainActivity.kt
class MainActivity : AppCompatActivity() {

+    private lateinit var drawerLayout: DrawerLayout
+    private lateinit var navigationView: NavigationView
+    private lateinit var navigationMenu: Menu

    override fun onCreate(savedInstanceState: Bundle?) {
        super.onCreate(savedInstanceState)

        setContentView(R.layout.activity_main)

        ....

+        this.drawerLayout = findViewById(R.id.drawerLayout)
+        this.navigationView = findViewById(R.id.navigationView)
+        this.navigationMenu = this.navigationView.menu
+
+        
+        // 打开菜单栏
+        drawerLayout.addDrawerListener(ActionBarDrawerToggle(
+            this@MainActivity, drawerLayout, materialToolBar, R.string.close, R.string.open
+        ))
    }
}
  ]]>
    </c:sourceContent>
    <c:sourceContent type="" title="更新 MainActivity.kt - 改变状态栏颜色" id="sourceContent1" 
                     style="background-color:white;"
                     titleStyle="padding:.5em 0em 0em 0em;margin-top:1em;"
                     bodyStyle="background-color:white;padding:0;font-size:1.2em;line-height:1.3;font-family:monospace;">
                     <![CDATA[
# colors.xml
# app/src/main/res/values/colors.xml 
<?xml version="1.0" encoding="utf-8"?>
<resources>
    ...

+    <!-- 状态栏颜色 -->
+    <color name="design_default_color_primary_dark">#ff7427</color>

</resources>

# app/src/main/res/layout/activity_main.xml
<?xml version="1.0" encoding="utf-8"?>
<androidx.drawerlayout.widget.DrawerLayout
    ...
+    android:fitsSystemWindows="true"
    tools:openDrawer="start">

    <androidx.coordinatorlayout.widget.CoordinatorLayout
+        android:id="@+id/contentLayout"
        android:layout_width="wrap_content"
        android:layout_height="wrap_content">
        ...

    </androidx.coordinatorlayout.widget.CoordinatorLayout>

    ...
</androidx.drawerlayout.widget.DrawerLayout>

# app/src/main/java/com/android_labs/androidstudiotutorial/activities/MainActivity.kt
class MainActivity : AppCompatActivity() {

    ...

    override fun onCreate(savedInstanceState: Bundle?) {
        super.onCreate(savedInstanceState)

        setContentView(R.layout.activity_main)

        ...

+        drawerLayout.addDrawerListener(object : DrawerLayout.DrawerListener {
+            override fun onDrawerSlide(drawerView: View, slideOffset: Float) {
+                // 滑动时
+                setStatusBarTransparent()
+
+                // 根据 slideOffset 来调整主内容视图的位置
+                val contentView = findViewById<View>(R.id.contentLayout) // 替换为你的主内容视图的ID
+                contentView.translationX = drawerView.width * slideOffset
+            }
+
+            override fun onDrawerOpened(drawerView: View) {
+                // 打开时设置状态栏透明
+                setStatusBarTransparent()
+
+            }
+
+            override fun onDrawerClosed(drawerView: View) {
+                // 关闭时恢复状态栏颜色
+                setStatusBarColor(getResources().getColor(R.color.orange))
+            }
+
+            override fun onDrawerStateChanged(newState: Int) {
+                // 状态变化时
+                // setStatusBarTransparent()
+            }
+        })
    }

+    private fun setStatusBarTransparent() {
+        if (Build.VERSION.SDK_INT >= Build.VERSION_CODES.LOLLIPOP) {
+            val window = window
+            window.addFlags(WindowManager.LayoutParams.FLAG_DRAWS_SYSTEM_BAR_BACKGROUNDS)
+            window.statusBarColor = getResources().getColor(android.R.color.transparent)
+        }
+    }
+
+    private fun setStatusBarColor(color: Int) {
+        if (Build.VERSION.SDK_INT >= Build.VERSION_CODES.LOLLIPOP) {
+            val window = window
+            window.addFlags(WindowManager.LayoutParams.FLAG_DRAWS_SYSTEM_BAR_BACKGROUNDS)
+            window.statusBarColor = color
+        }
+    }
}
  ]]>
    </c:sourceContent>


    <c:sourceContent type="" title="更新 MainActivity.kt - 菜单栏点击事件" id="sourceContent1" 
                     style="background-color:white;"
                     titleStyle="padding:.5em 0em 0em 0em;margin-top:1em;"
                     bodyStyle="background-color:white;padding:0;font-size:1.2em;line-height:1.3;font-family:monospace;">
                     <![CDATA[
# app/src/main/java/com/android_labs/androidstudiotutorial/activities/MainActivity.kt
class MainActivity : AppCompatActivity() {

    ...

    override fun onCreate(savedInstanceState: Bundle?) {
        super.onCreate(savedInstanceState)

        setContentView(R.layout.activity_main)

        ...


+        navigationView.setNavigationItemSelectedListener {
+
+            if (it.itemId == R.id.miHome) {
+                loadFragment(HomeFragment())
+                drawerLayout.closeDrawer(GravityCompat.START)
+            }
+
+            if (it.itemId == R.id.miAbount) {
+                loadFragment(AboutFragment())
+                drawerLayout.closeDrawer(GravityCompat.START)
+            }
+
+            true
+        }
    }
}
  ]]>
    </c:sourceContent>
    <c:comment>
      <c:comment1>
        <![CDATA[]]>
      </c:comment1>
    </c:comment>
  </c:entry>


  <c:entry style="margin-top:1em;color:rgb(175, 0, 190);font-size:2.2em;">
    <c:title>CollapsingToolBar</c:title>
    <c:desc>
      <c:desc1> <![CDATA[
      ]]></c:desc1>
    </c:desc>
    <c:sourceContent type="" title="CollapsingToolBarActivity" id="sourceContent1" 
                     style="background-color:white;"
                     titleStyle="padding:.5em 0em 0em 0em;margin-top:0em;"
                     bodyStyle="background-color:white;padding:0;font-size:1.2em;line-height:1.3;font-family:monospace;">
                     <![CDATA[
# app/src/main/res/values/themes.xml
class CollapsingToolBarActivity : AppCompatActivity() {
    override fun onCreate(savedInstanceState: Bundle?) {
        super.onCreate(savedInstanceState)
        setContentView(R.layout.activity_collapsing_tool_bar)

        // 设置工具栏
+        setSupportActionBar(findViewById(R.id.collapsingToolBarId))
    }

    override fun onCreateOptionsMenu(menu: Menu?): Boolean {
        menuInflater.inflate(R.menu.app_bar_menu, menu)
        return true
    }
}

# app/src/main/res/layout/activity_collapsing_tool_bar.xml
<?xml version="1.0" encoding="utf-8"?>
<androidx.coordinatorlayout.widget.CoordinatorLayout
    xmlns:android="http://schemas.android.com/apk/res/android"
    xmlns:app="http://schemas.android.com/apk/res-auto"
    xmlns:tools="http://schemas.android.com/tools"
    android:id="@+id/main"
    android:layout_width="match_parent"
    android:layout_height="match_parent"
    tools:context=".activities.CollapsingToolBarActivity">

    <androidx.core.widget.NestedScrollView
        android:layout_width="match_parent"
        android:layout_height="match_parent">
        <TextView
            android:id="@+id/textView"
            android:layout_width="wrap_content"
            android:layout_height="wrap_content"
            android:layout_margin="16dp"
            android:text="long long text here" />
    </androidx.core.widget.NestedScrollView>

</androidx.coordinatorlayout.widget.CoordinatorLayout>
  ]]>
    </c:sourceContent>
    <c:sourceContent type="" title="单独设置 CollapsingToolBarActivity 主题" id="sourceContent1" 
                     style="background-color:white;"
                     titleStyle="padding:.5em 0em 0em 0em;margin-top:1em;"
                     bodyStyle="background-color:white;padding:0;font-size:1.2em;line-height:1.3;font-family:monospace;">
                     <![CDATA[
# app/src/main/res/values/themes.xml
<resources xmlns:tools="http://schemas.android.com/tools">
    ...

+    <style name="Theme.NoActionBar" parent="Base.Theme.AndroidStudioTutorial">
+        <item name="android:statusBarColor">@color/accent</item>
+        <item name="windowActionBar">false</item>
+        <item name="android:windowNoTitle">true</item>
        
         <!-- 设置标题栏文本颜色 -->
+        <item name="android:textColorPrimary">@color/white</item>
         <!-- 设置在Toolbar的溢出菜单中的三个点的颜色 -->
+        <item name="android:textColorSecondary">@color/white</item>
+    </style>
</resources>

# app/src/main/AndroidManifest.xml 
<?xml version="1.0" encoding="utf-8"?>
<manifest xmlns:android="http://schemas.android.com/apk/res/android"
    xmlns:tools="http://schemas.android.com/tools">

    ...

    <application
        .....>
        <activity
            android:name=".activities.CollapsingToolBarActivity"
            android:exported="false"
+            android:theme="@style/Theme.NoActionBar"
            />
        ....
    </application>

</manifest>
  ]]>
    </c:sourceContent>
    <c:sourceContent type="" title="更新 activity_collapsing_tool_bar.xml" id="sourceContent1" 
                     style="background-color:white;"
                     titleStyle="padding:.5em 0em 0em 0em;margin-top:1em;"
                     bodyStyle="background-color:white;padding:0;font-size:1.2em;line-height:1.3;font-family:monospace;">
                     <![CDATA[
# app/src/main/res/layout/activity_collapsing_tool_bar.xml
<?xml version="1.0" encoding="utf-8"?>
<androidx.coordinatorlayout.widget.CoordinatorLayout
    xmlns:android="http://schemas.android.com/apk/res/android"
    xmlns:app="http://schemas.android.com/apk/res-auto"
    xmlns:tools="http://schemas.android.com/tools"
    android:id="@+id/main"
    android:layout_width="match_parent"
    android:layout_height="match_parent"
    tools:context=".activities.CollapsingToolBarActivity">

+    <com.google.android.material.appbar.AppBarLayout
+        android:layout_width="match_parent"
+        android:layout_height="wrap_content"
+        android:fitsSystemWindows="true"
+        style="@style/ThemeOverlay.AppCompat.Dark.ActionBar">
+        <com.google.android.material.appbar.CollapsingToolbarLayout
+            android:layout_height="300dp"
+            android:layout_width="match_parent"
+            app:layout_scrollFlags="scroll|enterAlways|enterAlwaysCollapsed|snap"
+            app:contentScrim="@color/primary">
+
+            <ImageView
+                android:layout_width="match_parent"
+                android:layout_height="match_parent"
+                android:scaleType="centerCrop"
+                android:padding="0dp"
+                android:src="@drawable/unnamed"
+                android:fitsSystemWindows="true"
+                app:layout_collapseMode="parallax">
+            </ImageView>
+            
+            <androidx.appcompat.widget.Toolbar
+                android:id="@+id/collapsingToolBarId"
+                app:title="Toolbar"
+                app:titleTextColor="@color/white"
+                android:foregroundTint="@color/white"
+                android:layout_width="match_parent"
+                android:layout_height="?attr/actionBarSize"
+                app:layout_collapseMode="pin"
+                app:popupTheme="@style/ThemeOverlay.AppCompat.Light"/>
+
+        </com.google.android.material.appbar.CollapsingToolbarLayout>
+    </com.google.android.material.appbar.AppBarLayout>

    <androidx.core.widget.NestedScrollView
        android:layout_width="match_parent"
        android:layout_height="match_parent"
+        app:layout_behavior="@string/appbar_scrolling_view_behavior"
        >
        <TextView
            android:id="@+id/textView"
            android:layout_width="wrap_content"
            android:layout_height="wrap_content"
            android:layout_margin="16dp"
            android:text="long long text here" />
    </androidx.core.widget.NestedScrollView>

</androidx.coordinatorlayout.widget.CoordinatorLayout>
  ]]>
    </c:sourceContent>
    <c:comment>
      <c:comment1>
        <![CDATA[]]>
      </c:comment1>
    </c:comment>
  </c:entry>


  <c:entry style="margin-top:1em;color:rgb(175, 0, 190);font-size:2.2em;">
    <c:title>TabLayout</c:title>
    <c:desc>
      <c:desc1> <![CDATA[
      ]]></c:desc1>
    </c:desc>
    <c:sourceContent type="" title="fragment_tab_layout.xml" id="sourceContent1" 
                     style="background-color:white;"
                     titleStyle="padding:.5em 0em 0em 0em;margin-top:0em;"
                     bodyStyle="background-color:white;padding:0;font-size:1.2em;line-height:1.3;font-family:monospace;">
                     <![CDATA[
# app/src/main/res/layout/fragment_tab_layout.xml
<?xml version="1.0" encoding="utf-8"?>
<LinearLayout xmlns:android="http://schemas.android.com/apk/res/android"
    xmlns:tools="http://schemas.android.com/tools"
    android:layout_width="match_parent"
    android:layout_height="match_parent"
    xmlns:app="http://schemas.android.com/apk/res-auto"
    android:orientation="vertical"
    tools:context=".fragments.TabLayoutFragment">

    <ImageView
        android:layout_width="match_parent"
        android:layout_height="200dp"
        android:scaleType="centerCrop"
        android:padding="0dp"
        android:src="@drawable/hero">
    </ImageView>

    <com.google.android.material.tabs.TabLayout
        android:layout_width="match_parent"
        android:layout_height="wrap_content"
        app:tabGravity="fill"
        app:tabMode="fixed"
        app:tabTextColor="#ffffff"
        app:tabIndicatorColor="@color/orange"
        android:background="@color/yellow"
        android:id="@+id/tabLayoutId" />

    <androidx.viewpager.widget.ViewPager
        android:layout_width="match_parent"
        android:layout_height="match_parent"
        android:id="@+id/viewPagerId">

    </androidx.viewpager.widget.ViewPager>
</LinearLayout>
  ]]>
    </c:sourceContent>
    <c:sourceContent type="" title="TabLayoutFragment.kt" id="sourceContent1" 
                     style="background-color:white;"
                     titleStyle="padding:.5em 0em 0em 0em;margin-top:1em;"
                     bodyStyle="background-color:white;padding:0;font-size:1.2em;line-height:1.3;font-family:monospace;">
                     <![CDATA[
# app/src/main/java/com/android_labs/androidstudiotutorial/fragments/TabLayoutFragment.kt
import android.view.LayoutInflater
import android.view.View
import android.view.ViewGroup
import androidx.fragment.app.Fragment
import androidx.viewpager.widget.ViewPager
import com.android_labs.androidstudiotutorial.R
import com.google.android.material.appbar.AppBarLayout
import com.google.android.material.tabs.TabLayout

class TabLayoutFragment : Fragment() {

    // private lateinit var appBarLayout: AppBarLayout
    private lateinit var tabLayout: TabLayout
    private lateinit var viewPager: ViewPager

    override fun onCreateView(
        inflater: LayoutInflater, container: ViewGroup?,
        savedInstanceState: Bundle?
    ): View? {
        val view = inflater.inflate(R.layout.fragment_tab_layout, container, false);

        // this.appBarLayout = view.findViewById(R.id.appBarId)
        this.tabLayout = view.findViewById(R.id.tabLayoutId)
        this.viewPager = view.findViewById(R.id.viewPagerId)

        var adapter  = TabViewPagerAdapter(parentFragmentManager)

        adapter.addFragment(Tab1Fragment(), "Tab1")
        adapter.addFragment(Tab2Fragment(), "Tab2")
        adapter.addFragment(Tab3Fragment(), "Tab3")

        viewPager.adapter = adapter
        tabLayout.setupWithViewPager(viewPager)

        return view
    }
}
  ]]>
    </c:sourceContent>
    <c:sourceContent type="" title="TabViewPagerAdapter.kt" id="sourceContent1" 
                     style="background-color:white;"
                     titleStyle="padding:.5em 0em 0em 0em;margin-top:1em;"
                     bodyStyle="background-color:white;padding:0;font-size:1.2em;line-height:1.3;font-family:monospace;">
                     <![CDATA[
# app/src/main/java/com/android_labs/androidstudiotutorial/fragments/TabViewPagerAdapter.kt
import androidx.fragment.app.Fragment
import androidx.fragment.app.FragmentManager
import androidx.fragment.app.FragmentPagerAdapter

class TabViewPagerAdapter(fm: FragmentManager): FragmentPagerAdapter(fm) {

    private var fragmentList = emptyList<Fragment>().toMutableList()
    private var fragmentTitles = emptyList<String>().toMutableList()


    override fun getCount(): Int {
        return fragmentTitles.size
    }

    override fun getItem(position: Int): Fragment {
        return fragmentList[position]
    }

    override fun getPageTitle(position: Int): CharSequence {
        return fragmentTitles[position]
    }

    fun addFragment(fragment: Fragment, title: String) {
        fragmentList.add(fragment)
        fragmentTitles.add(title)
    }
}
  ]]>
    </c:sourceContent>
    <c:comment>
      <c:comment1>
        <![CDATA[]]>
      </c:comment1>
    </c:comment>
  </c:entry>


  <c:entry style="margin-top:1em;color:rgb(175, 0, 190);font-size:2.2em;">
    <c:title>Resizable 9 Patch Images</c:title>
    <c:desc>
      <c:desc1> <![CDATA[
      ]]></c:desc1>
    </c:desc>
    <c:sourceContent type="" title="fragment_tab_layout.xml" id="sourceContent1" 
                     style="background-color:white;"
                     titleStyle="padding:.5em 0em 0em 0em;margin-top:0em;"
                     bodyStyle="background-color:white;padding:0;font-size:1.2em;line-height:1.3;font-family:monospace;">
                     <![CDATA[

  ]]>
    </c:sourceContent>
    <c:comment>
      <c:comment1>
        <![CDATA[]]>
      </c:comment1>
    </c:comment>
  </c:entry>

  <c:entry style="margin-top:1em;color:rgb(175, 0, 190);font-size:2.2em;">
    <c:title>Add Search View in Toolbar</c:title>
    <c:desc>
      <c:desc1> <![CDATA[
      ]]></c:desc1>
    </c:desc>
    <c:sourceContent type="" title="创建搜索菜单" id="sourceContent1" 
                     style="background-color:white;"
                     titleStyle="padding:.5em 0em 0em 0em;margin-top:0em;"
                     bodyStyle="background-color:white;padding:0;font-size:1.2em;line-height:1.3;font-family:monospace;">
                     <![CDATA[
# app/src/main/res/layout/menu/app_bar_menu3.xml 
<?xml version="1.0" encoding="utf-8"?>
<menu xmlns:android="http://schemas.android.com/apk/res/android"
    xmlns:app="http://schemas.android.com/apk/res-auto">
    <item
        android:id="@+id/biSearch"
        android:icon="@drawable/ion_search_outline"
        android:title="Search"
        app:actionViewClass="androidx.appcompat.widget.SearchView"
        app:iconTint="@color/white"
        android:iconifiedByDefault="false"
        android:searchIcon="@null"
        android:searchHintIcon="@null"
        app:showAsAction="ifRoom|collapseActionView" />
</menu>
  ]]>
    </c:sourceContent>
    <c:sourceContent type="" title="修改主题: Remove the SearchIcon as hint in the searchView" id="sourceContent1" 
                     style="background-color:white;"
                     titleStyle="padding:.5em 0em 0em 0em;margin-top:1em;"
                     bodyStyle="background-color:white;padding:0;font-size:1.2em;line-height:1.3;font-family:monospace;">
                     <![CDATA[
# app/src/main/res/values/themes.xml
<resources xmlns:tools="http://schemas.android.com/tools">
    ...

    <style name="Theme.NoActionBar" parent="Base.Theme.AndroidStudioTutorial">
        ...
    </style>

+    <style name="ThemeOverlay.MyApp.ActionBar" parent="ThemeOverlay.AppCompat.ActionBar">
+        <item name="autoCompleteTextViewStyle">@style/Widget.MyApp.AutoCompleteTextView.SearchView</item>
+    </style>
+
+    <style name="Widget.MyApp.AutoCompleteTextView.SearchView" parent="Widget.AppCompat.AutoCompleteTextView">
+        <item name="android:textColor">@color/white</item>
+        <item name="android:textColorHint">#5000</item>
+    </style>
</resources>
  ]]>
    </c:sourceContent>
    <c:sourceContent type="" title="activity_search_view_toolbar.xml" id="sourceContent1" 
                     style="background-color:white;"
                     titleStyle="padding:.5em 0em 0em 0em;margin-top:1em;"
                     bodyStyle="background-color:white;padding:0;font-size:1.2em;line-height:1.3;font-family:monospace;">
                     <![CDATA[
# app/src/main/res/layout/activity_search_view_toolbar.xml 
<?xml version="1.0" encoding="utf-8"?>
<androidx.coordinatorlayout.widget.CoordinatorLayout
    xmlns:android="http://schemas.android.com/apk/res/android"
    xmlns:app="http://schemas.android.com/apk/res-auto"
    xmlns:tools="http://schemas.android.com/tools"
    android:id="@+id/main"
    android:layout_width="match_parent"
    android:layout_height="match_parent"
    android:fitsSystemWindows="true"
    android:background="#2596be"
    tools:context=".activities.SearchViewToolbarActivity">

    <com.google.android.material.appbar.AppBarLayout
        android:layout_width="match_parent"
        android:layout_height="wrap_content"
        android:fitsSystemWindows="true">

        
        <com.google.android.material.appbar.MaterialToolbar
            app:theme="@style/ThemeOverlay.MyApp.ActionBar"
            android:id="@+id/materialToolBar"
            android:layout_width="match_parent"
            android:layout_height="?attr/actionBarSize"
            app:navigationIcon="@drawable/baseline_menu_24"
            app:navigationIconTint="#ffffff"
            app:titleTextColor="#FFEB3B"
            app:menu="@menu/app_bar_menu3">

        </com.google.android.material.appbar.MaterialToolbar>

    </com.google.android.material.appbar.AppBarLayout>

    <ListView
        android:id="@+id/listView1"
        android:layout_marginTop="?attr/actionBarSize"
        android:layout_width="match_parent"
        android:layout_height="match_parent" />

</androidx.coordinatorlayout.widget.CoordinatorLayout>
  ]]>
    </c:sourceContent>
    <c:sourceContent type="" title="SearchViewToolbarActivity.kt" id="sourceContent1" 
                     style="background-color:white;"
                     titleStyle="padding:.5em 0em 0em 0em;margin-top:1em;"
                     bodyStyle="background-color:white;padding:0;font-size:1.2em;line-height:1.3;font-family:monospace;">
                     <![CDATA[
# app/src/main/java/com/android_labs/androidstudiotutorial/activities/SearchViewToolbarActivity.kt
class SearchViewToolbarActivity : AppCompatActivity() {

    private lateinit var listView1: ListView

    private val names = listOf(
        "Christopher",
        "Jenny",
        "Maria",
        "steve",
        "Chris",
        "lvana",
        "Michael",
        "Craig",
        "Kelly",
        "Jospeh",
        "Christene",
        "Sergio",
        "Mubariz",
        "Mike",
        "Alex"
    )

    private lateinit var arrayAdapter: ArrayAdapter<String>

    override fun onCreate(savedInstanceState: Bundle?) {
        super.onCreate(savedInstanceState)
        setContentView(R.layout.activity_search_view_toolbar)

        setSupportActionBar(findViewById(R.id.materialToolBar))

        // supportActionBar?.title = ""
        supportActionBar?.setDisplayShowTitleEnabled(false)

        this.arrayAdapter =
            ArrayAdapter(this@SearchViewToolbarActivity, android.R.layout.simple_list_item_1, names)

        this.listView1 = findViewById(R.id.listView1)
        this.listView1.adapter = arrayAdapter
    }

    override fun onCreateOptionsMenu(menu: Menu?): Boolean {
        menuInflater.inflate(R.menu.app_bar_menu3, menu)

        var menuItem = menu?.findItem(R.id.biSearch)

        var searchView: SearchView = menuItem?.actionView as SearchView

        searchView.queryHint = "Type here to search ..."

        searchView.setOnQueryTextListener(object : OnQueryTextListener {
            override fun onQueryTextSubmit(query: String?): Boolean {

                return true
            }

            override fun onQueryTextChange(newText: String?): Boolean {

                this@SearchViewToolbarActivity.arrayAdapter.filter.filter(newText)
                return true
            }
        })

        return super.onCreateOptionsMenu(menu)
    }
}
  ]]>
    </c:sourceContent>
    <c:comment>
      <c:comment1>
        <![CDATA[]]>
      </c:comment1>
    </c:comment>
  </c:entry>

  <c:entry style="margin-top:1em;color:rgb(175, 0, 190);font-size:2.2em;">
    <c:title>Picasso Image Slider</c:title>
    <c:desc>
      <c:desc1> <![CDATA[
      ]]></c:desc1>
    </c:desc>
    <c:sourceContent type="" title="build.gradle.kts" id="sourceContent1" 
                     style="background-color:white;"
                     titleStyle="padding:.5em 0em 0em 0em;margin-top:0em;"
                     bodyStyle="background-color:white;padding:0;font-size:1.2em;line-height:1.3;font-family:monospace;">
                     <![CDATA[
# ./app/build.gradle.kts (Module)

dependencies {
  ....

+    implementation("com.squareup.picasso:picasso:2.71828")
}
  ]]>
    </c:sourceContent>
    <c:sourceContent type="" title="fragment_image_view_pager.xml" id="sourceContent1" 
                     style="background-color:white;"
                     titleStyle="padding:.5em 0em 0em 0em;margin-top:1em;"
                     bodyStyle="background-color:white;padding:0;font-size:1.2em;line-height:1.3;font-family:monospace;">
                     <![CDATA[
# app/src/main/res/layout/fragment_image_view_pager.xml 
<?xml version="1.0" encoding="utf-8"?>
<androidx.viewpager.widget.ViewPager
    xmlns:android="http://schemas.android.com/apk/res/android"
    android:layout_width="match_parent"
    android:layout_height="match_parent"
    android:id="@+id/viewPager">

</androidx.viewpager.widget.ViewPager>
  ]]>
    </c:sourceContent>
    <c:sourceContent type="" title="PicassoImageSliderFragment.kt" id="sourceContent1" 
                     style="background-color:white;"
                     titleStyle="padding:.5em 0em 0em 0em;margin-top:1em;"
                     bodyStyle="background-color:white;padding:0;font-size:1.2em;line-height:1.3;font-family:monospace;">
                     <![CDATA[
# app/src/main/java/com/android_labs/androidstudiotutorial/fragments/PicassoImageSliderFragment.kt
class PicassoImageSliderFragment: Fragment() {

    private val images = listOf("hero", "unnamed")

    override fun onCreateView(
        inflater: LayoutInflater, container: ViewGroup?,
        savedInstanceState: Bundle?
    ): View? {
        var view = inflater.inflate(R.layout.fragment_image_view_pager, container, false)

        var adapter = ViewPagerAdapter(requireContext(), images)

        var viewPager = view.findViewById<ViewPager>(R.id.viewPager)

        viewPager.adapter = adapter

        return view
    }

    inner class ViewPagerAdapter(private var ctx: Context, private var images: List<String>): PagerAdapter() {

        override fun getCount(): Int {
            return images.size
        }

        override fun isViewFromObject(view: View, `object`: Any): Boolean {
            return view == `object`
        }

        override fun instantiateItem(container: ViewGroup, position: Int): Any {
            var imageImage = ImageView(ctx)

            Picasso.get().load(getResourceId(ctx, images[position])).fit().centerCrop().into(imageImage)
            container.addView(imageImage)

            return imageImage
        }

        override fun destroyItem(container: ViewGroup, position: Int, `object`: Any) {
            container.removeView(`object` as View)
        }

        private fun getResourceId(ctx: Context, name: String): Int {
            return ctx.resources.getIdentifier(name, "drawable", ctx.packageName)
        }
    }
}
  ]]>
    </c:sourceContent>
    <c:comment>
      <c:comment1>
        <![CDATA[]]>
      </c:comment1>
    </c:comment>
  </c:entry>

  <c:entry style="margin-top:1em;color:rgb(175, 0, 190);font-size:2.2em;">
    <c:title>KenBurnsView</c:title>
    <c:desc>
      <c:desc1> <![CDATA[
      ]]></c:desc1>
    </c:desc>
    <c:sourceContent type="" title="build.gradle.kts" id="sourceContent1" 
                     style="background-color:white;"
                     titleStyle="padding:.5em 0em 0em 0em;margin-top:0em;"
                     bodyStyle="background-color:white;padding:0;font-size:1.2em;line-height:1.3;font-family:monospace;">
                     <![CDATA[
# ./app/build.gradle.kts (Module)

dependencies {
  ....

+    implementation("com.flaviofaria:kenburnsview:1.0.7")
}
  ]]>
    </c:sourceContent>
    <c:sourceContent type="" title="fragment_kenburns_view.xml" id="sourceContent1" 
                     style="background-color:white;"
                     titleStyle="padding:.5em 0em 0em 0em;margin-top:1em;"
                     bodyStyle="background-color:white;padding:0;font-size:1.2em;line-height:1.3;font-family:monospace;">
                     <![CDATA[
# app/src/main/res/layout/fragment_kenburns_view.xml
<?xml version="1.0" encoding="utf-8"?>
<androidx.constraintlayout.widget.ConstraintLayout
    xmlns:android="http://schemas.android.com/apk/res/android"
    xmlns:app="http://schemas.android.com/apk/res-auto"
    android:layout_width="match_parent"
    android:layout_height="match_parent">

    <com.flaviofaria.kenburnsview.KenBurnsView
        android:layout_width="match_parent"
        android:layout_height="match_parent"
        android:src="@drawable/unnamed"
        app:layout_constraintEnd_toEndOf="parent"
        app:layout_constraintStart_toStartOf="parent"
        app:layout_constraintTop_toTopOf="parent" />

</androidx.constraintlayout.widget.ConstraintLayout>
  ]]>
    </c:sourceContent>
    <c:comment>
      <c:comment1>
        <![CDATA[]]>
      </c:comment1>
    </c:comment>
  </c:entry>


  <c:entry style="margin-top:1em;color:rgb(175, 0, 190);font-size:2.2em;">
    <c:title>Persistent Bottom Sheet</c:title>
    <c:desc>
      <c:desc1> <![CDATA[
      ]]></c:desc1>
    </c:desc>
    <c:sourceContent type="" title="fragment_bottom_sheet.xml" id="sourceContent1" 
                     style="background-color:white;"
                     titleStyle="padding:.5em 0em 0em 0em;margin-top:0em;"
                     bodyStyle="background-color:white;padding:0;font-size:1.2em;line-height:1.3;font-family:monospace;">
                     <![CDATA[
# app/src/main/res/layout/fragment_bottom_sheet.xml
<?xml version="1.0" encoding="utf-8"?>
<androidx.coordinatorlayout.widget.CoordinatorLayout xmlns:android="http://schemas.android.com/apk/res/android"
    android:layout_width="match_parent"
    android:layout_height="match_parent"
    xmlns:app="http://schemas.android.com/apk/res-auto">

    <LinearLayout
        android:layout_width="match_parent"
        android:layout_height="match_parent"
        android:orientation="vertical"
        android:gravity="center_horizontal">

        <Button
            android:id="@+id/buttonExpandBtn"
            android:layout_width="wrap_content"
            android:layout_height="wrap_content"
            android:text="Expand"/>

        <Button
            android:id="@+id/buttonCollapseBtn"
            android:layout_width="wrap_content"
            android:layout_height="wrap_content"
            android:text="Collapse"/>

        <TextView
            android:id="@+id/textViewStaus"
            android:layout_width="wrap_content"
            android:layout_height="wrap_content"
            android:textSize="30sp"
            android:layout_marginTop="16dp"
            android:text="State"/>
    </LinearLayout>
    
    <androidx.core.widget.NestedScrollView
        android:id="@+id/bottomSheetView"
        android:layout_width="match_parent"
        android:layout_height="wrap_content"
        android:background="@color/darkBlue"
        app:layout_behavior="@string/bottom_sheet_behavior"
        app:behavior_hideable="false"
        app:behavior_peekHeight="55dp">

        <TextView
            android:layout_width="match_parent"
            android:layout_height="match_parent"
            android:padding="16dp"
            android:textSize="16sp"
            android:textColor="@color/white"
            android:text="This is a Bottom Sheet\n\n
多年来我用多种编程语言开发了各种 web 应用程序。最近我在学习 Rust，一个入门难度相对比较大但高性能的编程语言。

Rust 的编程模型令我着迷，我在学习过程中会记录下点点滴滴。

这个程序将开发中可能会用到的各种框架集成到一起，以便于将来用到的时候可以快速查找。

目前为止我还没有发现 Rust 做不到的事情。

Happy Coding ...."/>
    </androidx.core.widget.NestedScrollView>
</androidx.coordinatorlayout.widget.CoordinatorLayout>
  ]]>
    </c:sourceContent>
    <c:sourceContent type="" title="PersistentBottomSheetFragment.kt" id="sourceContent1" 
                     style="background-color:white;"
                     titleStyle="padding:.5em 0em 0em 0em;margin-top:1em;"
                     bodyStyle="background-color:white;padding:0;font-size:1.2em;line-height:1.3;font-family:monospace;">
                     <![CDATA[
# app/src/main/java/com/android_labs/androidstudiotutorial/fragments/PersistentBottomSheetFragment.kt
class PersistentBottomSheetFragment: Fragment() {

    private lateinit var bottomSheetBehavior: BottomSheetBehavior<NestedScrollView>

    private lateinit var bottomSheetView: NestedScrollView

    private lateinit var buttonExpandBtn: Button
    private lateinit var buttonCollapseBtn: Button
    private lateinit var textViewStaus: TextView

    override fun onCreateView(
        inflater: LayoutInflater, container: ViewGroup?,
        savedInstanceState: Bundle?
    ): View? {
        val view = inflater.inflate(R.layout.fragment_bottom_sheet, container, false)

        this.bottomSheetView = view.findViewById(R.id.bottomSheetView)

        this.buttonExpandBtn = view.findViewById(R.id.buttonExpandBtn)
        this.buttonCollapseBtn = view.findViewById(R.id.buttonCollapseBtn)
        this.textViewStaus = view.findViewById(R.id.textViewStaus)

        this.bottomSheetBehavior = BottomSheetBehavior.from(bottomSheetView)

        this.buttonExpandBtn.setOnClickListener {
            this.bottomSheetBehavior.state = BottomSheetBehavior.STATE_EXPANDED
        }

        this.buttonCollapseBtn.setOnClickListener {
            this.bottomSheetBehavior.state = BottomSheetBehavior.STATE_COLLAPSED
        }

        this.bottomSheetBehavior.addBottomSheetCallback(object: BottomSheetCallback() {
            override fun onStateChanged(p0: View, newState: Int) {
                when (newState) {
                    BottomSheetBehavior.STATE_EXPANDED -> {
                        this@PersistentBottomSheetFragment.textViewStaus.text = "Expanded"
                    }

                    BottomSheetBehavior.STATE_DRAGGING -> {
                        this@PersistentBottomSheetFragment.textViewStaus.text = "Dragging"
                    }

                    BottomSheetBehavior.STATE_COLLAPSED -> {
                        this@PersistentBottomSheetFragment.textViewStaus.text = "Collapsed"
                    }

                    BottomSheetBehavior.STATE_HIDDEN -> {
                        this@PersistentBottomSheetFragment.textViewStaus.text = "Hidden"
                    }

                    BottomSheetBehavior.STATE_SETTLING -> {
                        this@PersistentBottomSheetFragment.textViewStaus.text = "Setting"
                    }
                }
            }

            override fun onSlide(p0: View, p1: Float) {
                this@PersistentBottomSheetFragment.textViewStaus.text = "Sliding"
            }
        })

        return view
    }
}
  ]]>
    </c:sourceContent>
    <c:comment>
      <c:comment1>
        <![CDATA[]]>
      </c:comment1>
    </c:comment>
  </c:entry>

  <c:entry style="margin-top:1em;color:rgb(175, 0, 190);font-size:2.2em;">
    <c:title>Expandable Floating Action Button</c:title>
    <c:desc>
      <c:desc1> <![CDATA[
      ]]></c:desc1>
    </c:desc>
    <c:sourceContent type="" title="rotate_open_anim.xml" id="sourceContent1" 
                     style="background-color:white;"
                     titleStyle="padding:.5em 0em 0em 0em;margin-top:0em;"
                     bodyStyle="background-color:white;padding:0;font-size:1.2em;line-height:1.3;font-family:monospace;">
                     <![CDATA[
# app/src/main/res/anim/rotate_open_anim.xml
<?xml version="1.0" encoding="utf-8"?>
<set xmlns:android="http://schemas.android.com/apk/res/android"
    android:fillAfter="true">
    <rotate
        android:fromDegrees="0"
        android:pivotX="50%"
        android:pivotY="50%"
        android:toDegrees="45"
        android:duration="300" />
</set>
  ]]>
    </c:sourceContent>
    <c:sourceContent type="" title="rotate_close_anim.xml" id="sourceContent1" 
                     style="background-color:white;"
                     titleStyle="padding:.5em 0em 0em 0em;margin-top:1em;"
                     bodyStyle="background-color:white;padding:0;font-size:1.2em;line-height:1.3;font-family:monospace;">
                     <![CDATA[
# app/src/main/res/anim/rotate_close_anim.xml
<?xml version="1.0" encoding="utf-8"?>
<set xmlns:android="http://schemas.android.com/apk/res/android"
    android:fillAfter="true">
    <rotate
        android:fromDegrees="45"
        android:pivotX="50%"
        android:pivotY="50%"
        android:toDegrees="0"
        android:duration="300" />
</set>
  ]]>
    </c:sourceContent>
    <c:sourceContent type="" title="from_bottom_anim.xml" id="sourceContent1" 
                     style="background-color:white;"
                     titleStyle="padding:.5em 0em 0em 0em;margin-top:1em;"
                     bodyStyle="background-color:white;padding:0;font-size:1.2em;line-height:1.3;font-family:monospace;">
                     <![CDATA[
# app/src/main/res/anim/from_bottom_anim.xml
<?xml version="1.0" encoding="utf-8"?>
<set xmlns:android="http://schemas.android.com/apk/res/android"
    android:fillAfter="true">
    <translate
        android:duration="300"
        android:fromXDelta="100%"
        android:toYDelta="0%" />
    <scale
        android:pivotX="50%"
        android:pivotY="50%"
        android:toXScale="0.8"
        android:toYScale="0.8" />
    <alpha
        android:duration="800"
        android:fromAlpha="0"
        android:toAlpha="1" />
</set>
  ]]>
    </c:sourceContent>
    <c:sourceContent type="" title="to_bottom_anim.xml" id="sourceContent1" 
                     style="background-color:white;"
                     titleStyle="padding:.5em 0em 0em 0em;margin-top:1em;"
                     bodyStyle="background-color:white;padding:0;font-size:1.2em;line-height:1.3;font-family:monospace;">
                     <![CDATA[
# app/src/main/res/anim/to_bottom_anim.xml
<?xml version="1.0" encoding="utf-8"?>
<set xmlns:android="http://schemas.android.com/apk/res/android"
    android:fillAfter="true">
    <translate
        android:duration="300"
        android:fromXDelta="0%"
        android:toYDelta="100%" />
    <scale
        android:pivotX="50%"
        android:pivotY="50%"
        android:fromXScale="0.8"
        android:fromYScale="0.8"
        android:toXScale="0.8"
        android:toYScale="0.8" />
    <alpha
        android:duration="150"
        android:fromAlpha="1"
        android:toAlpha="0" />
</set>
  ]]>
    </c:sourceContent>
    <c:sourceContent type="" title="fragment_fab.xml" id="sourceContent1" 
                     style="background-color:white;"
                     titleStyle="padding:.5em 0em 0em 0em;margin-top:1em;"
                     bodyStyle="background-color:white;padding:0;font-size:1.2em;line-height:1.3;font-family:monospace;">
                     <![CDATA[
# app/src/main/res/layout/fragment_fab.xml
<?xml version="1.0" encoding="utf-8"?>
<androidx.constraintlayout.widget.ConstraintLayout
    xmlns:android="http://schemas.android.com/apk/res/android"
    xmlns:app="http://schemas.android.com/apk/res-auto"
    android:layout_width="match_parent"
    android:layout_height="match_parent">

    <com.google.android.material.floatingactionbutton.FloatingActionButton
        android:id="@+id/plusBtn"
        android:layout_width="wrap_content"
        android:layout_height="wrap_content"
        android:layout_marginEnd="24dp"
        android:layout_marginBottom="24dp"
        android:clickable="true"
        app:layout_constraintBottom_toBottomOf="parent"
        app:layout_constraintEnd_toEndOf="parent"
        app:maxImageSize="30dp"
        android:focusable="true"
        android:tint="@color/white"
        app:borderWidth="0dp"
        android:backgroundTint="@color/accent"
        app:srcCompat="@drawable/ic_plus24" />

    <com.google.android.material.floatingactionbutton.FloatingActionButton
        android:id="@+id/penBtn"
        android:layout_width="wrap_content"
        android:layout_height="wrap_content"
        android:layout_marginBottom="16dp"
        android:backgroundTint="@color/darkBlue"
        android:clickable="true"
        android:focusable="true"
        android:tint="@color/white"
        android:visibility="invisible"
        app:layout_constraintBottom_toTopOf="@+id/plusBtn"
        app:layout_constraintEnd_toEndOf="@+id/plusBtn"
        app:maxImageSize="30dp"
        app:borderWidth="0dp"
        app:srcCompat="@drawable/ic_pen24" />

    <com.google.android.material.floatingactionbutton.FloatingActionButton
        android:id="@+id/imgBtn"
        android:layout_width="wrap_content"
        android:layout_height="wrap_content"
        android:layout_marginBottom="16dp"
        android:backgroundTint="@color/yellow"
        app:borderWidth="0dp"
        app:maxImageSize="30dp"
        android:clickable="true"
        android:focusable="true"
        android:tint="@color/white"
        android:visibility="invisible"
        app:layout_constraintBottom_toTopOf="@+id/penBtn"
        app:layout_constraintEnd_toEndOf="@+id/penBtn"
        app:srcCompat="@drawable/ic_imgbox24" />

</androidx.constraintlayout.widget.ConstraintLayout>
  ]]>
    </c:sourceContent>
    <c:sourceContent type="" title="ExpandableFloatingActionButtonFragment.kt" id="sourceContent1" 
                     style="background-color:white;"
                     titleStyle="padding:.5em 0em 0em 0em;margin-top:1em;"
                     bodyStyle="background-color:white;padding:0;font-size:1.2em;line-height:1.3;font-family:monospace;">
                     <![CDATA[
# app/src/main/java/com/android_labs/androidstudiotutorial/fragments/ExpandableFloatingActionButtonFragment.kt
class ExpandableFloatingActionButtonFragment: Fragment() {

    private val rotateOpen: Animation by lazy { AnimationUtils.loadAnimation(requireContext(), R.anim.rotate_open_anim) }
    private val rotateClose: Animation by lazy { AnimationUtils.loadAnimation(requireContext(), R.anim.rotate_close_anim) }
    private val fromBottom: Animation by lazy { AnimationUtils.loadAnimation(requireContext(), R.anim.from_bottom_anim) }
    private val toBottom: Animation by lazy { AnimationUtils.loadAnimation(requireContext(), R.anim.to_bottom_anim) }

    private lateinit var plusBtn: FloatingActionButton
    private lateinit var penBtn: FloatingActionButton
    private lateinit var imgBtn: FloatingActionButton

    private var clicked = false

    override fun onCreateView(
        inflater: LayoutInflater, container: ViewGroup?,
        savedInstanceState: Bundle?
    ): View? {
        val view = inflater.inflate(R.layout.fragment_fab, container, false);

        this.plusBtn = view.findViewById(R.id.plusBtn)
        this.penBtn = view.findViewById(R.id.penBtn)
        this.imgBtn = view.findViewById(R.id.imgBtn)

        this.plusBtn.setOnClickListener {

            this.clicked = !this.clicked

            if (this.clicked) {
                this.penBtn.visibility = View.VISIBLE
                this.imgBtn.visibility = View.VISIBLE

                this.penBtn.startAnimation(fromBottom)
                this.imgBtn.startAnimation(fromBottom)
                this.plusBtn.startAnimation(rotateOpen)
            } else {
                this.penBtn.visibility = View.INVISIBLE
                this.imgBtn.visibility = View.INVISIBLE

                this.penBtn.startAnimation(toBottom)
                this.imgBtn.startAnimation(toBottom)
                this.plusBtn.startAnimation(rotateClose)
            }
        }

        this.penBtn.setOnClickListener {
            Toast.makeText(requireContext(), "Pen Button clicked!", Toast.LENGTH_SHORT).show()
        }

        this.imgBtn.setOnClickListener {
            Toast.makeText(requireContext(), "Img Button clicked!", Toast.LENGTH_SHORT).show()
        }

        return view
    }
}
  ]]>
    </c:sourceContent>
    <c:comment>
      <c:comment1>
        <![CDATA[]]>
      </c:comment1>
    </c:comment>
  </c:entry>



  <c:entry style="margin-top:1em;color:rgb(175, 0, 190);font-size:2.2em;">
    <c:title>Visualizer for Audio Music</c:title>
    <c:desc>
      <c:desc1> <![CDATA[
      ]]></c:desc1>
    </c:desc>
    <c:sourceContent type="" title="build.gradle.kts" id="sourceContent1" 
                     style="background-color:white;"
                     titleStyle="padding:.5em 0em 0em 0em;margin-top:0em;"
                     bodyStyle="background-color:white;padding:0;font-size:1.2em;line-height:1.3;font-family:monospace;">
                     <![CDATA[

# ./settings.gradle.kts
dependencyResolutionManagement {
    repositoriesMode.set(RepositoriesMode.FAIL_ON_PROJECT_REPOS)
    repositories {
        google()
        mavenCentral()
        maven { url=uri("https://jitpack.io") }
+        maven { url = uri("https://jcenter.bintray.com")}
    }
}

# ./app/build.gradle.kts (Module)
dependencies {
    ....
+    implementation("com.gauravk.audiovisualizer:audiovisualizer:0.9.2")
}
  ]]>
    </c:sourceContent>
    <c:sourceContent type="" title="fragment_visualizer_audio.xml" id="sourceContent1" 
                     style="background-color:white;"
                     titleStyle="padding:.5em 0em 0em 0em;margin-top:1em;"
                     bodyStyle="background-color:white;padding:0;font-size:1.2em;line-height:1.3;font-family:monospace;">
                     <![CDATA[
# app/src/main/res/layout/fragment_visualizer_audio.xml
<?xml version="1.0" encoding="utf-8"?>
<LinearLayout
    xmlns:android="http://schemas.android.com/apk/res/android"
    xmlns:app="http://schemas.android.com/apk/res-auto"
    android:layout_width="match_parent"
    android:layout_height="match_parent"
    android:orientation="vertical"
    android:gravity="center">

    <com.gauravk.audiovisualizer.visualizer.BarVisualizer
        android:id="@+id/barVisualizer"
        android:layout_width="match_parent"
        android:layout_height="200dp"
        android:layout_alignParentBottom="true"
        app:avColor="#FF362E"
        app:avDensity="0.5"
        app:avSpeed="normal"
        app:avType="outline"
        app:avWidth="4dp" />

    <Button
        android:id="@+id/audioPlay"
        android:layout_width="wrap_content"
        android:layout_height="wrap_content"
        android:textAllCaps="true"
        android:text="Play" />

    <Button
        android:id="@+id/audioPause"
        android:layout_width="wrap_content"
        android:layout_height="wrap_content"
        android:textAllCaps="true"
        android:text="Pause" />

    <Button
        android:id="@+id/audioStop"
        android:layout_width="wrap_content"
        android:layout_height="wrap_content"
        android:textAllCaps="true"
        android:text="Stop" />
</LinearLayout>
  ]]>
    </c:sourceContent>
    <c:sourceContent type="" title="VisualizerAudioMusicFragment.kt" id="sourceContent1" 
                     style="background-color:white;"
                     titleStyle="padding:.5em 0em 0em 0em;margin-top:1em;"
                     bodyStyle="background-color:white;padding:0;font-size:1.2em;line-height:1.3;font-family:monospace;">
                     <![CDATA[
# app/src/main/java/com/android_labs/androidstudiotutorial/fragments/VisualizerAudioMusicFragment.kt
class VisualizerAudioMusicFragment: Fragment() {

    private lateinit var audioPlay: Button
    private lateinit var audioPause: Button
    private lateinit var audioStop: Button

    private var player: MediaPlayer? = null
    private lateinit var barVisualizer: BarVisualizer

    override fun onCreateView(
        inflater: LayoutInflater, container: ViewGroup?,
        savedInstanceState: Bundle?
    ): View? {
        if(ContextCompat.checkSelfPermission(requireContext(),
                Manifest.permission.RECORD_AUDIO)
            != PackageManager.PERMISSION_GRANTED){

            if(ActivityCompat.shouldShowRequestPermissionRationale(requireActivity(),
                    Manifest.permission.RECORD_AUDIO)){

                Toast.makeText(requireContext(), "EXPLANATION", Toast.LENGTH_LONG).show()
            }
            else{
                ActivityCompat.requestPermissions(requireActivity(),
                    arrayOf(Manifest.permission.RECORD_AUDIO),
                    1)

                Toast.makeText(requireContext(), "EXPLANATION NOT NEEDED", Toast.LENGTH_LONG).show()
            }
        }

        val view = inflater.inflate(R.layout.fragment_visualizer_audio, container, false)

        this.audioPlay = view.findViewById(R.id.audioPlay)
        this.audioPause = view.findViewById(R.id.audioPause)
        this.audioStop = view.findViewById(R.id.audioStop)
        this.barVisualizer = view.findViewById(R.id.barVisualizer)

        this.audioPlay.setOnClickListener {
            if (this.player == null) {
                this.player = MediaPlayer.create(requireContext(), R.raw.seeyouagain)


                val audioSessionId = this.player?.audioSessionId!!

                if (audioSessionId != -1) {
                    this.barVisualizer.setAudioSessionId(audioSessionId)
                }
            }

            this.player?.start()
        }

        this.audioPause.setOnClickListener {
            this.player?.pause()
        }

        this.audioStop.setOnClickListener {
            this.player?.stop()
            this.player?.release()
            this.player = null

            this.barVisualizer.release()
        }

        return view
    }
}
  ]]>
    </c:sourceContent>
    <c:comment>
      <c:comment1>
        <![CDATA[]]>
      </c:comment1>
    </c:comment>
  </c:entry>



  <c:entry style="margin-top:1em;color:rgb(175, 0, 190);font-size:2.2em;">
    <c:title>Change System Bar Colors</c:title>
    <c:desc>
      <c:desc1> <![CDATA[
      ]]></c:desc1>
    </c:desc>
    <c:sourceContent type="" title="themes.xml" id="sourceContent1" 
                     style="background-color:white;"
                     titleStyle="padding:.5em 0em 0em 0em;margin-top:0em;"
                     bodyStyle="background-color:white;padding:0;font-size:1.2em;line-height:1.3;font-family:monospace;">
                     <![CDATA[
# app/src/main/res/values/themes.xml
<resources xmlns:tools="http://schemas.android.com/tools">
     ....
+    <style name="SystemBarTheme" parent="Theme.MaterialComponents.DayNight.NoActionBar">
+        <item name="windowActionBar">true</item>
+        <item name="windowNoTitle">false</item>
+
+        <!-- 修改标题栏文字颜色 -->
+        <item name="android:textColorPrimary">@color/white</item>
+        <item name="android:textColorSecondary">@color/white</item>
+
+        <!-- 修改标题栏背景颜色 -->
+        <item name="colorPrimary">@color/primary_dark</item>
+
+        <!-- 修改状态栏颜色 -->
+        <item name="android:statusBarColor" tools:targetApi="1">@color/primary_dark</item>
+    </style>
     ....
</resources>
  ]]>
    </c:sourceContent>
    <c:sourceContent type="" title="AndroidManifest.xml" id="sourceContent1" 
                     style="background-color:white;"
                     titleStyle="padding:.5em 0em 0em 0em;margin-top:1em;"
                     bodyStyle="background-color:white;padding:0;font-size:1.2em;line-height:1.3;font-family:monospace;">
                     <![CDATA[
#app/src/main/AndroidManifest.xml
<?xml version="1.0" encoding="utf-8"?>
<manifest xmlns:android="http://schemas.android.com/apk/res/android"
    xmlns:tools="http://schemas.android.com/tools">

    <uses-permission android:name="android.permission.INTERNET" />
    <uses-permission android:name="android.permission.POST_NOTIFICATIONS" />
    <uses-permission android:name="android.permission.RECORD_AUDIO" />

    <application
        android:name=".TutorialApplication"
        android:allowBackup="true"
        android:dataExtractionRules="@xml/data_extraction_rules"
        android:fullBackupContent="@xml/backup_rules"
        android:icon="@mipmap/ic_launcher"
        android:label="@string/app_name"
        android:networkSecurityConfig="@xml/network_security_config"
        android:roundIcon="@mipmap/ic_launcher_round"
        android:supportsRtl="true"
        android:theme="@style/Theme.AndroidStudioTutorial"
        tools:targetApi="31">
        ...
+        <activity
+            android:name=".activities.SystemBarActivity"
+++          android:theme="@style/SystemBarTheme"
+            android:exported="false" />
        ...
    </application>

</manifest>
  ]]>
    </c:sourceContent>
    <c:sourceContent type="" title="activity_system_bar.xml" id="sourceContent1" 
                     style="background-color:white;"
                     titleStyle="padding:.5em 0em 0em 0em;margin-top:1em;"
                     bodyStyle="background-color:white;padding:0;font-size:1.2em;line-height:1.3;font-family:monospace;">
                     <![CDATA[
 # app/src/main/res/layout/activity_system_bar.xml
 <?xml version="1.0" encoding="utf-8"?>
<LinearLayout
    xmlns:android="http://schemas.android.com/apk/res/android"
    xmlns:app="http://schemas.android.com/apk/res-auto"
    xmlns:tools="http://schemas.android.com/tools"
    android:layout_width="match_parent"
    android:layout_height="match_parent"
    android:gravity="center"
    tools:context=".activities.SystemBarActivity">

    <TextView
        android:id="@+id/textView2"
        android:layout_width="wrap_content"
        android:layout_height="wrap_content"
        android:textSize="32sp"
        android:text="SystemBarActivity" />
</LinearLayout>
  ]]>
    </c:sourceContent>
    <c:sourceContent type="" title="SystemBarActivity.kt" id="sourceContent1" 
                     style="background-color:white;"
                     titleStyle="padding:.5em 0em 0em 0em;margin-top:1em;"
                     bodyStyle="background-color:white;padding:0;font-size:1.2em;line-height:1.3;font-family:monospace;">
                     <![CDATA[
# app/src/main/java/com/android_labs/androidstudiotutorial/activities/SystemBarActivity.kt
class SystemBarActivity : AppCompatActivity() {
    override fun onCreate(savedInstanceState: Bundle?) {
        super.onCreate(savedInstanceState)
        setContentView(R.layout.activity_system_bar)
    }
}
  ]]>
    </c:sourceContent>
    <c:comment>
      <c:comment1>
        <![CDATA[]]>
      </c:comment1>
    </c:comment>
  </c:entry>




  <c:entry style="margin-top:1em;color:rgb(175, 0, 190);font-size:2.2em;">
    <c:title>System UI Controller for Jetpack Compose</c:title>
    <c:desc>
      <c:desc1 style="font-size:1.2em;"> <![CDATA[
        https://google.github.io/accompanist/systemuicontroller/
      ]]></c:desc1>
    </c:desc>
    <c:sourceContent type="" title="build.gradle.kts" id="sourceContent1" 
                     style="background-color:white;"
                     titleStyle="padding:.5em 0em 0em 0em;margin-top:0em;"
                     bodyStyle="background-color:white;padding:0;font-size:1.2em;line-height:1.3;font-family:monospace;">
                     <![CDATA[

# ./app/build.gradle.kts (Module)
dependencies {
    ....
+    // Jetpack Compose
+    implementation("androidx.compose.ui:ui:1.6.4")
+    implementation("androidx.compose.material:material:1.6.4")
+    implementation("androidx.compose.ui:ui-tooling-preview:1.6.4")
+    implementation("androidx.activity:activity-compose:1.8.2")
+
+    // System UI Controller - Accompanist
+    implementation("com.google.accompanist:accompanist-systemuicontroller:0.34.0")
}
  ]]>
    </c:sourceContent>
    <c:sourceContent type="" title="Color.kt" id="sourceContent1" 
                     style="background-color:white;"
                     titleStyle="padding:.5em 0em 0em 0em;margin-top:1em;"
                     bodyStyle="background-color:white;padding:0;font-size:1.2em;line-height:1.3;font-family:monospace;">
                     <![CDATA[
# app/src/main/java/com/android_labs/androidstudiotutorial/ui/theme/Color.kt 
import androidx.compose.ui.graphics.Color

val Purple200 = Color(0xFFBB86FC)
val Purple500 = Color(0xFF6200EE)
val Purple700 = Color(0xFF3700B3)
val Teal200 = Color(0xFF03DAC5)
  ]]>
    </c:sourceContent>
    <c:sourceContent type="" title="Shapes.kt" id="sourceContent1" 
                     style="background-color:white;"
                     titleStyle="padding:.5em 0em 0em 0em;margin-top:1em;"
                     bodyStyle="background-color:white;padding:0;font-size:1.2em;line-height:1.3;font-family:monospace;">
                     <![CDATA[
# app/src/main/java/com/android_labs/androidstudiotutorial/ui/theme/Shapes.kt 
import androidx.compose.foundation.shape.RoundedCornerShape
import androidx.compose.material.Shapes
import androidx.compose.ui.unit.dp

val Shapes = Shapes(
    small = RoundedCornerShape(4.dp),
    medium = RoundedCornerShape(4.dp),
    large = RoundedCornerShape(0.dp)
)
  ]]>
    </c:sourceContent>
    <c:sourceContent type="" title="Type.kt" id="sourceContent1" 
                     style="background-color:white;"
                     titleStyle="padding:.5em 0em 0em 0em;margin-top:1em;"
                     bodyStyle="background-color:white;padding:0;font-size:1.2em;line-height:1.3;font-family:monospace;">
                     <![CDATA[
# app/src/main/java/com/android_labs/androidstudiotutorial/ui/theme/Type.kt
import androidx.compose.material.Typography
import androidx.compose.ui.text.TextStyle
import androidx.compose.ui.text.font.FontFamily
import androidx.compose.ui.text.font.FontWeight
import androidx.compose.ui.unit.sp

// Set of Material typography styles to start with
val Typography = Typography(
    body1 = TextStyle(
        fontFamily = FontFamily.Default,
        fontWeight = FontWeight.Normal,
        fontSize = 16.sp
    )
    /* Other default text styles to override
    button = TextStyle(
        fontFamily = FontFamily.Default,
        fontWeight = FontWeight.W500,
        fontSize = 14.sp
    ),
    caption = TextStyle(
        fontFamily = FontFamily.Default,
        fontWeight = FontWeight.Normal,
        fontSize = 12.sp
    )
    */
)
  ]]>
    </c:sourceContent>
    <c:sourceContent type="" title="Theme.kt" id="sourceContent1" 
                     style="background-color:white;"
                     titleStyle="padding:.5em 0em 0em 0em;margin-top:1em;"
                     bodyStyle="background-color:white;padding:0;font-size:1.2em;line-height:1.3;font-family:monospace;">
                     <![CDATA[
# app/src/main/java/com/android_labs/androidstudiotutorial/ui/theme/Theme.kt
import androidx.compose.foundation.isSystemInDarkTheme
import androidx.compose.material.MaterialTheme
import androidx.compose.material.darkColors
import androidx.compose.material.lightColors
import androidx.compose.runtime.Composable
import androidx.compose.runtime.SideEffect
import androidx.compose.ui.graphics.Color
import com.google.accompanist.systemuicontroller.rememberSystemUiController

private val DarkColorPalette = darkColors(
    primary = Purple200,
    primaryVariant = Purple700,
    secondary = Teal200
)

private val LightColorPalette = lightColors(
    primary = Purple500,
    primaryVariant = Purple700,
    secondary = Teal200

    /* Other default colors to override
    background = Color.White,
    surface = Color.White,
    onPrimary = Color.White,
    onSecondary = Color.Black,
    onBackground = Color.Black,
    onSurface = Color.Black,
    */
)

@Composable
fun SystemBarColorsDemoTheme(
    darkTheme: Boolean = isSystemInDarkTheme(),
    content: @Composable() () -> Unit
) {
    val colors = if (darkTheme) {
        DarkColorPalette
    } else {
        LightColorPalette
    }

    val systemUiController = rememberSystemUiController()
    SideEffect {
        systemUiController.setSystemBarsColor(
            color = if (darkTheme) Color.LightGray else Teal200
        )
    }

    MaterialTheme(
        colors = colors,
        typography = Typography,
        shapes = Shapes,
        content = content
    )
}
  ]]>
    </c:sourceContent>
    <c:sourceContent type="" title="themes.xml" id="sourceContent1" 
                     style="background-color:white;"
                     titleStyle="padding:.5em 0em 0em 0em;margin-top:1em;"
                     bodyStyle="background-color:white;padding:0;font-size:1.2em;line-height:1.3;font-family:monospace;">
                     <![CDATA[
# app/src/main/res/values/themes.xml
<resources xmlns:tools="http://schemas.android.com/tools">
    ....
    <style name="UIControllerTheme">
        <item name="windowActionBar">true</item>
        <item name="windowNoTitle">false</item>
    </style>
</resources>
  ]]>
    </c:sourceContent>
    <c:sourceContent type="" title="themes.xml" id="sourceContent1" 
                     style="background-color:white;"
                     titleStyle="padding:.5em 0em 0em 0em;margin-top:1em;"
                     bodyStyle="background-color:white;padding:0;font-size:1.2em;line-height:1.3;font-family:monospace;">
                     <![CDATA[
# app/src/main/AndroidManifest.xml 
<?xml version="1.0" encoding="utf-8"?>
<manifest xmlns:android="http://schemas.android.com/apk/res/android"
    xmlns:tools="http://schemas.android.com/tools">

    <uses-permission android:name="android.permission.INTERNET" />
    <uses-permission android:name="android.permission.POST_NOTIFICATIONS" />
    <uses-permission android:name="android.permission.RECORD_AUDIO" />

    <application
        android:name=".TutorialApplication"
        android:allowBackup="true"
        android:dataExtractionRules="@xml/data_extraction_rules"
        android:fullBackupContent="@xml/backup_rules"
        android:icon="@mipmap/ic_launcher"
        android:label="@string/app_name"
        android:networkSecurityConfig="@xml/network_security_config"
        android:roundIcon="@mipmap/ic_launcher_round"
        android:supportsRtl="true"
        android:theme="@style/Theme.AndroidStudioTutorial"
        tools:targetApi="31">
+        ....
+        <activity
+            android:name=".activities.UIControllerActivity"
+++            android:theme="@style/UIControllerTheme"
+            android:exported="false" />
+        ....
    </application>

</manifest>
  ]]>
    </c:sourceContent>
    <c:sourceContent type="" title="UIControllerActivity.kt" id="sourceContent1" 
                     style="background-color:white;"
                     titleStyle="padding:.5em 0em 0em 0em;margin-top:1em;"
                     bodyStyle="background-color:white;padding:0;font-size:1.2em;line-height:1.3;font-family:monospace;">
                     <![CDATA[
# app/src/main/java/com/android_labs/androidstudiotutorial/activities/UIControllerActivity.kt 
import android.os.Bundle
import androidx.activity.ComponentActivity
import androidx.activity.compose.setContent
import androidx.compose.foundation.isSystemInDarkTheme
import com.android_labs.androidstudiotutorial.ui.theme.SystemBarColorsDemoTheme

class UIControllerActivity : ComponentActivity() {

    override fun onCreate(savedInstanceState: Bundle?) {
        super.onCreate(savedInstanceState)

        setContent{
            SystemBarColorsDemoTheme{
                isSystemInDarkTheme()
            }
        }
    }
}
  ]]>
    </c:sourceContent>
    <c:sourceContent type="" title="activity_uicontroller.xml" id="sourceContent1" 
                     style="background-color:white;"
                     titleStyle="padding:.5em 0em 0em 0em;margin-top:1em;"
                     bodyStyle="background-color:white;padding:0;font-size:1.2em;line-height:1.3;font-family:monospace;">
                     <![CDATA[
# app/src/main/res/layout/activity_uicontroller.xml
<?xml version="1.0" encoding="utf-8"?>
<LinearLayout
    xmlns:android="http://schemas.android.com/apk/res/android"
    xmlns:tools="http://schemas.android.com/tools"
    android:layout_width="match_parent"
    android:layout_height="match_parent"
    android:orientation="vertical"
    android:gravity="center"
    tools:context=".activities.UIControllerActivity">

    <TextView
        android:id="@+id/textView3"
        android:layout_width="wrap_content"
        android:layout_height="wrap_content"
        android:textSize="32sp"
        android:text="UIControllerActivity" />
</LinearLayout>
  ]]>
    </c:sourceContent>
    <c:comment>
      <c:comment1>
        <![CDATA[]]>
      </c:comment1>
    </c:comment>
  </c:entry>



  <c:entry style="margin-top:1em;color:rgb(175, 0, 190);font-size:2.2em;">
    <c:title>CountDown Timer</c:title>
    <c:desc>
      <c:desc1 style="font-size:1.2em;"> <![CDATA[

      ]]></c:desc1>
    </c:desc>
    <c:sourceContent type="" title="ring_progressbar_background1.xml" id="sourceContent1" 
                     style="background-color:white;"
                     titleStyle="padding:.5em 0em 0em 0em;margin-top:0em;"
                     bodyStyle="background-color:white;padding:0;font-size:1.2em;line-height:1.3;font-family:monospace;">
                     <![CDATA[
# app/src/main/res/drawable/ring_progressbar_background1.xml
<?xml version="1.0" encoding="utf-8"?>
<layer-list xmlns:android="http://schemas.android.com/apk/res/android">
    <item>
        <shape
            android:innerRadiusRatio="2.5"
            android:thicknessRatio="30.0"
            android:useLevel="false"
            android:shape="ring">
            <solid android:color="@color/orange" />
        </shape>
    </item>
</layer-list>
  ]]>
    </c:sourceContent>
    <c:sourceContent type="" title="ring_progressbar_background2.xml" id="sourceContent1" 
                     style="background-color:white;"
                     titleStyle="padding:.5em 0em 0em 0em;margin-top:1em;"
                     bodyStyle="background-color:white;padding:0;font-size:1.2em;line-height:1.3;font-family:monospace;">
                     <![CDATA[
# app/src/main/res/drawable/ring_progressbar_background2.xml
<?xml version="1.0" encoding="utf-8"?>
<layer-list xmlns:android="http://schemas.android.com/apk/res/android">
    <item>
        <shape
            android:innerRadiusRatio="2.5"
            android:shape="ring"
            android:thicknessRatio="30.0"
            android:useLevel="true">
            <gradient
                android:startColor="@color/grey"
                android:centerColor="@color/grey"
                android:endColor="@color/grey"/>
        </shape>
    </item>
</layer-list>
  ]]>
    </c:sourceContent>

    <c:sourceContent type="" title="oval_progressbar_background1.xml" id="sourceContent1" 
                     style="background-color:white;"
                     titleStyle="padding:.5em 0em 0em 0em;margin-top:0em;"
                     bodyStyle="background-color:white;padding:0;font-size:1.2em;line-height:1.3;font-family:monospace;">
                     <![CDATA[
# app/src/main/res/drawable/oval_progressbar_background1.xml
<?xml version="1.0" encoding="utf-8"?>
<layer-list xmlns:android="http://schemas.android.com/apk/res/android">
    <item>
        <shape
            android:innerRadiusRatio="1000"
            android:thicknessRatio="2.0"
            android:useLevel="false"
            android:shape="ring">
            <solid android:color="@color/orange" />
        </shape>
    </item>
</layer-list>
  ]]>
    </c:sourceContent>
    <c:sourceContent type="" title="oval_progressbar_background2.xml" id="sourceContent1" 
                     style="background-color:white;"
                     titleStyle="padding:.5em 0em 0em 0em;margin-top:1em;"
                     bodyStyle="background-color:white;padding:0;font-size:1.2em;line-height:1.3;font-family:monospace;">
                     <![CDATA[
# app/src/main/res/drawable/oval_progressbar_background2.xml
<?xml version="1.0" encoding="utf-8"?>
<layer-list xmlns:android="http://schemas.android.com/apk/res/android">
    <item>
        <shape
            android:innerRadiusRatio="1000"
            android:thicknessRatio="2.0"
            android:shape="ring"
            android:useLevel="true">
            <gradient
                android:startColor="@color/mainColor"
                android:centerColor="@color/mainColor"
                android:endColor="@color/mainColor"/>
        </shape>
    </item>
</layer-list>
  ]]>
    </c:sourceContent>
    <c:sourceContent type="" title="fragment_countdown_timer.xml" id="sourceContent1" 
                     style="background-color:white;"
                     titleStyle="padding:.5em 0em 0em 0em;margin-top:1em;"
                     bodyStyle="background-color:white;padding:0;font-size:1.2em;line-height:1.3;font-family:monospace;">
                     <![CDATA[
# app/src/main/res/layout/fragment_countdown_timer.xml
<?xml version="1.0" encoding="utf-8"?>
<LinearLayout
    xmlns:android="http://schemas.android.com/apk/res/android"
    xmlns:app="http://schemas.android.com/apk/res-auto"
    android:layout_width="match_parent"
    android:layout_height="match_parent"
    android:orientation="vertical"
    android:background="@color/white"
    android:gravity="center">

    <FrameLayout
        android:layout_width="80dp"
        android:layout_height="80dp"
        android:layout_gravity="right"
        android:layout_marginRight="60dp">

        <ProgressBar
            android:id="@+id/progressBar2"
            style="@style/Widget.AppCompat.ProgressBar.Horizontal"
            android:layout_width="match_parent"
            android:layout_height="match_parent"
            android:layout_gravity="center"
            android:indeterminate="false"
            android:max="0"
            android:progress="0"
            android:background="@drawable/oval_progressbar_background1"
            android:progressDrawable="@drawable/oval_progressbar_background2"
            android:rotation="-90">

        </ProgressBar>

    </FrameLayout>

    <FrameLayout
        android:layout_width="250dp"
        android:layout_height="250dp"
        android:layout_marginTop="20dp">

        <ProgressBar
            android:id="@+id/progressBar1"
            style="@style/Widget.AppCompat.ProgressBar.Horizontal"
            android:layout_width="match_parent"
            android:layout_height="match_parent"
            android:layout_gravity="center"
            android:indeterminate="false"
            android:max="0"
            android:progress="0"
            android:background="@drawable/ring_progressbar_background1"
            android:progressDrawable="@drawable/ring_progressbar_background2"
            android:rotation="-90">

        </ProgressBar>

        <LinearLayout
            android:layout_width="match_parent"
            android:layout_height="match_parent"
            android:orientation="vertical"
            android:gravity="center">

            <TextView
                android:id="@+id/timerLeftTxt"
                android:layout_width="match_parent"
                android:layout_height="wrap_content"
                android:gravity="center"
                android:text="0"
                android:textColor="#FF5722"
                android:textSize="46sp"
                android:textStyle="bold" />
            <TextView
                android:layout_width="match_parent"
                android:layout_height="wrap_content"
                android:text="sec time left"
                android:gravity="center"
                android:textSize="20sp"
                android:textColor="@color/yellow"/>
        </LinearLayout>
    </FrameLayout>

    <LinearLayout
        android:layout_width="match_parent"
        android:layout_height="wrap_content"
        android:orientation="horizontal"
        android:layout_margin="40dp">

        <ImageView
            android:id="@+id/timerEditBtn"
            android:layout_width="45dp"
            android:layout_height="45dp"
            android:src="@drawable/ic_plus24"
            android:layout_weight="1"
            app:tint="@color/primary" />

        <TextView
            android:id="@+id/timerAddBtn"
            android:layout_width="wrap_content"
            android:layout_height="wrap_content"
            android:gravity="center"
            android:layout_weight="1"
            android:layout_gravity="center_vertical"
            android:textSize="25sp"
            android:text="+15sec"/>

        <LinearLayout
            android:layout_width="wrap_content"
            android:layout_height="wrap_content"
            android:layout_gravity="center"
            android:gravity="center"
            android:layout_weight="1"
            android:orientation="horizontal">

            <ImageView
                android:id="@+id/timerResetBtn"
                android:layout_width="35dp"
                android:layout_height="35dp"
                android:layout_gravity="center_vertical"
                android:src="@drawable/ic_reset24"
                app:tint="@color/primary" />
            <TextView
                android:layout_marginLeft="5dp"
                android:layout_width="wrap_content"
                android:layout_height="wrap_content"
                android:gravity="center"
                android:layout_gravity="center_vertical"
                android:textSize="25sp"
                android:text="Reset"/>
        </LinearLayout>
    </LinearLayout>

    <androidx.appcompat.widget.AppCompatButton
        android:id="@+id/timerStartBtn"
        android:layout_width="match_parent"
        android:layout_height="wrap_content"
        android:layout_marginLeft="40dp"
        android:layout_marginTop="40dp"
        android:layout_marginRight="40dp"
        android:background="@color/primary"
        android:text="Start"
        android:textColor="@color/white"
        android:textSize="22dp" />

</LinearLayout>
  ]]>
    </c:sourceContent>
    <c:sourceContent type="" title="timer_add_dialog.xml" id="sourceContent1" 
                     style="background-color:white;"
                     titleStyle="padding:.5em 0em 0em 0em;margin-top:1em;"
                     bodyStyle="background-color:white;padding:0;font-size:1.2em;line-height:1.3;font-family:monospace;">
                     <![CDATA[
# app/src/main/res/layout/timer_add_dialog.xml
<?xml version="1.0" encoding="utf-8"?>
<androidx.constraintlayout.widget.ConstraintLayout
    xmlns:android="http://schemas.android.com/apk/res/android"
    xmlns:app="http://schemas.android.com/apk/res-auto"
    android:layout_width="match_parent"
    android:layout_height="wrap_content">

    <EditText
        android:id="@+id/timerLeftTxtInput"
        android:layout_width="match_parent"
        android:layout_height="wrap_content"
        android:layout_margin="10dp"
        android:ems="10"
        android:hint="00"
        android:inputType="numberDecimal"
        android:text=""
        android:textColor="@color/mainColor"
        app:layout_constraintEnd_toEndOf="parent"
        app:layout_constraintStart_toStartOf="parent"
        app:layout_constraintTop_toTopOf="parent" />

    <androidx.appcompat.widget.AppCompatButton
        android:id="@+id/timerLeftAddOkBtn"
        android:layout_width="match_parent"
        android:layout_height="wrap_content"
        android:background="@color/primary"
        android:text="Add"
        android:textColor="@color/white"
        android:textSize="18dp"
        android:layout_margin="10dp"
        app:layout_constraintEnd_toEndOf="parent"
        app:layout_constraintStart_toStartOf="parent"
        app:layout_constraintTop_toBottomOf="@+id/timerLeftTxtInput" />

</androidx.constraintlayout.widget.ConstraintLayout>
  ]]>
    </c:sourceContent>
    <c:sourceContent type="" title="CountDownTimerFragment.kt" id="sourceContent1" 
                     style="background-color:white;"
                     titleStyle="padding:.5em 0em 0em 0em;margin-top:1em;"
                     bodyStyle="background-color:white;padding:0;font-size:1.2em;line-height:1.3;font-family:monospace;">
                     <![CDATA[
# app/src/main/java/com/android_labs/androidstudiotutorial/fragments/CountDownTimerFragment.kt
class CountDownTimerFragment : Fragment() {

    private var isStart: Boolean = false
    private var timerCountDown: CountDownTimer? = null
    private val defaultValue = 100

    private lateinit var progressBar1: ProgressBar
    private lateinit var progressBar2: ProgressBar

    private lateinit var timerLeftTxt: TextView
    private lateinit var timerEditBtn: ImageView
    private lateinit var timerAddBtn: TextView
    private lateinit var timerResetBtn: ImageView
    private lateinit var timerStartBtn: AppCompatButton

    override fun onCreateView(
        inflater: LayoutInflater, container: ViewGroup?,
        savedInstanceState: Bundle?
    ): View? {
        val view = inflater.inflate(R.layout.fragment_countdown_timer, container, false)

        this.progressBar1 = view.findViewById(R.id.progressBar1)
        this.progressBar2 = view.findViewById(R.id.progressBar2)

        this.timerLeftTxt = view.findViewById(R.id.timerLeftTxt)
        this.timerEditBtn = view.findViewById(R.id.timerEditBtn)
        this.timerAddBtn = view.findViewById(R.id.timerAddBtn)
        this.timerResetBtn = view.findViewById(R.id.timerResetBtn)
        this.timerStartBtn = view.findViewById(R.id.timerStartBtn)

        this.timerEditBtn.setOnClickListener {
            val dialog = Dialog(requireContext())
            dialog.setContentView(R.layout.timer_add_dialog)

            val timerSetInput = dialog.findViewById<EditText>(R.id.timerLeftTxtInput)
            val timerLeftAddOkBtn = dialog.findViewById<AppCompatButton>(R.id.timerLeftAddOkBtn)

            timerLeftAddOkBtn.setOnClickListener {
                if (timerSetInput.text.isNotEmpty()) {
                    this@CountDownTimerFragment.reset(timerSetInput.text.toString().toInt())
                    this@CountDownTimerFragment.startTimer()

                    dialog.dismiss()
                }
            }

            dialog.show()
        }

        this.timerStartBtn.setOnClickListener {
            if (this.progressBar1.max > 0 && !this.isStart) {
                this.startTimer()
            } else {
                if (this.isStart) {
                    this.timerStartBtn.text = "Start"
                    this.isStart = false
                    this.timerCountDown?.cancel()
                }
            }
        }

        this.timerResetBtn.setOnClickListener {
            this@CountDownTimerFragment.reset(defaultValue)
        }

        this.timerAddBtn.setOnClickListener {
            this.progressBar1.max = (this.progressBar1.max + 15 * 1000)
            this.progressBar2.max = this.progressBar1.max

            this.timerCountDown?.cancel()
            this.startTimer()
        }

        this.timerLeftTxt.text = defaultValue.toString()

        this.progressBar1.max = defaultValue * 1000
        this.progressBar2.max = this.progressBar1.max

        return view
    }

    private fun reset(timeCount: Int) {
        this@CountDownTimerFragment.timerCountDown?.cancel()

        this@CountDownTimerFragment.progressBar1.progress = 0
        this@CountDownTimerFragment.progressBar2.progress = 0

        this@CountDownTimerFragment.timerStartBtn.text = "Start"
        this@CountDownTimerFragment.isStart = false
        this.timerLeftTxt.text = timeCount.toString()

        this.progressBar1.max = timeCount * 1000
        this.progressBar2.max = this.progressBar1.max
    }

    private fun startTimer() {
        this.timerCountDown = object : CountDownTimer(
            (this.progressBar1.max).toLong() - this@CountDownTimerFragment.progressBar1.progress, 10
        ) {
            override fun onTick(millisUntilFinished: Long) {
                this@CountDownTimerFragment.progressBar1.progress += 1 * 100
                this@CountDownTimerFragment.progressBar2.progress = this@CountDownTimerFragment.progressBar1.progress

                this@CountDownTimerFragment.timerLeftTxt.text =
                    ((this@CountDownTimerFragment.progressBar1.max - this@CountDownTimerFragment.progressBar1.progress) / 1000).toString()

                if (this@CountDownTimerFragment.progressBar1.progress == this@CountDownTimerFragment.progressBar1.max) {
                    this@CountDownTimerFragment.progressBar1.progress = 0
                    this@CountDownTimerFragment.progressBar2.progress = 0

                    this@CountDownTimerFragment.timerStartBtn.text = "Start"
                    this@CountDownTimerFragment.isStart = false
                    this@CountDownTimerFragment.timerLeftTxt.text =
                        (this@CountDownTimerFragment.progressBar1.max / 1000).toString()

                    this@CountDownTimerFragment.timerCountDown?.cancel()

                    Toast.makeText(
                        this@CountDownTimerFragment.requireContext(),
                        "Times Up!",
                        Toast.LENGTH_SHORT
                    ).show()
                }
            }

            override fun onFinish() {

            }
        }

        this.timerCountDown?.start()
        this.isStart = true
        this.timerStartBtn.text = "Pause"
    }

    override fun onDestroy() {
        super.onDestroy()
        this.timerCountDown?.cancel()
    }
}
  ]]>
    </c:sourceContent>
    <c:comment>
      <c:comment1>
        <![CDATA[]]>
      </c:comment1>
    </c:comment>
  </c:entry>







  <c:entry style="margin-top:1em;color:rgb(175, 0, 190);font-size:2.2em;">
    <c:title>Run a Repeatable Work</c:title>
    <c:desc>
      <c:desc1 style="font-size:1.2em;"> <![CDATA[

      ]]></c:desc1>
    </c:desc>
    <c:sourceContent type="" title="build.gradle.kts" id="sourceContent1" 
                     style="background-color:white;"
                     titleStyle="padding:.5em 0em 0em 0em;margin-top:0em;"
                     bodyStyle="background-color:white;padding:0;font-size:1.2em;line-height:1.3;font-family:monospace;">
                     <![CDATA[
# ./gradle/libs.versions.toml
[versions]
....
+ workRuntimeKtx = "2.9.0"

[libraries]
....
+ androidx-work-runtime-ktx = { group = "androidx.work", name = "work-runtime-ktx", version.ref = "workRuntimeKtx" }

# ./app/build.gradle.kts (Module)
dependencies {
    ....
+    implementation(libs.androidx.work.runtime.ktx)
}
  ]]>
    </c:sourceContent>
    <c:sourceContent type="" title="fragment_repeatable_work.xml" id="sourceContent1" 
                     style="background-color:white;"
                     titleStyle="padding:.5em 0em 0em 0em;margin-top:1em;"
                     bodyStyle="background-color:white;padding:0;font-size:1.2em;line-height:1.3;font-family:monospace;">
                     <![CDATA[
# app/src/main/res/drawable/fragment_repeatable_work.xml
<?xml version="1.0" encoding="utf-8"?>
<LinearLayout xmlns:android="http://schemas.android.com/apk/res/android"
    android:layout_width="match_parent"
    android:layout_height="match_parent"
    android:orientation="vertical"
    android:gravity="center">

    <TextView
        android:id="@+id/textView4"
        android:layout_width="wrap_content"
        android:layout_height="wrap_content"
        android:textSize="22sp"
        android:text="RepeatableWorkFragment" />
</LinearLayout>
  ]]>
    </c:sourceContent>
    <c:sourceContent type="" title="RepeatableWorkFragment.kt" id="sourceContent1" 
                     style="background-color:white;"
                     titleStyle="padding:.5em 0em 0em 0em;margin-top:1em;"
                     bodyStyle="background-color:white;padding:0;font-size:1.2em;line-height:1.3;font-family:monospace;">
                     <![CDATA[
# app/src/main/java/com/android_labs/androidstudiotutorial/fragments/RepeatableWorkFragment.kt 
class RepeatableWorkFragment : Fragment() {

    private val workManager: WorkManager by lazy { WorkManager.getInstance(requireContext()) }

    override fun onCreate(savedInstanceState: Bundle?) {
        super.onCreate(savedInstanceState)

        workManager.enqueueUniquePeriodicWork(
            "myWork",
            ExistingPeriodicWorkPolicy.CANCEL_AND_REENQUEUE,
            PeriodicWorkRequestBuilder<CustomerWork>(
                repeatInterval = 1, // 设置为1，表示每隔1个时间单位执行一次
                repeatIntervalTimeUnit = TimeUnit.SECONDS, // 设置时间单位为秒
                flexTimeInterval = 15, // 灵活执行时间间隔为0，表示无灵活性
                flexTimeIntervalUnit = TimeUnit.MINUTES
            ).setBackoffCriteria(
                backoffPolicy = BackoffPolicy.LINEAR,
                duration = Duration.ofSeconds(15)
            ).setConstraints(
                Constraints.Builder()
                    .setRequiredNetworkType(NetworkType.UNMETERED)
                    .setRequiresCharging(true)
                    .build()
            ).build()
        )

//        workManager.getWorkInfosForUniqueWorkLiveData("myWork").observe(viewLifecycleOwner) {
//            it.forEach { workInfo ->
//                Log.d("RepeatableWorkFragment", "${workInfo.state}")
//            }
//        }
    }

    override fun onCreateView(
        inflater: LayoutInflater, container: ViewGroup?,
        savedInstanceState: Bundle?
    ): View? {
        var view = inflater.inflate(R.layout.fragment_repeatable_work, container, false)
        return view
    }
}

# app/src/main/java/com/android_labs/androidstudiotutorial/CustomerWork.kt 
class CustomerWork(var context: Context, workerParameters: WorkerParameters) :
    CoroutineWorker(context, workerParameters) {
    override suspend fun doWork(): Result {

        Log.d("CustomerWork", "1")

        delay(1000)

+        WorkManager.getInstance(this.context).enqueue(
+            OneTimeWorkRequest.Builder(CustomerWork::class.java)
+                .setInitialDelay(1, TimeUnit.SECONDS)
+                .build()
+        )

        return Result.success()
    }
}
  ]]>
    </c:sourceContent>
    <c:sourceContent type="html" title="Enable App Inspection" id="sourceContent1" 
                     style="background-color:white;"
                     titleStyle="padding:.5em 0em 0em 0em;margin-top:1em;"
                     bodyStyle="background-color:white;padding:0;padding-top:.6em;font-size:1.2em;line-height:1.3;font-family:monospace;">
                     <![CDATA[

<img src="/images/android/app_inspection.png" width="100%" />

  ]]>
    </c:sourceContent>


    <c:comment>
      <c:comment1>
        <![CDATA[]]>
      </c:comment1>
    </c:comment>
  </c:entry>





  <c:entry style="margin-top:1em;color:rgb(175, 0, 190);font-size:2.2em;">
    <c:title>Build a GPS App</c:title>
    <c:desc>
      <c:desc1 style="font-size:1.2em;"> <![CDATA[

      ]]></c:desc1>
    </c:desc>
    <c:sourceContent type="" title="AndroidManifest.xml" id="sourceContent1" 
                     style="background-color:white;"
                     titleStyle="padding:.5em 0em 0em 0em;margin-top:1em;"
                     bodyStyle="background-color:white;padding:0;padding-top:.6em;font-size:1.2em;line-height:1.3;font-family:monospace;">
                     <![CDATA[
# app/src/main/AndroidManifest.xml 
<?xml version="1.0" encoding="utf-8"?>
<manifest xmlns:android="http://schemas.android.com/apk/res/android"
    xmlns:tools="http://schemas.android.com/tools">
    ...
+    <uses-permission android:name="android.permission.ACCESS_FINE_LOCATION" />
+    <uses-permission android:name="android.permission.ACCESS_COARSE_LOCATION" />
+    <uses-permission android:name="android.permission.ACCESS_BACKGROUND_LOCATION" />
    ...
</manifest>

  ]]>
    </c:sourceContent>

    <c:sourceContent type="" title="fragment_build_gps_app.xml" id="sourceContent1" 
                     style="background-color:white;"
                     titleStyle="padding:.5em 0em 0em 0em;margin-top:1em;"
                     bodyStyle="background-color:white;padding:0;font-size:1.2em;line-height:1.3;font-family:monospace;">
                     <![CDATA[
# app/src/main/res/layout/fragment_build_gps_app.xml
<?xml version="1.0" encoding="utf-8"?>
<LinearLayout
    xmlns:android="http://schemas.android.com/apk/res/android"
    android:layout_width="match_parent"
    android:layout_height="match_parent"
    android:orientation="vertical"
    android:layout_margin="8dp"
    android:gravity="left">

    <LinearLayout
        android:layout_marginTop="10dp"
        android:layout_width="match_parent"
        android:layout_height="wrap_content">

        <TextView
            android:id="@+id/tvLatLabel"
            android:layout_width="130dp"
            android:layout_height="wrap_content"
            android:paddingLeft="8dp"
            android:paddingRight="4dp"
            android:paddingTop="2dp"
            android:paddingBottom="2dp"
            android:background="#EDEDED"
            android:gravity="left"
            android:text="Lat:"
            android:textSize="22sp" />

        <TextView
            android:id="@+id/tvLat"
            android:layout_width="130dp"
            android:layout_height="wrap_content"
            android:layout_marginLeft="2dp"
            android:paddingLeft="8dp"
            android:paddingRight="4dp"
            android:paddingTop="2dp"
            android:paddingBottom="2dp"
            android:background="#EDEDED"
            android:textSize="22sp"
            android:layout_weight="1"
            android:gravity="left"
            android:textStyle="bold"
            android:text="0.00"/>
    </LinearLayout>

    <LinearLayout
        android:layout_width="match_parent"
        android:layout_height="wrap_content"
        android:layout_marginTop="2dp">

        <TextView
            android:id="@+id/tvLonLabel"
            android:layout_width="130dp"
            android:layout_height="wrap_content"
            android:paddingLeft="8dp"
            android:paddingRight="4dp"
            android:paddingTop="2dp"
            android:paddingBottom="2dp"
            android:background="#EDEDED"
            android:gravity="left"
            android:text="Lon:"
            android:textSize="22sp" />

        <TextView
            android:id="@+id/tvLon"
            android:layout_width="130dp"
            android:layout_height="wrap_content"
            android:layout_marginLeft="2dp"
            android:paddingLeft="8dp"
            android:paddingRight="4dp"
            android:paddingTop="2dp"
            android:paddingBottom="2dp"
            android:background="#EDEDED"
            android:textSize="22sp"
            android:layout_weight="1"
            android:gravity="left"
            android:textStyle="bold"
            android:text="0.00"/>
    </LinearLayout>


    <LinearLayout
        android:layout_width="match_parent"
        android:layout_height="wrap_content"
        android:layout_marginTop="2dp">

        <TextView
            android:id="@+id/tvAltitudeLabel"
            android:layout_width="130dp"
            android:layout_height="wrap_content"
            android:paddingLeft="8dp"
            android:paddingRight="4dp"
            android:paddingTop="2dp"
            android:paddingBottom="2dp"
            android:background="#EDEDED"
            android:gravity="left"
            android:text="Altitude:"
            android:textSize="22sp" />

        <TextView
            android:id="@+id/tvAltitude"
            android:layout_width="130dp"
            android:layout_height="wrap_content"
            android:layout_marginLeft="2dp"
            android:paddingLeft="8dp"
            android:paddingRight="4dp"
            android:paddingTop="2dp"
            android:paddingBottom="2dp"
            android:background="#EDEDED"
            android:textSize="22sp"
            android:layout_weight="1"
            android:gravity="left"
            android:textStyle="bold"
            android:maxLines="1"
            android:ellipsize="end"
            android:text="0.00"/>
    </LinearLayout>


    <LinearLayout
        android:layout_width="match_parent"
        android:layout_height="wrap_content"
        android:layout_marginTop="2dp">

        <TextView
            android:id="@+id/tvAccuracyLabel"
            android:layout_width="130dp"
            android:layout_height="wrap_content"
            android:paddingLeft="8dp"
            android:paddingRight="4dp"
            android:paddingTop="2dp"
            android:paddingBottom="2dp"
            android:background="#EDEDED"
            android:gravity="left"
            android:text="Accuracy:"
            android:textSize="22sp" />

        <TextView
            android:id="@+id/tvAccuracy"
            android:layout_width="130dp"
            android:layout_height="wrap_content"
            android:layout_marginLeft="2dp"
            android:paddingLeft="8dp"
            android:paddingRight="4dp"
            android:paddingTop="2dp"
            android:paddingBottom="2dp"
            android:background="#EDEDED"
            android:textSize="22sp"
            android:layout_weight="1"
            android:gravity="left"
            android:textStyle="bold"
            android:text="0.00"/>
    </LinearLayout>

    <LinearLayout
        android:layout_width="match_parent"
        android:layout_height="wrap_content"
        android:layout_marginTop="2dp">

        <TextView
            android:id="@+id/tvSpeedLabel"
            android:layout_width="130dp"
            android:layout_height="wrap_content"
            android:paddingLeft="8dp"
            android:paddingRight="4dp"
            android:paddingTop="2dp"
            android:paddingBottom="2dp"
            android:background="#EDEDED"
            android:gravity="left"
            android:text="Speed:"
            android:textSize="22sp" />

        <TextView
            android:id="@+id/tvSpeed"
            android:layout_width="130dp"
            android:layout_height="wrap_content"
            android:layout_marginLeft="2dp"
            android:paddingLeft="8dp"
            android:paddingRight="4dp"
            android:paddingTop="2dp"
            android:paddingBottom="2dp"
            android:background="#EDEDED"
            android:textSize="22sp"
            android:layout_weight="1"
            android:gravity="left"
            android:textStyle="bold"
            android:text="0.00"/>
    </LinearLayout>
    <LinearLayout
        android:layout_width="match_parent"
        android:layout_height="wrap_content"
        android:layout_marginTop="2dp">

        <TextView
            android:id="@+id/tvAddressLabel"
            android:layout_width="130dp"
            android:layout_height="match_parent"
            android:gravity="left|top"
            android:paddingLeft="8dp"
            android:paddingRight="4dp"
            android:paddingTop="2dp"
            android:paddingBottom="2dp"
            android:background="#EDEDED"
            android:text="Address:"
            android:textSize="22sp" />

        <TextView
            android:id="@+id/tvAddress"
            android:layout_width="130dp"
            android:layout_height="wrap_content"
            android:layout_marginLeft="2dp"
            android:layout_weight="1"
            android:background="#EDEDED"
            android:gravity="left|top"
            android:paddingLeft="8dp"
            android:paddingTop="2dp"
            android:paddingRight="4dp"
            android:paddingBottom="2dp"
            android:maxLines="3"
            android:singleLine="false"
            android:text="--"
            android:textSize="22sp"
            android:textStyle="bold" />

    </LinearLayout>

    <View
        android:id="@+id/divider"
        android:layout_width="match_parent"
        android:layout_height="1dp"
        android:layout_marginTop="20dp"
        android:layout_marginBottom="20dp"
        android:background="?android:attr/listDivider" />

    <Switch
        android:id="@+id/swUpdate"
        android:layout_width="wrap_content"
        android:layout_height="wrap_content"
        android:layout_gravity="right"
        android:textSize="18sp"
        android:text="Location Updates" />

    <LinearLayout
        android:layout_width="match_parent"
        android:layout_height="wrap_content"
        android:gravity="right"
        android:layout_marginTop="10dp"
        android:layout_marginRight="15dp">
        <TextView
            android:layout_width="150dp"
            android:layout_height="wrap_content"
            android:gravity="right"
            android:textSize="20sp"
            android:text="Updates: "/>
        <TextView
            android:id="@+id/tvUpdate"
            android:layout_width="wrap_content"
            android:layout_height="wrap_content"
            android:textSize="20sp"
            android:textStyle="bold"
            android:text="Off"/>
    </LinearLayout>

    <Switch
        android:id="@+id/swGps"
        android:layout_width="wrap_content"
        android:layout_height="wrap_content"
        android:layout_marginTop="20dp"
        android:layout_gravity="right"
        android:textSize="18sp"
        android:text="GPS/SavePower" />

    <LinearLayout
        android:layout_width="match_parent"
        android:layout_height="wrap_content"
        android:gravity="right"
        android:layout_marginTop="10dp"
        android:layout_marginRight="15dp">
        <TextView
            android:layout_width="150dp"
            android:layout_height="wrap_content"
            android:gravity="right"
            android:textSize="20sp"
            android:text="Sensor: "/>
        <TextView
            android:id="@+id/tvSensor"
            android:layout_width="wrap_content"
            android:layout_height="wrap_content"
            android:textSize="20sp"
            android:textStyle="bold"
            android:text="Cell Tower + Wifi"/>
    </LinearLayout>
</LinearLayout>
  ]]>
    </c:sourceContent>
    <c:sourceContent type="" title="BuildGpsAppFragment.kt" id="sourceContent1" 
                     style="background-color:white;"
                     titleStyle="padding:.5em 0em 0em 0em;margin-top:1em;"
                     bodyStyle="background-color:white;padding:0;font-size:1.2em;line-height:1.3;font-family:monospace;">
                     <![CDATA[
# app/src/main/java/com/android_labs/androidstudiotutorial/fragments/BuildGpsAppFragment.kt
const val PERMISSION_FINE_LOCATION = 99

class BuildGpsAppFragment : Fragment() {

    private lateinit var tvLat: TextView
    private lateinit var tvLon: TextView
    private lateinit var tvAltitude: TextView
    private lateinit var tvAccuracy: TextView
    private lateinit var tvSpeed: TextView
    private lateinit var tvAddress: TextView

    private lateinit var swUpdate: Switch
    private lateinit var swGps: Switch

    private lateinit var tvUpdate: TextView
    private lateinit var tvSensor: TextView

    // LocationRequest is a config file for all settings related to FusedLocationProviderClient
    private lateinit var locationRequest: LocationRequest

    // Google's API for location services. The majority of the app functions using this class.
    private lateinit var fusedLocationProviderClient: FusedLocationProviderClient

    private lateinit var locationCallback: LocationCallback
    private var updateCounts = 0

    override fun onCreateView(
        inflater: LayoutInflater, container: ViewGroup?,
        savedInstanceState: Bundle?
    ): View? {
        var view = inflater.inflate(R.layout.fragment_build_gps_app, container, false);

        this.tvLat = view.findViewById(R.id.tvLat)
        this.tvLon = view.findViewById(R.id.tvLon)
        this.tvAltitude = view.findViewById(R.id.tvAltitude)
        this.tvAccuracy = view.findViewById(R.id.tvAccuracy)
        this.tvSpeed = view.findViewById(R.id.tvSpeed)
        this.tvAddress = view.findViewById(R.id.tvAddress)

        this.swUpdate = view.findViewById(R.id.swUpdate)
        this.swGps = view.findViewById(R.id.swGps)

        this.tvUpdate = view.findViewById(R.id.tvUpdate)
        this.tvSensor = view.findViewById(R.id.tvSensor)

        this.locationRequest = LocationRequest()
        this.locationRequest.setInterval(1000 * 30)
        this.locationRequest.setFastestInterval(1000 * 5)
        this.locationRequest.setPriority(LocationRequest.PRIORITY_BALANCED_POWER_ACCURACY)

        this.swGps.setOnCheckedChangeListener { _, isChecked ->
            if (isChecked) {
                // most accurate - use GPS
                this.locationRequest.setPriority(LocationRequest.PRIORITY_HIGH_ACCURACY)
                this.tvSensor.text = "Using GPS sensors"
            } else {
                this.locationRequest.setPriority(LocationRequest.PRIORITY_BALANCED_POWER_ACCURACY)
                this.tvSensor.text = "Using Towers + Wifi"
            }
        }

        this.swUpdate.setOnCheckedChangeListener { _, isChecked ->
            if (isChecked) {
                // turn on location tracking
                startLocationUpdates()
            } else {
                // turn off tracking
                stopLocationUpdates()
            }
        }

        this.locationCallback = object: LocationCallback() {
            override fun onLocationResult(p0: LocationResult) {
                super.onLocationResult(p0)

                p0.lastLocation?.let {
                    updateUiValues(it)
                }
            }
        }

        updateGPS();

        return view
    }

    private fun stopLocationUpdates() {
        this.tvUpdate.text = "Off"
        this.fusedLocationProviderClient.removeLocationUpdates(this.locationCallback)
    }

    @SuppressLint("MissingPermission")
    private fun startLocationUpdates() {
        this.tvUpdate.text = "On"
        this.fusedLocationProviderClient.requestLocationUpdates(this.locationRequest, this.locationCallback, null)
        updateGPS()
    }

    @SuppressLint("MissingPermission")
    fun updateGPS() {
        // get permissions from the user to track GPS
        // get the current location from the fused client
        // update the UI - i.e. set all properties in their associated text view items.
        this.fusedLocationProviderClient =
            LocationServices.getFusedLocationProviderClient(requireActivity())

        if (hasPermission(requireActivity(), listOf(ACCESS_FINE_LOCATION, ACCESS_COARSE_LOCATION))) {
            // use the provided the permission
            this.fusedLocationProviderClient.lastLocation.addOnSuccessListener {
                updateUiValues(it)
            }
        } else {
            // permission not granted yet.
            if (Build.VERSION.SDK_INT >= Build.VERSION_CODES.M) {
                requestPermission(
                    requireActivity(),
                    listOf(ACCESS_FINE_LOCATION, ACCESS_COARSE_LOCATION),
                    PERMISSION_FINE_LOCATION
                )
            }
        }
    }

    private fun updateUiValues(location: Location) {
        this.tvLat.text = location.latitude.toString()
        this.tvLon.text = location.longitude.toString()

        if (location.hasAccuracy()) {
            this.tvAccuracy.text = location.accuracy.toString()
        } else {
            this.tvAccuracy.text = "Not available"
        }

        if (location.hasAltitude()) {
            this.tvAltitude.text = location.altitude.toString()
        } else {
            this.tvAltitude.text = "Not available"
        }

        if (location.hasSpeed()) {
            this.tvSpeed.text = location.speed.toString()
        } else {
            this.tvSpeed.text = "Not available"
        }

        try {
            var geo = Geocoder(requireActivity())
            var address = geo.getFromLocation(location.latitude, location.longitude, 1)
            var countryName = address?.get(0)?.countryName
            var countryCode = address?.get(0)?.countryCode
            this.tvAddress.text = countryName + "[" + countryCode + "], " + address?.get(0)?.getAddressLine(0)
        } catch (e: Exception) {
            this.tvAddress.text = "Unable to get street address"
        }

        if (this.tvUpdate.text.startsWith("On")) {
            this.updateCounts += 1
            this.tvUpdate.text = "On(${this.updateCounts})"
        }
    }

    private fun hasPermission(activity: Activity, permission: List<String>): Boolean {
        for (p in permission) {
            if (ContextCompat.checkSelfPermission(
                    activity,
                    p
                ) != PackageManager.PERMISSION_GRANTED) {
                return false
            }
        }

        return true
    }

    private fun requestPermission(activity: Activity, permission: List<String>, code: Int) {
        ActivityCompat.requestPermissions(
            activity,
            permission.toTypedArray(),
            code
        )
    }

    override fun onRequestPermissionsResult(
        requestCode: Int,
        permissions: Array<out String>,
        grantResults: IntArray
    ) {
        super.onRequestPermissionsResult(requestCode, permissions, grantResults)

        if (requestCode == PERMISSION_FINE_LOCATION) {
            var allGranted = true

            for (gr in grantResults) {
                if (gr != PackageManager.PERMISSION_GRANTED) {
                    allGranted = false
                }
            }

            if (!allGranted) {
                Toast.makeText(
                    requireContext(),
                    "This app requires permission to be granted in order to work property",
                    Toast.LENGTH_SHORT
                ).show()
                activity?.finish()
            } else {
                updateGPS()
            }

            return
        }
    }
}
  ]]>
    </c:sourceContent>

    <c:comment>
      <c:comment1>
        <![CDATA[]]>
      </c:comment1>
    </c:comment>
  </c:entry>







  <c:entry style="margin-top:1em;color:rgb(175, 0, 190);font-size:2.2em;">
    <c:title>Execute an important work using WorkManager</c:title>
    <c:desc>
      <c:desc1 style="font-size:1.2em;"> <![CDATA[

      ]]></c:desc1>
    </c:desc>
    <c:sourceContent type="" title="AndroidManifest.xml" id="sourceContent1" 
                     style="background-color:white;"
                     titleStyle="padding:.5em 0em 0em 0em;margin-top:1em;"
                     bodyStyle="background-color:white;padding:0;padding-top:.6em;font-size:1.2em;line-height:1.3;font-family:monospace;">
                     <![CDATA[
# app/src/main/AndroidManifest.xml 


  ]]>
    </c:sourceContent>

    <c:sourceContent type="" title="fragment_important_work.xml" id="sourceContent1" 
                     style="background-color:white;"
                     titleStyle="padding:.5em 0em 0em 0em;margin-top:1em;"
                     bodyStyle="background-color:white;padding:0;font-size:1.2em;line-height:1.3;font-family:monospace;">
                     <![CDATA[
# app/src/main/res/layout/fragment_important_work.xml

  ]]>
    </c:sourceContent>

    <c:sourceContent type="" title="ImportantWorkFragment.kt" id="sourceContent1" 
                     style="background-color:white;"
                     titleStyle="padding:.5em 0em 0em 0em;margin-top:1em;"
                     bodyStyle="background-color:white;padding:0;font-size:1.2em;line-height:1.3;font-family:monospace;">
                     <![CDATA[
# app/src/main/java/com/android_labs/androidstudiotutorial/fragments/ImportantWorkFragment.kt
class ImportantWorkFragment: Fragment() {

    private val workManager: WorkManager by lazy { WorkManager.getInstance(requireContext()) }

    override fun onCreate(savedInstanceState: Bundle?) {
        super.onCreate(savedInstanceState)

        workManager.enqueue(
            OneTimeWorkRequestBuilder<CustomerWork>()
                .setExpedited(OutOfQuotaPolicy.RUN_AS_NON_EXPEDITED_WORK_REQUEST)
                // .setInitialDelay(Duration.ofSeconds(1))
                .setBackoffCriteria(
                    backoffPolicy = BackoffPolicy.LINEAR,
                    duration = Duration.ofSeconds(15)
                ).build()
        )
    }

    override fun onCreateView(
        inflater: LayoutInflater, container: ViewGroup?,
        savedInstanceState: Bundle?
    ): View? {
        return inflater.inflate(R.layout.fragment_important_work, container, false)
    }
}

# app/src/main/java/com/android_labs/androidstudiotutorial/CustomerWork.kt
class CustomerWork(var context: Context, workerParameters: WorkerParameters) :
    CoroutineWorker(context, workerParameters) {
    override suspend fun doWork(): Result {

        Log.d("CustomerWork", "1")
        delay(1000)
        return Result.success()
    }

    override suspend fun getForegroundInfo(): ForegroundInfo {
        return super.getForegroundInfo()
    }
}
  ]]>
    </c:sourceContent>

    <c:comment>
      <c:comment1>
        <![CDATA[]]>
      </c:comment1>
    </c:comment>
  </c:entry>





  <c:entry style="margin-top:1em;color:rgb(175, 0, 190);font-size:2.2em;">
    <c:title>Create app Icon</c:title>
    <c:desc>
      <c:desc1 style="font-size:1.2em;"> <![CDATA[

      ]]></c:desc1>
    </c:desc>
    <c:sourceContent type="" title="AndroidManifest.xml" id="sourceContent1" 
                     style="background-color:white;"
                     titleStyle="padding:.5em 0em 0em 0em;margin-top:1em;"
                     bodyStyle="background-color:white;padding:0;padding-top:.6em;font-size:1.2em;line-height:1.3;font-family:monospace;">
                     <![CDATA[
# app/src/main/AndroidManifest.xml 


  ]]>
    </c:sourceContent>

    <c:sourceContent type="" title="fragment_important_work.xml" id="sourceContent1" 
                     style="background-color:white;"
                     titleStyle="padding:.5em 0em 0em 0em;margin-top:1em;"
                     bodyStyle="background-color:white;padding:0;font-size:1.2em;line-height:1.3;font-family:monospace;">
                     <![CDATA[
# app/src/main/res/layout/fragment_important_work.xml

  ]]>
    </c:sourceContent>

    <c:comment>
      <c:comment1>
        <![CDATA[]]>
      </c:comment1>
    </c:comment>
  </c:entry>



</c:component>
